"use strict";(self.webpackChunkclinica_vallejo=self.webpackChunkclinica_vallejo||[]).push([[179],{2011:(pt,Ae,k)=>{k.d(Ae,{Dh:()=>he,GT:()=>me,cc:()=>Le,hO:()=>Ue,on:()=>W,pX:()=>ce,xv:()=>ye});var l=k(4650),U=k(127),H=k(5813);pt=k.hmd(pt);const se=["ngOnDestroy"],ce=(ge,nt,et,ke={})=>new Proxy(ge,{get:(Ve,Me)=>et.runOutsideAngular(()=>{var Ye;if(ge[Me])return!(null===(Ye=ke?.spy)||void 0===Ye)&&Ye.get&&ke.spy.get(Me,ge[Me]),ge[Me];if(se.indexOf(Me)>-1)return()=>{};const ie=nt.toPromise().then(de=>{const _e=de&&de[Me];return"function"==typeof _e?_e.bind(de):_e&&_e.then?_e.then(Q=>et.run(()=>Q)):et.run(()=>_e)});return new Proxy(()=>{},{get:(de,_e)=>ie[_e],apply:(de,_e,Q)=>ie.then(X=>{var pe;const oe=X&&X(...Q);return!(null===(pe=ke?.spy)||void 0===pe)&&pe.apply&&ke.spy.apply(Me,Q,oe),oe})})})}),me=(ge,nt)=>{nt.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(ke=>{Object.defineProperty(ge.prototype,ke,Object.getOwnPropertyDescriptor(et.prototype||et,ke))})})};class le{constructor(nt){return nt}}const he=new l.OlP("angularfire2.app.options"),ye=new l.OlP("angularfire2.app.name");function W(ge,nt,et){const Ve="object"==typeof et&&et||{};Ve.name=Ve.name||"string"==typeof et&&et||"[DEFAULT]";const Ye=U.Z.apps.filter(ie=>ie&&ie.name===Ve.name)[0]||nt.runOutsideAngular(()=>U.Z.initializeApp(ge,Ve));try{JSON.stringify(ge)!==JSON.stringify(Ye.options)&&j("error",`${Ye.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Ye)}const j=(ge,...nt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...nt)},J={provide:le,useFactory:W,deps:[he,l.R0b,[new l.FiY,ye]]};let Ue=(()=>{class ge{constructor(et){U.Z.registerVersion("angularfire",H.q4.full,"core"),U.Z.registerVersion("angularfire",H.q4.full,"app-compat"),U.Z.registerVersion("angular",l.q4F.full,et.toString())}static initializeApp(et,ke){return{ngModule:ge,providers:[{provide:he,useValue:et},{provide:ye,useValue:ke}]}}}return ge.\u0275fac=function(et){return new(et||ge)(l.LFG(l.Lbi))},ge.\u0275mod=l.oAB({type:ge}),ge.\u0275inj=l.cJS({providers:[J]}),ge})();function Le(ge,nt,et,ke,Ve){const[,Me,Ye]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===ge)||[];if(Me)return function xe(ge,nt){try{return ge.toString()===nt.toString()}catch{return ge===nt}}(Ve,Ye)||(be("error",`${nt} was already initialized on the ${et} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Ve,was:Ye})),Me;{const ie=ke();return globalThis.\u0275AngularfireInstanceCache.push([ge,ie,Ve]),ie}}const at=!!pt.hot,be=(ge,...nt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(pt,Ae,k)=>{k.d(Ae,{q4:()=>da,iC:()=>jn,HU:()=>d1,vb:()=>ii,JM:()=>H2,u3:()=>wn});var l=k(4650),U=k(5867),H=k(5861),se=k(9681),ce=k(2090),me=k(4859),le=k(1877),he=k(8766);const ye="@firebase/installations",W="0.5.15",J=`w:${W}`,Ue="FIS_v2",nt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function ke({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ve(D){return{token:D.token,requestStatus:2,expiresIn:X(D.expiresIn),creationTime:Date.now()}}function Me(D,S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,H.Z)(function*(D,S){const F=(yield S.json()).error;return nt.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function ie({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function de(D,{refreshToken:S}){const I=ie(D);return I.append("Authorization",function pe(D){return`${Ue} ${D}`}(S)),I}function _e(D){return Q.apply(this,arguments)}function Q(){return(Q=(0,H.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function X(D){return Number(D.replace("s","000"))}function oe(D,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,H.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:I}){const F=ke(D),K=ie(D),ae=S.getImmediate({optional:!0});if(ae){const Tt=yield ae.getHeartbeatsHeader();Tt&&K.append("x-firebase-client",Tt)}const We={method:"POST",headers:K,body:JSON.stringify({fid:I,authVersion:Ue,appId:D.appId,sdkVersion:J})},yt=yield _e(()=>fetch(F,We));if(yt.ok){const Tt=yield yt.json();return{fid:Tt.fid||I,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Ve(Tt.authToken)}}throw yield Me("Create Installation",yt)})).apply(this,arguments)}function Be(D){return new Promise(S=>{setTimeout(S,D)})}const sn=/^[cdef][\w-]{21}$/;function Ke(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const I=function dn(D){return function Ct(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return sn.test(I)?I:""}catch{return""}}function xn(D){return`${D.appName}!${D.appId}`}const nn=new Map;function rn(D,S){const I=xn(D);Lr(I,S),function Oi(D,S){const I=function Rn(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=D=>{Lr(D.data.key,D.data.fid)}),jr}();I&&I.postMessage({key:D,fid:S}),function Ki(){0===nn.size&&jr&&(jr.close(),jr=null)}()}(I,S)}function Lr(D,S){const I=nn.get(D);if(I)for(const F of I)F(S)}let jr=null;const qn="firebase-installations-store";let Ai=null;function Ji(){return Ai||(Ai=(0,he.X3)("firebase-installations-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(qn)}})),Ai}function tt(D,S){return nr.apply(this,arguments)}function nr(){return(nr=(0,H.Z)(function*(D,S){const I=xn(D),K=(yield Ji()).transaction(qn,"readwrite"),ae=K.objectStore(qn),Ce=yield ae.get(I);return yield ae.put(S,I),yield K.done,(!Ce||Ce.fid!==S.fid)&&rn(D,S.fid),S})).apply(this,arguments)}function Zn(D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,H.Z)(function*(D){const S=xn(D),F=(yield Ji()).transaction(qn,"readwrite");yield F.objectStore(qn).delete(S),yield F.done})).apply(this,arguments)}function br(D,S){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,H.Z)(function*(D,S){const I=xn(D),K=(yield Ji()).transaction(qn,"readwrite"),ae=K.objectStore(qn),Ce=yield ae.get(I),We=S(Ce);return void 0===We?yield ae.delete(I):yield ae.put(We,I),yield K.done,We&&(!Ce||Ce.fid!==We.fid)&&rn(D,We.fid),We})).apply(this,arguments)}function Dn(D){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,H.Z)(function*(D){let S;const I=yield br(D.appConfig,F=>{const K=yn(F),ae=mt(D,K);return S=ae.registrationPromise,ae.installationEntry});return""===I.fid?{installationEntry:yield S}:{installationEntry:I,registrationPromise:S}})).apply(this,arguments)}function yn(D){return Et(D||{fid:Ke(),registrationStatus:0})}function mt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(nt.create("app-offline"))};const I={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},F=function vt(D,S){return Vt.apply(this,arguments)}(D,I);return{installationEntry:I,registrationPromise:F}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Xr(D)}:{installationEntry:S}}function Vt(){return(Vt=(0,H.Z)(function*(D,S){try{const I=yield oe(D,S);return tt(D.appConfig,I)}catch(I){throw et(I)&&409===I.customData.serverCode?yield Zn(D.appConfig):yield tt(D.appConfig,{fid:S.fid,registrationStatus:0}),I}})).apply(this,arguments)}function Xr(D){return rr.apply(this,arguments)}function rr(){return(rr=(0,H.Z)(function*(D){let S=yield zr(D.appConfig);for(;1===S.registrationStatus;)yield Be(100),S=yield zr(D.appConfig);if(0===S.registrationStatus){const{installationEntry:I,registrationPromise:F}=yield Dn(D);return F||I}return S})).apply(this,arguments)}function zr(D){return br(D,S=>{if(!S)throw nt.create("installation-not-found");return Et(S)})}function Et(D){return function Wr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ft(D,S){return ui.apply(this,arguments)}function ui(){return(ui=(0,H.Z)(function*({appConfig:D,heartbeatServiceProvider:S},I){const F=Qt(D,I),K=de(D,I),ae=S.getImmediate({optional:!0});if(ae){const Tt=yield ae.getHeartbeatsHeader();Tt&&K.append("x-firebase-client",Tt)}const We={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:J,appId:D.appId}})},yt=yield _e(()=>fetch(F,We));if(yt.ok)return Ve(yield yt.json());throw yield Me("Generate Auth Token",yt)})).apply(this,arguments)}function Qt(D,{fid:S}){return`${ke(D)}/${S}/authTokens:generate`}function hr(D){return In.apply(this,arguments)}function In(){return(In=(0,H.Z)(function*(D,S=!1){let I;const F=yield br(D.appConfig,ae=>{if(!en(ae))throw nt.create("not-registered");const Ce=ae.authToken;if(!S&&$(Ce))return ae;if(1===Ce.requestStatus)return I=it(D,S),ae;{if(!navigator.onLine)throw nt.create("app-offline");const We=Z(ae);return I=xt(D,We),We}});return I?yield I:F.authToken})).apply(this,arguments)}function it(D,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,H.Z)(function*(D,S){let I=yield st(D.appConfig);for(;1===I.authToken.requestStatus;)yield Be(100),I=yield st(D.appConfig);const F=I.authToken;return 0===F.requestStatus?hr(D,S):F})).apply(this,arguments)}function st(D){return br(D,S=>{if(!en(S))throw nt.create("not-registered");return function B(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function xt(D,S){return St.apply(this,arguments)}function St(){return(St=(0,H.Z)(function*(D,S){try{const I=yield Ft(D,S),F=Object.assign(Object.assign({},S),{authToken:I});return yield tt(D.appConfig,F),I}catch(I){if(!et(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const F=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield tt(D.appConfig,F)}else yield Zn(D.appConfig);throw I}})).apply(this,arguments)}function en(D){return void 0!==D&&2===D.registrationStatus}function $(D){return 2===D.requestStatus&&!function G(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function Z(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function O(){return(O=(0,H.Z)(function*(D){const S=D,{installationEntry:I,registrationPromise:F}=yield Dn(S);return F?F.catch(console.error):hr(S).catch(console.error),I.fid})).apply(this,arguments)}function ze(){return(ze=(0,H.Z)(function*(D,S=!1){const I=D;return yield lt(I),(yield hr(I,S)).token})).apply(this,arguments)}function lt(D){return ut.apply(this,arguments)}function ut(){return(ut=(0,H.Z)(function*(D){const{registrationPromise:S}=yield Dn(D);S&&(yield S)})).apply(this,arguments)}function Y2(D){return nt.create("missing-app-config-values",{valueName:D})}const N1="installations",K2=D=>{const S=D.getProvider("app").getImmediate(),I=function An(D){if(!D||!D.options)throw Y2("App Configuration");if(!D.name)throw Y2("App Name");const S=["projectId","apiKey","appId"];for(const I of S)if(!D.options[I])throw Y2(I);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:I,heartbeatServiceProvider:(0,se._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Q2=D=>{const S=D.getProvider("app").getImmediate(),I=(0,se._getProvider)(S,N1).getImmediate();return{getId:()=>function T(D){return O.apply(this,arguments)}(I),getToken:K=>function ne(D){return ze.apply(this,arguments)}(I,K)}};(function io(){(0,se._registerComponent)(new me.wA(N1,K2,"PUBLIC")),(0,se._registerComponent)(new me.wA("installations-internal",Q2,"PRIVATE"))})(),(0,se.registerVersion)(ye,W),(0,se.registerVersion)(ye,W,"esm2017");const e2="@firebase/remote-config",Kn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _s{constructor(S,I,F,K){this.client=S,this.storage=I,this.storageCache=F,this.logger=K}isCachedDataFresh(S,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-I,K=F<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${K}.`),K}fetch(S){var I=this;return(0,H.Z)(function*(){const[F,K]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(K&&I.isCachedDataFresh(S.cacheMaxAgeMillis,F))return K;S.eTag=K&&K.eTag;const ae=yield I.client.fetch(S),Ce=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Ce.push(I.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Ce),ae})()}}function n2(D=navigator){return D.languages&&D.languages[0]||D.language}class n1{constructor(S,I,F,K,ae,Ce){this.firebaseInstallations=S,this.sdkVersion=I,this.namespace=F,this.projectId=K,this.apiKey=ae,this.appId=Ce}fetch(S){var I=this;return(0,H.Z)(function*(){var F,K,ae;const[Ce,We]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},_t={sdk_version:I.sdkVersion,app_instance_id:Ce,app_instance_id_token:We,app_id:I.appId,language_code:n2()},Qn={method:"POST",headers:Rt,body:JSON.stringify(_t)},Ar=fetch(Tt,Qn),p1=new Promise((z2,xr)=>{S.signal.addEventListener(()=>{const bc=new Error("The operation was aborted.");bc.name="AbortError",xr(bc)})});let Bt;try{yield Promise.race([Ar,p1]),Bt=yield Ar}catch(z2){let xr="fetch-client-network";throw"AbortError"===(null===(F=z2)||void 0===F?void 0:F.name)&&(xr="fetch-timeout"),Kn.create(xr,{originalErrorMessage:null===(K=z2)||void 0===K?void 0:K.message})}let Er=Bt.status;const g1=Bt.headers.get("ETag")||void 0;let L2,wo;if(200===Bt.status){let z2;try{z2=yield Bt.json()}catch(xr){throw Kn.create("fetch-client-parse",{originalErrorMessage:null===(ae=xr)||void 0===ae?void 0:ae.message})}L2=z2.entries,wo=z2.state}if("INSTANCE_STATE_UNSPECIFIED"===wo?Er=500:"NO_CHANGE"===wo?Er=304:("NO_TEMPLATE"===wo||"EMPTY_CONFIG"===wo)&&(L2={}),304!==Er&&200!==Er)throw Kn.create("fetch-status",{httpStatus:Er});return{status:Er,eTag:g1,config:L2}})()}}class r2{constructor(S,I){this.client=S,this.storage=I}fetch(S){var I=this;return(0,H.Z)(function*(){const F=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(S,F)})()}attemptFetch(S,{throttleEndTimeMillis:I,backoffCount:F}){var K=this;return(0,H.Z)(function*(){yield function hi(D,S){return new Promise((I,F)=>{const K=Math.max(S-Date.now(),0),ae=setTimeout(I,K);D.addEventListener(()=>{clearTimeout(ae),F(Kn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,I);try{const ae=yield K.client.fetch(S);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Gl(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ae))throw ae;const Ce={throttleEndTimeMillis:Date.now()+(0,ce.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(Ce),K.attemptFetch(S,Ce)}})()}}class U3{constructor(S,I,F,K,ae){this.app=S,this._client=I,this._storageCache=F,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cs(D,S){var I;const F=D.target.error||void 0;return Kn.create(S,{originalErrorMessage:F&&(null===(I=F)||void 0===I?void 0:I.message)})}const I1="app_namespace_store";class Ka{constructor(S,I,F,K=function Wl(){return new Promise((D,S)=>{var I;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=K=>{S(Cs(K,"storage-open"))},F.onsuccess=K=>{D(K.target.result)},F.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(I1,{keyPath:"compositeKey"})}}catch(F){S(Kn.create("storage-open",{originalErrorMessage:null===(I=F)||void 0===I?void 0:I.message}))}})}()){this.appId=S,this.appName=I,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var I=this;return(0,H.Z)(function*(){const F=yield I.openDbPromise;return new Promise((K,ae)=>{var Ce;const yt=F.transaction([I1],"readonly").objectStore(I1),Tt=I.createCompositeKey(S);try{const Rt=yt.get(Tt);Rt.onerror=_t=>{ae(Cs(_t,"storage-get"))},Rt.onsuccess=_t=>{const Qn=_t.target.result;K(Qn?Qn.value:void 0)}}catch(Rt){ae(Kn.create("storage-get",{originalErrorMessage:null===(Ce=Rt)||void 0===Ce?void 0:Ce.message}))}})})()}set(S,I){var F=this;return(0,H.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ae,Ce)=>{var We;const Tt=K.transaction([I1],"readwrite").objectStore(I1),Rt=F.createCompositeKey(S);try{const _t=Tt.put({compositeKey:Rt,value:I});_t.onerror=Qn=>{Ce(Cs(Qn,"storage-set"))},_t.onsuccess=()=>{ae()}}catch(_t){Ce(Kn.create("storage-set",{originalErrorMessage:null===(We=_t)||void 0===We?void 0:We.message}))}})})()}delete(S){var I=this;return(0,H.Z)(function*(){const F=yield I.openDbPromise;return new Promise((K,ae)=>{var Ce;const yt=F.transaction([I1],"readwrite").objectStore(I1),Tt=I.createCompositeKey(S);try{const Rt=yt.delete(Tt);Rt.onerror=_t=>{ae(Cs(_t,"storage-delete"))},Rt.onsuccess=()=>{K()}}catch(Rt){ae(Kn.create("storage-delete",{originalErrorMessage:null===(Ce=Rt)||void 0===Ce?void 0:Ce.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class T1{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,H.Z)(function*(){const I=S.storage.getLastFetchStatus(),F=S.storage.getLastSuccessfulFetchTimestampMillis(),K=S.storage.getActiveConfig(),ae=yield I;ae&&(S.lastFetchStatus=ae);const Ce=yield F;Ce&&(S.lastSuccessfulFetchTimestampMillis=Ce);const We=yield K;We&&(S.activeConfig=We)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Mu(){return oo.apply(this,arguments)}function oo(){return(oo=(0,H.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Qa(){(0,se._registerComponent)(new me.wA("remote-config",function D(S,{instanceIdentifier:I}){const F=S.getProvider("app").getImmediate(),K=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!(0,ce.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:ae,apiKey:Ce,appId:We}=F.options;if(!ae)throw Kn.create("registration-project-id");if(!Ce)throw Kn.create("registration-api-key");if(!We)throw Kn.create("registration-app-id");const yt=new Ka(We,F.name,I=I||"firebase"),Tt=new T1(yt),Rt=new le.Yd(e2);Rt.logLevel=le.in.ERROR;const _t=new n1(K,se.SDK_VERSION,I,ae,Ce,We),Qn=new r2(_t,yt),Ar=new _s(Qn,yt,Tt,Rt),p1=new U3(F,Ar,Tt,yt,Rt);return function Tn(D){const S=(0,ce.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(p1),p1},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(e2,"0.3.14"),(0,se.registerVersion)(e2,"0.3.14","esm2017")}();const Dr="/firebase-messaging-sw.js",s2="/firebase-cloud-messaging-push-scope",D2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ao="google.c.a.c_id",Zo="google.c.a.c_l",ec="google.c.a.ts",H1="google.c.a.e";var gi=(()=>{return(D=gi||(gi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",gi;var D})();function o2(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ni(D){const I=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(I),K=new Uint8Array(F.length);for(let ae=0;ae<F.length;++ae)K[ae]=F.charCodeAt(ae);return K}const r1="fcm_token_details_db",mi="fcm_token_object_Store";function ql(D){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,H.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(r1))return null;let S=null;return(yield(0,he.X3)(r1,5,{upgrade:(F=(0,H.Z)(function*(K,ae,Ce,We){var yt;if(ae<2||!K.objectStoreNames.contains(mi))return;const Tt=We.objectStore(mi),Rt=yield Tt.index("fcmSenderId").get(D);if(yield Tt.clear(),Rt)if(2===ae){const _t=Rt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;S={token:_t.fcmToken,createTime:null!==(yt=_t.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:o2(_t.vapidKey)}}}else if(3===ae){const _t=Rt;S={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:o2(_t.auth),p256dh:o2(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:o2(_t.vapidKey)}}}else if(4===ae){const _t=Rt;S={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:o2(_t.auth),p256dh:o2(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:o2(_t.vapidKey)}}}}),function(ae,Ce,We,yt){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(r1),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),On(S)?S:null;var F}),Yo.apply(this,arguments)}function On(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ei="firebase-messaging-store";let Sr=null;function co(){return Sr||(Sr=(0,he.X3)("firebase-messaging-database",1,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Ei)}})),Sr}function L1(D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,H.Z)(function*(D){const S=vi(D),F=yield(yield co()).transaction(Ei).objectStore(Ei).get(S);if(F)return F;{const K=yield ql(D.appConfig.senderId);if(K)return yield on(D,K),K}})).apply(this,arguments)}function on(D,S){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,H.Z)(function*(D,S){const I=vi(D),K=(yield co()).transaction(Ei,"readwrite");return yield K.objectStore(Ei).put(S,I),yield K.done,S})).apply(this,arguments)}function S2(D){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,H.Z)(function*(D){const S=vi(D),F=(yield co()).transaction(Ei,"readwrite");yield F.objectStore(Ei).delete(S),yield F.done})).apply(this,arguments)}function vi({appConfig:D}){return D.appId}const Bn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zt(D,S){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,H.Z)(function*(D,S){var I;const F=yield Ds(D),K=Te(S),ae={method:"POST",headers:F,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(i1(D.appConfig),ae)).json()}catch(We){throw Bn.create("token-subscribe-failed",{errorInfo:null===(I=We)||void 0===I?void 0:I.toString()})}if(Ce.error)throw Bn.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Bn.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Zl(D,S){return ws.apply(this,arguments)}function ws(){return(ws=(0,H.Z)(function*(D,S){var I;const F=yield Ds(D),K=Te(S.subscriptionOptions),ae={method:"PATCH",headers:F,body:JSON.stringify(K)};let Ce;try{Ce=yield(yield fetch(`${i1(D.appConfig)}/${S.token}`,ae)).json()}catch(We){throw Bn.create("token-update-failed",{errorInfo:null===(I=We)||void 0===I?void 0:I.toString()})}if(Ce.error)throw Bn.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Bn.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function nc(D,S){return xs.apply(this,arguments)}function xs(){return(xs=(0,H.Z)(function*(D,S){var I;const K={method:"DELETE",headers:yield Ds(D)};try{const Ce=yield(yield fetch(`${i1(D.appConfig)}/${S}`,K)).json();if(Ce.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(ae){throw Bn.create("token-unsubscribe-failed",{errorInfo:null===(I=ae)||void 0===I?void 0:I.toString()})}})).apply(this,arguments)}function i1({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ds(D){return z1.apply(this,arguments)}function z1(){return(z1=(0,H.Z)(function*({appConfig:D,installations:S}){const I=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function Te({p256dh:D,auth:S,endpoint:I,vapidKey:F}){const K={web:{endpoint:I,auth:S,p256dh:D}};return F!==D2&&(K.web.applicationPubKey=F),K}const Zt=6048e5;function j3(D){return k1.apply(this,arguments)}function k1(){return(k1=(0,H.Z)(function*(D){const S=yield $3(D.swRegistration,D.vapidKey),I={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:o2(S.getKey("auth")),p256dh:o2(S.getKey("p256dh"))},F=yield L1(D.firebaseDependencies);if(F){if(Yl(F.subscriptionOptions,I))return Date.now()>=F.createTime+Zt?lo(D,{token:F.token,createTime:Date.now(),subscriptionOptions:I}):F.token;try{yield nc(D.firebaseDependencies,F.token)}catch(K){console.warn(K)}return uo(D.firebaseDependencies,I)}return uo(D.firebaseDependencies,I)})).apply(this,arguments)}function sr(D){return R1.apply(this,arguments)}function R1(){return(R1=(0,H.Z)(function*(D){const S=yield L1(D.firebaseDependencies);S&&(yield nc(D.firebaseDependencies,S.token),yield S2(D.firebaseDependencies));const I=yield D.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()})).apply(this,arguments)}function lo(D,S){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,H.Z)(function*(D,S){try{const I=yield Zl(D.firebaseDependencies,S),F=Object.assign(Object.assign({},S),{token:I,createTime:Date.now()});return yield on(D.firebaseDependencies,F),I}catch(I){throw yield sr(D),I}})).apply(this,arguments)}function uo(D,S){return O1.apply(this,arguments)}function O1(){return(O1=(0,H.Z)(function*(D,S){const F={token:yield zt(D,S),createTime:Date.now(),subscriptionOptions:S};return yield on(D,F),F.token})).apply(this,arguments)}function $3(D,S){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,H.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ni(S)})})).apply(this,arguments)}function Yl(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function s1(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function or(D,S){if(!S.notification)return;D.notification={};const I=S.notification.title;I&&(D.notification.title=I);const F=S.notification.body;F&&(D.notification.body=F);const K=S.notification.image;K&&(D.notification.image=K)}(S,D),function Fi(D,S){!S.data||(D.data=S.data)}(S,D),function As(D,S){var I,F,K,ae,Ce;if(!(S.fcmOptions||null!==(I=S.notification)&&void 0!==I&&I.click_action))return;D.fcmOptions={};const We=null!==(K=null===(F=S.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==K?K:null===(ae=S.notification)||void 0===ae?void 0:ae.click_action;We&&(D.fcmOptions.link=We);const yt=null===(Ce=S.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;yt&&(D.fcmOptions.analyticsLabel=yt)}(S,D),S}function Es(D){return"object"==typeof D&&!!D&&ao in D}function a2(D,S){const I=[];for(let F=0;F<D.length;F++)I.push(D.charAt(F)),F<S.length&&I.push(S.charAt(F));return I.join("")}function Jo(D){return Bn.create("missing-app-config-values",{valueName:D})}a2("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),a2("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ic{constructor(S,I,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function rc(D){if(!D||!D.options)throw Jo("App Configuration Object");if(!D.name)throw Jo("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:I}=D;for(const F of S)if(!I[F])throw Jo(F);return{appName:D.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:K,installations:I,analyticsProvider:F}}_delete(){return Promise.resolve()}}function W3(D){return P1.apply(this,arguments)}function P1(){return(P1=(0,H.Z)(function*(D){var S;try{D.swRegistration=yield navigator.serviceWorker.register(Dr,{scope:s2}),D.swRegistration.update().catch(()=>{})}catch(I){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=I)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Xo(D,S){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,H.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield W3(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function ea(D,S){return Is.apply(this,arguments)}function Is(){return(Is=(0,H.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=D2)})).apply(this,arguments)}function F1(){return(F1=(0,H.Z)(function*(D,S){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield ea(D,S?.vapidKey),yield Xo(D,S?.serviceWorkerRegistration),j3(D)})).apply(this,arguments)}function q3(D,S,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,H.Z)(function*(D,S,I){const F=Z3(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:I[ao],message_name:I[Zo],message_time:I[ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Z3(D){switch(D){case gi.NOTIFICATION_CLICKED:return"notification_open";case gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function A2(){return(A2=(0,H.Z)(function*(D,S){const I=S.data;if(!I.isFirebaseMessaging)return;D.onMessageHandler&&I.messageType===gi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(s1(I)):D.onMessageHandler.next(s1(I)));const F=I.data;Es(F)&&"1"===F[H1]&&(yield q3(D,I.messageType,F))})).apply(this,arguments)}const E2="@firebase/messaging",Hn=D=>{const S=new ic(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function oc(D,S){return A2.apply(this,arguments)}(S,I)),S},c2=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:F=>function sc(D,S){return F1.apply(this,arguments)}(S,F)}};function cc(){return ta.apply(this,arguments)}function ta(){return(ta=(0,H.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ln(){(0,se._registerComponent)(new me.wA("messaging",Hn,"PUBLIC")),(0,se._registerComponent)(new me.wA("messaging-internal",c2,"PRIVATE")),(0,se.registerVersion)(E2,"0.9.19"),(0,se.registerVersion)(E2,"0.9.19","esm2017")}();const G1="analytics",uc="firebase_id",sa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dc="https://www.googletagmanager.com/gtag/js",Un=new le.Yd("@firebase/analytics");function ho(D){return Promise.all(D.map(S=>S.catch(I=>I)))}function po(D,S){const I=document.createElement("script");I.src=`${dc}?l=${D}&id=${S}`,I.async=!0,document.head.appendChild(I)}function K3(D,S,I,F,K,ae){return mo.apply(this,arguments)}function mo(){return(mo=(0,H.Z)(function*(D,S,I,F,K,ae){const Ce=F[K];try{if(Ce)yield S[Ce];else{const yt=(yield ho(I)).find(Tt=>Tt.measurementId===K);yt&&(yield S[yt.appId])}}catch(We){Un.error(We)}D("config",K,ae)})).apply(this,arguments)}function l2(D,S,I,F,K){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,H.Z)(function*(D,S,I,F,K){try{let ae=[];if(K&&K.send_to){let Ce=K.send_to;Array.isArray(Ce)||(Ce=[Ce]);const We=yield ho(I);for(const yt of Ce){const Tt=We.find(_t=>_t.measurementId===yt),Rt=Tt&&S[Tt.appId];if(!Rt){ae=[];break}ae.push(Rt)}}0===ae.length&&(ae=Object.values(S)),yield Promise.all(ae),D("event",F,K||{})}catch(ae){Un.error(ae)}})).apply(this,arguments)}function fc(D){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(dc)&&I.src.includes(D))return I;return null}const ar=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ls=new class aa{constructor(S={},I=1e3){this.throttleMetadata=S,this.intervalMillis=I}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,I){this.throttleMetadata[S]=I}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function j1(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function X3(D){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,H.Z)(function*(D){var S;const{appId:I,apiKey:F}=D,K={method:"GET",headers:j1(F)},ae=sa.replace("{app-id}",I),Ce=yield fetch(ae,K);if(200!==Ce.status&&304!==Ce.status){let We="";try{const yt=yield Ce.json();null!==(S=yt.error)&&void 0!==S&&S.message&&(We=yt.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:We})}return Ce.json()})).apply(this,arguments)}function hc(D){return ri.apply(this,arguments)}function ri(){return(ri=(0,H.Z)(function*(D,S=Ls,I){const{appId:F,apiKey:K,measurementId:ae}=D.options;if(!F)throw ar.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:F};throw ar.create("no-api-key")}const Ce=S.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new zs;return setTimeout((0,H.Z)(function*(){We.abort()}),void 0!==I?I:6e4),pc({appId:F,apiKey:K,measurementId:ae},Ce,We,S)})).apply(this,arguments)}function pc(D,S,I){return u2.apply(this,arguments)}function u2(){return(u2=(0,H.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:I},F,K=Ls){var ae,Ce;const{appId:We,measurementId:yt}=D;try{yield ca(F,S)}catch(Tt){if(yt)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${null===(ae=Tt)||void 0===ae?void 0:ae.message}]`),{appId:We,measurementId:yt};throw Tt}try{const Tt=yield X3(D);return K.deleteThrottleMetadata(We),Tt}catch(Tt){const Rt=Tt;if(!vo(Rt)){if(K.deleteThrottleMetadata(We),yt)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${Rt?.message}]`),{appId:We,measurementId:yt};throw Tt}const _t=503===Number(null===(Ce=Rt?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ce.$s)(I,K.intervalMillis,30):(0,ce.$s)(I,K.intervalMillis),Qn={throttleEndTimeMillis:Date.now()+_t,backoffCount:I+1};return K.setThrottleMetadata(We,Qn),Un.debug(`Calling attemptFetch again in ${_t} millis`),pc(D,Qn,F,K)}})).apply(this,arguments)}function ca(D,S){return new Promise((I,F)=>{const K=Math.max(S-Date.now(),0),ae=setTimeout(I,K);D.addEventListener(()=>{clearTimeout(ae),F(ar.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function vo(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class zs{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let o1,_o;function $1(){return($1=(0,H.Z)(function*(D,S,I,F,K){if(K&&K.global)D("event",I,F);else{const ae=yield S;D("event",I,Object.assign(Object.assign({},F),{send_to:ae}))}})).apply(this,arguments)}function Y1(D){_o=D}function la(D){o1=D}function I2(){return K1.apply(this,arguments)}function K1(){return(K1=(0,H.Z)(function*(){var D;if(!(0,ce.hl)())return Un.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(S){return Un.warn(ar.create("indexeddb-unavailable",{errorInfo:null===(D=S)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Q1(){return(Q1=(0,H.Z)(function*(D,S,I,F,K,ae,Ce){var We;const yt=hc(D);yt.then(Ar=>{I[Ar.measurementId]=Ar.appId,D.options.measurementId&&Ar.measurementId!==D.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ar=>Un.error(Ar)),S.push(yt);const Tt=I2().then(Ar=>{if(Ar)return F.getId()}),[Rt,_t]=yield Promise.all([yt,Tt]);fc(ae)||po(ae,Rt.measurementId),_o&&(K("consent","default",_o),Y1(void 0)),K("js",new Date);const Qn=null!==(We=Ce?.config)&&void 0!==We?We:{};return Qn.origin="firebase",Qn.update=!0,null!=_t&&(Qn[uc]=_t),K("config",Rt.measurementId,Qn),o1&&(K("set",o1),la(void 0)),Rt.measurementId})).apply(this,arguments)}class Co{constructor(S){this.app=S}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},J1=[];const a1={};let es,Ui,X1="dataLayer",mc=!1;function n4(D,S,I){!function Kl(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((F,K)=>`(${K+1}) ${F}`).join(" "),I=ar.create("invalid-analytics-context",{errorInfo:S});Un.warn(I.message)}}();const F=D.options.appId;if(!F)throw ar.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ar.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[F])throw ar.create("already-exists",{id:F});if(!mc){!function go(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(X1);const{wrappedGtag:ae,gtagCore:Ce}=function Hs(D,S,I,F,K){let ae=function(...Ce){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function oa(D,S,I,F){function ae(){return(ae=(0,H.Z)(function*(Ce,We,yt){try{"event"===Ce?yield l2(D,S,I,We,yt):"config"===Ce?yield K3(D,S,I,F,We,yt):"consent"===Ce?D("consent","update",yt):D("set",We)}catch(Tt){Un.error(Tt)}})).apply(this,arguments)}return function K(Ce,We,yt){return ae.apply(this,arguments)}}(ae,D,S,I),{gtagCore:ae,wrappedGtag:window[K]}}(kr,J1,a1,X1,"gtag");Ui=ae,es=Ce,mc=!0}return kr[F]=function t4(D,S,I,F,K,ae,Ce){return Q1.apply(this,arguments)}(D,J1,a1,S,es,X1,I),new Co(D)}function xu(){return r4.apply(this,arguments)}function r4(){return(r4=(0,H.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const dt="@firebase/analytics";!function tn(){(0,se._registerComponent)(new me.wA(G1,(S,{options:I})=>n4(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,se._registerComponent)(new me.wA("analytics-internal",function D(S){try{const I=S.getProvider(G1).getImmediate();return{logEvent:(F,K,ae)=>function un(D,S,I,F){D=(0,ce.m9)(D),function ks(D,S,I,F,K){return $1.apply(this,arguments)}(Ui,kr[D.app.options.appId],S,I,F).catch(K=>Un.error(K))}(I,F,K,ae)}}catch(I){throw ar.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,se.registerVersion)(dt,"0.8.3"),(0,se.registerVersion)(dt,"0.8.3","esm2017")}();var d2=k(4408),zn=k(7565);const vc=new class u1 extends zn.v{}(class l1 extends d2.o{constructor(S,I){super(S,I),this.scheduler=S,this.work=I}schedule(S,I=0){return I>0?super.schedule(S,I):(this.delay=I,this.state=S,this.scheduler.flush(this),this)}execute(S,I){return I>0||this.closed?super.execute(S,I):this._execute(S,I)}requestAsyncId(S,I,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(S,I,F):(S.flush(this),0)}});var i4=k(4986),T2=k(9751),_c=k(8505),V2=k(9468),ot=k(5363);const da=new l.GfV("7.4.1"),Gi="__angularfire_symbol__analyticsIsSupportedValue",Os="__angularfire_symbol__analyticsIsSupported",Ps="__angularfire_symbol__remoteConfigIsSupportedValue",Vn="__angularfire_symbol__remoteConfigIsSupported",Fs="__angularfire_symbol__messagingIsSupportedValue",ts="__angularfire_symbol__messagingIsSupported";function H2(D,S,I){if(S){if(1===S.length)return S[0];const ae=S.filter(Ce=>Ce.app===I);if(1===ae.length)return ae[0]}return I.container.getProvider(D).getImmediate({optional:!0})}globalThis[Os]||(globalThis[Os]=xu().then(D=>globalThis[Gi]=D).catch(()=>globalThis[Gi]=!1)),globalThis[ts]||(globalThis[ts]=cc().then(D=>globalThis[Fs]=D).catch(()=>globalThis[Fs]=!1)),globalThis[Vn]||(globalThis[Vn]=Mu().then(D=>globalThis[Ps]=D).catch(()=>globalThis[Ps]=!1));const ii=(D,S)=>{const I=S?[S]:(0,U.C6)(),F=[];return I.forEach(K=>{K.container.getProvider(D).instances.forEach(Ce=>{F.includes(Ce)||F.push(Ce)})}),F};function Ti(){}class Mo{constructor(S,I=vc){this.zone=S,this.delegate=I}now(){return this.delegate.now()}schedule(S,I,F){const K=this.zone;return this.delegate.schedule(function(Ce){K.runGuarded(()=>{S.apply(this,[Ce])})},I,F)}}class Rr{constructor(S){this.zone=S,this.task=null}call(S,I){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ti,{},Ti,Ti)),I.pipe((0,_c.b)({next:F,complete:F,error:F})).subscribe(S).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let d1=(()=>{class D{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new Mo(Zone.current)),this.insideAngular=I.run(()=>new Mo(Zone.current,i4.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(I){return new(I||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function wr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Cc(D){return wr().ngZone.runOutsideAngular(()=>D())}function Mn(D){return wr().ngZone.run(()=>D())}function jn(D){return wr(),function Yt(D){return function(I){return(I=I.lift(new Rr(D.ngZone))).pipe((0,V2.R)(D.outsideAngular),(0,ot.Q)(D.insideAngular))}}(wr())(D)}const ji=(D,S)=>function(){const F=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Mn(()=>D.apply(void 0,F))},wn=(D,S)=>function(){let I;const F=arguments;for(let ae=0;ae<arguments.length;ae++)"function"==typeof F[ae]&&(S&&(I||(I=Mn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ti,{},Ti,Ti)))),F[ae]=ji(F[ae],I));const K=Cc(()=>D.apply(this,F));if(!S){if(K instanceof T2.y){const ae=wr();return K.pipe((0,V2.R)(ae.outsideAngular),(0,ot.Q)(ae.insideAngular))}return Mn(()=>K)}return K instanceof T2.y?K.pipe(jn):K instanceof Promise?Mn(()=>new Promise((ae,Ce)=>K.then(We=>Mn(()=>ae(We)),We=>Mn(()=>Ce(We))))):"function"==typeof K&&I?function(){return setTimeout(()=>{I&&"scheduled"===I.state&&I.invoke()},10),K.apply(this,arguments)}:Mn(()=>K)}},7573:(pt,Ae,k)=>{k.d(Ae,{$:()=>i1,A:()=>j,B:()=>Le,G:()=>Q2,H:()=>ei,J:()=>r2,L:()=>$,M:()=>oo,N:()=>Xa,P:()=>i4,Q:()=>ao,R:()=>Ql,T:()=>Zo,U:()=>D2,V:()=>gi,W:()=>o2,X:()=>ql,Y:()=>bs,Z:()=>zt,_:()=>Zl,a:()=>N2,a0:()=>j3,a1:()=>sr,a2:()=>lo,a3:()=>uo,a4:()=>$3,a5:()=>Yl,a6:()=>or,a7:()=>Fi,a8:()=>Es,a9:()=>a2,aA:()=>Qn,aB:()=>We,aC:()=>Mn,aD:()=>Cc,aE:()=>bt,aI:()=>j1,aL:()=>H1,aa:()=>W3,ab:()=>Xo,ac:()=>ea,af:()=>q3,ag:()=>Z3,ah:()=>oc,ak:()=>Ei,al:()=>na,an:()=>dc,ao:()=>mo,ap:()=>Ht,aq:()=>_e,ar:()=>Pe,as:()=>lt,at:()=>et,au:()=>xo,av:()=>Er,aw:()=>ke,ax:()=>ie,ay:()=>X,az:()=>G,b:()=>ar,c:()=>Vn,d:()=>s4,e:()=>ts,f:()=>jn,g:()=>I,h:()=>wn,i:()=>K1,j:()=>ae,k:()=>d4,l:()=>bn,m:()=>f2,n:()=>Tu,o:()=>he,r:()=>d2,s:()=>Ii,u:()=>vc});var l=k(5861),U=k(2090),H=k(9681),se=k(1877),ce=k(655),me=k(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new se.Yd("@firebase/auth");function nt(C,...g){ge.logLevel<=se.in.ERROR&&ge.error(`Auth (${H.SDK_VERSION}): ${C}`,...g)}function et(C,...g){throw Ye(C,...g)}function ke(C,...g){return Ye(C,...g)}function Ve(C,g,v){const M=Object.assign(Object.assign({},xe()),{[g]:v});return new U.LL("auth","Firebase",M).create(g,{appName:C.name})}function Me(C,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&et(C,"argument-error"),Ve(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(C,...g){if("string"!=typeof C){const v=g[0],M=[...g.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(v,...M)}return at.create(C,...g)}function ie(C,g,...v){if(!C)throw Ye(g,...v)}function de(C){const g="INTERNAL ASSERTION FAILED: "+C;throw nt(g),new Error(g)}function _e(C,g){C||de(g)}const Q=new Map;function X(C){_e(C instanceof Function,"Expected a class definition");let g=Q.get(C);return g?(_e(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,Q.set(C,g),g)}function Fe(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Be(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ke{constructor(g,v){this.shortDelay=g,this.longDelay=v,_e(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dn(C,g){_e(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class xn{static initialize(g,v,M){this.fetchImpl=g,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new Ke(3e4,6e4);function qt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Ut(C,g,v,M){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(C,g,v,M,N={}){return Oi(C,N,(0,l.Z)(function*(){let L={},ee={};M&&("GET"===g?ee=M:L={body:JSON.stringify(M)});const Ne=(0,U.xO)(Object.assign({key:C.config.apiKey},ee)).slice(1),ct=yield C._getAdditionalHeaders();return ct["Content-Type"]="application/json",C.languageCode&&(ct["X-Firebase-Locale"]=C.languageCode),xn.fetch()(Qi(C,C.config.apiHost,v,Ne),Object.assign({method:g,headers:ct,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Oi(C,g,v){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(C,g,v){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},nn),g);try{const N=new $r(C),L=yield Promise.race([v(),N.promise]);N.clearNetworkTimeout();const ee=yield L.json();if("needConfirmation"in ee)throw qn(C,"account-exists-with-different-credential",ee);if(L.ok&&!("errorMessage"in ee))return ee;{const Ne=L.ok?ee.errorMessage:ee.error.message,[ct,Dt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw qn(C,"credential-already-in-use",ee);if("EMAIL_EXISTS"===ct)throw qn(C,"email-already-in-use",ee);if("USER_DISABLED"===ct)throw qn(C,"user-disabled",ee);const Kt=M[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Ve(C,Kt,Dt);et(C,Kt)}}catch(N){if(N instanceof U.ZR)throw N;et(C,"network-request-failed")}})).apply(this,arguments)}function Rn(C,g,v,M){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(C,g,v,M,N={}){const L=yield Ut(C,g,v,M,N);return"mfaPendingCredential"in L&&et(C,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Qi(C,g,v,M){const N=`${g}${v}?${M}`;return C.config.emulator?dn(C.config,N):`${C.config.apiScheme}://${N}`}class $r{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(ke(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(C,g,v){const M={appName:C.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const N=ke(C,g,M);return N.customData._tokenResponse=v,N}function Ji(){return(Ji=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function tt(C,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zn(C,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function br(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Sn(){return(Sn=(0,l.Z)(function*(C,g=!1){const v=(0,U.m9)(C),M=yield v.getIdToken(g),N=mt(M);ie(N&&N.exp&&N.auth_time&&N.iat,v.auth,"internal-error");const L="object"==typeof N.firebase?N.firebase:void 0,ee=L?.sign_in_provider;return{claims:N,token:M,authTime:br(yn(N.auth_time)),issuedAtTime:br(yn(N.iat)),expirationTime:br(yn(N.exp)),signInProvider:ee||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function yn(C){return 1e3*Number(C)}function mt(C){var g;const[v,M,N]=C.split(".");if(void 0===v||void 0===M||void 0===N)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,U.tV)(M);return L?JSON.parse(L):(nt("Failed to decode base64 JWT payload"),null)}catch(L){return nt("Caught error parsing JWT payload as JSON",null===(g=L)||void 0===g?void 0:g.toString()),null}}function Vt(C,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(C,g,v=!1){if(v)return g;try{return yield g}catch(M){throw M instanceof U.ZR&&rr(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}function rr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class zr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const N=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield v.iteration()}),M)}iteration(){var g=this;return(0,l.Z)(function*(){var v;try{yield g.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(v=M)||void 0===v?void 0:v.code)&&g.schedule(!0))}g.schedule()})()}}class Et{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wr(C){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(C){var g;const v=C.auth,M=yield C.getIdToken(),N=yield Vt(C,Zn(v,{idToken:M}));ie(N?.users.length,v,"internal-error");const L=N.users[0];C._notifyReloadListener(L);const ee=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?In(L.providerUserInfo):[],Ne=hr(C.providerData,ee),Kt=!!C.isAnonymous&&!(C.email&&L.passwordHash||Ne?.length),pn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ne,metadata:new Et(L.createdAt,L.lastLoginAt),isAnonymous:Kt};Object.assign(C,pn)})).apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(C){const g=(0,U.m9)(C);yield Wr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function hr(C,g){return[...C.filter(M=>!g.some(N=>N.providerId===M.providerId)),...g]}function In(C){return C.map(g=>{var{providerId:v}=g,M=(0,ce._T)(g,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function Se(){return(Se=(0,l.Z)(function*(C,g){const v=yield Oi(C,{},(0,l.Z)(function*(){const M=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:L}=C.config,ee=Qi(C,N,"/v1/token",`key=${L}`),Ne=yield C._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",xn.fetch()(ee,{method:"POST",headers:Ne,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function vt(C){const g=mt(C);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var M=this;return(0,l.Z)(function*(){return ie(!M.accessToken||M.refreshToken,g,"user-token-expired"),v||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(g,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var M=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:L,expiresIn:ee}=yield function it(C,g){return Se.apply(this,arguments)}(g,v);M.updateTokensAndExpiration(N,L,Number(ee))})()}updateTokensAndExpiration(g,v,M){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(g,v){const{refreshToken:M,accessToken:N,expirationTime:L}=v,ee=new st;return M&&(ie("string"==typeof M,"internal-error",{appName:g}),ee.refreshToken=M),N&&(ie("string"==typeof N,"internal-error",{appName:g}),ee.accessToken=N),L&&(ie("number"==typeof L,"internal-error",{appName:g}),ee.expirationTime=L),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return de("not implemented")}}function xt(C,g){ie("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class St{constructor(g){var{uid:v,auth:M,stsTokenManager:N}=g,L=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Et(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,l.Z)(function*(){const M=yield Vt(v,v.stsTokenManager.getToken(v.auth,g));return ie(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(g){return function Dn(C){return Sn.apply(this,arguments)}(this,g)}reload(){return function ui(C){return Qt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new St(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var M=this;return(0,l.Z)(function*(){let N=!1;g.idToken&&g.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(g),N=!0),v&&(yield Wr(M)),yield M.auth._persistUserIfCurrent(M),N&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var g=this;return(0,l.Z)(function*(){const v=yield g.getIdToken();return yield Vt(g,function Ai(C,g){return Ji.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var M,N,L,ee,Ne,ct,Dt,Kt;const pn=null!==(M=v.displayName)&&void 0!==M?M:void 0,Yr=null!==(N=v.email)&&void 0!==N?N:void 0,$i=null!==(L=v.phoneNumber)&&void 0!==L?L:void 0,Ac=null!==(ee=v.photoURL)&&void 0!==ee?ee:void 0,Ec=null!==(Ne=v.tenantId)&&void 0!==Ne?Ne:void 0,Nc=null!==(ct=v._redirectEventId)&&void 0!==ct?ct:void 0,js=null!==(Dt=v.createdAt)&&void 0!==Dt?Dt:void 0,r6=null!==(Kt=v.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:g4,emailVerified:Ic,isAnonymous:ga,providerData:So,stsTokenManager:rs}=v;ie(g4&&rs,g,"internal-error");const Vu=st.fromJSON(this.name,rs);ie("string"==typeof g4,g,"internal-error"),xt(pn,g.name),xt(Yr,g.name),ie("boolean"==typeof Ic,g,"internal-error"),ie("boolean"==typeof ga,g,"internal-error"),xt($i,g.name),xt(Ac,g.name),xt(Ec,g.name),xt(Nc,g.name),xt(js,g.name),xt(r6,g.name);const kn=new St({uid:g4,auth:g,email:Yr,emailVerified:Ic,displayName:pn,isAnonymous:ga,photoURL:Ac,phoneNumber:$i,tenantId:Ec,stsTokenManager:Vu,createdAt:js,lastLoginAt:r6});return So&&Array.isArray(So)&&(kn.providerData=So.map(i6=>Object.assign({},i6))),Nc&&(kn._redirectEventId=Nc),kn}static _fromIdTokenResponse(g,v,M=!1){return(0,l.Z)(function*(){const N=new st;N.updateFromServerResponse(v);const L=new St({uid:v.localId,auth:g,stsTokenManager:N,isAnonymous:M});return yield Wr(L),L})()}}const $=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(v,M){var N=this;return(0,l.Z)(function*(){N.storage[v]=M})()}_get(v){var M=this;return(0,l.Z)(function*(){const N=M.storage[v];return void 0===N?null:N})()}_remove(v){var M=this;return(0,l.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return C.type="NONE",C})();function G(C,g,v){return`firebase:${C}:${g}:${v}`}class Z{constructor(g,v,M){this.persistence=g,this.auth=v,this.userKey=M;const{config:N,name:L}=this.auth;this.fullUserKey=G(this.userKey,N.apiKey,L),this.fullPersistenceKey=G("persistence",N.apiKey,L),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?St._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,l.Z)(function*(){if(v.persistence===g)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,M="authUser"){return(0,l.Z)(function*(){if(!v.length)return new Z(X($),g,M);const N=(yield Promise.all(v.map(function(){var Dt=(0,l.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let L=N[0]||X($);const ee=G(M,g.config.apiKey,g.name);let Ne=null;for(const Dt of v)try{const Kt=yield Dt._get(ee);if(Kt){const pn=St._fromJSON(g,Kt);Dt!==L&&(Ne=pn),L=Dt;break}}catch{}const ct=N.filter(Dt=>Dt._shouldAllowMigration);return L._shouldAllowMigration&&ct.length?(L=ct[0],Ne&&(yield L._set(ee,Ne.toJSON())),yield Promise.all(v.map(function(){var Dt=(0,l.Z)(function*(Kt){if(Kt!==L)try{yield Kt._remove(ee)}catch{}});return function(Kt){return Dt.apply(this,arguments)}}())),new Z(L,g,M)):new Z(L,g,M)})()}}function B(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ze(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(T(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ut(g))return"Blackberry";if(Ee(g))return"Webos";if(O(g))return"Safari";if((g.includes("chrome/")||ne(g))&&!g.includes("edge/"))return"Chrome";if(lt(g))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function T(C=(0,U.z$)()){return/firefox\//i.test(C)}function O(C=(0,U.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ne(C=(0,U.z$)()){return/crios\//i.test(C)}function ze(C=(0,U.z$)()){return/iemobile/i.test(C)}function lt(C=(0,U.z$)()){return/android/i.test(C)}function ut(C=(0,U.z$)()){return/blackberry/i.test(C)}function Ee(C=(0,U.z$)()){return/webos/i.test(C)}function Pe(C=(0,U.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Ht(C=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function hn(C=(0,U.z$)()){return Pe(C)||lt(C)||Ee(C)||ut(C)||/windows phone/i.test(C)||ze(C)}function An(C,g=[]){let v;switch(C){case"Browser":v=B((0,U.z$)());break;case"Worker":v=`${B((0,U.z$)())}-${C}`;break;default:v=C}const M=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${H.SDK_VERSION}/${M}`}class Y2{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const M=L=>new Promise((ee,Ne)=>{try{ee(g(L))}catch(ct){Ne(ct)}});M.onAbort=v,this.queue.push(M);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,l.Z)(function*(){var M;if(v.auth.currentUser===g)return;const N=[];try{for(const L of v.queue)yield L(g),L.onAbort&&N.push(L.onAbort)}catch(L){N.reverse();for(const ee of N)try{ee()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=L)||void 0===M?void 0:M.message})}})()}}class N1{constructor(g,v,M){this.app=g,this.heartbeatServiceProvider=v,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,v){var M=this;return v&&(this._popupRedirectResolver=X(v)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N,L;if(!M._deleted&&(M.persistenceManager=yield Z.create(M,g),!M._deleted)){if(null!==(N=M._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(L=M.currentUser)||void 0===L?void 0:L.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,l.Z)(function*(){var M;const N=yield v.assertedPersistence.getCurrentUser();let L=N,ee=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ne=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,ct=L?._redirectEventId,Dt=yield v.tryRedirectSignIn(g);(!Ne||Ne===ct)&&Dt?.user&&(L=Dt.user,ee=!0)}if(!L)return v.directlySetCurrentUser(null);if(!L._redirectEventId){if(ee)try{yield v.beforeStateQueue.runMiddleware(L)}catch(Ne){L=N,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ne))}return L?v.reloadAndSetCurrentUserOrClear(L):v.directlySetCurrentUser(null)}return ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===L._redirectEventId?v.directlySetCurrentUser(L):v.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var v=this;return(0,l.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,l.Z)(function*(){var M;try{yield Wr(g)}catch(N){if("auth/network-request-failed"!==(null===(M=N)||void 0===M?void 0:M.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Gt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,l.Z)(function*(){const M=g?(0,U.m9)(g):null;return M&&ie(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(g,v=!1){var M=this;return(0,l.Z)(function*(){if(!M._deleted)return g&&ie(M.tenantId===g.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(g)),M.queue((0,l.Z)(function*(){yield M.directlySetCurrentUser(g),M.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,l.Z)(function*(){yield v.assertedPersistence.setPersistence(X(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,v,M){return this.registerStateListener(this.authStateSubscription,g,v,M)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,M){return this.registerStateListener(this.idTokenSubscription,g,v,M)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var M=this;return(0,l.Z)(function*(){const N=yield M.getOrInitRedirectPersistenceManager(v);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,l.Z)(function*(){if(!v.redirectPersistenceManager){const M=g&&X(g)||v._popupRedirectResolver;ie(M,v,"argument-error"),v.redirectPersistenceManager=yield Z.create(v,[X(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,l.Z)(function*(){var M,N;return v._isInitialized&&(yield v.queue((0,l.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===g?v._currentUser:(null===(N=v.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,l.Z)(function*(){if(g===v.currentUser)return v.queue((0,l.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,M,N){if(this._deleted)return()=>{};const L="function"==typeof v?v:v.next.bind(v),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ee,this,"internal-error"),ee.then(()=>L(this.currentUser)),"function"==typeof v?g.addObserver(v,M,N):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,l.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var v;const M={"X-Client-Version":g.clientVersion};g.app.options.appId&&(M["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return N&&(M["X-Firebase-Client"]=N),M})()}}function bt(C){return(0,U.m9)(C)}class K2{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(v=>this.observer=v)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Q2(C,g,v){const M=bt(C);ie(M._canInitEmulator,M,"emulator-config-failed"),ie(/^https?:\/\//.test(g),M,"invalid-emulator-scheme");const N=!!v?.disableWarnings,L=io(g),{host:ee,port:Ne}=function e2(C){const g=io(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(M);if(N){const L=N[1];return{host:L,port:Yn(M.substr(L.length+1))}}{const[L,ee]=M.split(":");return{host:L,port:Yn(ee)}}}(g);M.config.emulator={url:`${L}//${ee}${null===Ne?"":`:${Ne}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:ee,port:Ne,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function J2(){function C(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function io(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function Yn(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class ei{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return de("not implemented")}_getIdTokenResponse(g){return de("not implemented")}_linkToIdToken(g,v){return de("not implemented")}_getReauthenticationResolver(g){return de("not implemented")}}function di(C,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:resetPassword",qt(C,g))})).apply(this,arguments)}function Wo(C,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function F3(C,g){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:update",qt(C,g))})).apply(this,arguments)}function X2(){return(X2=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithPassword",qt(C,g))})).apply(this,arguments)}function qr(C,g){return e1.apply(this,arguments)}function e1(){return(e1=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:sendOobCode",qt(C,g))})).apply(this,arguments)}function t2(C,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(C,g){return qr(C,g)})).apply(this,arguments)}function B3(C,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(C,g){return qr(C,g)})).apply(this,arguments)}function fi(C,g){return t1.apply(this,arguments)}function t1(){return(t1=(0,l.Z)(function*(C,g){return qr(C,g)})).apply(this,arguments)}function so(C,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(C,g){return qr(C,g)})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithEmailLink",qt(C,g))})).apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithEmailLink",qt(C,g))})).apply(this,arguments)}class n2 extends ei{constructor(g,v,M,N=null){super("password",M),this._email=g,this._password=v,this._tenantId=N}static _fromEmailAndPassword(g,v){return new n2(g,v,"password")}static _fromEmailAndCode(g,v,M=null){return new n2(g,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return function vs(C,g){return X2.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ti(C,g){return qo.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:et(g,"internal-error")}})()}_linkToIdToken(g,v){var M=this;return(0,l.Z)(function*(){switch(M.signInMethod){case"password":return Wo(g,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Ul(C,g){return _s.apply(this,arguments)}(g,{idToken:v,email:M._email,oobCode:M._password});default:et(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function n1(C,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithIdp",qt(C,g))})).apply(this,arguments)}class r2 extends ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new r2(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):et("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:N}=v,L=(0,ce._T)(v,["providerId","signInMethod"]);if(!M||!N)return null;const ee=new r2(M,N);return ee.idToken=L.idToken||void 0,ee.accessToken=L.accessToken||void 0,ee.secret=L.secret,ee.nonce=L.nonce,ee.pendingToken=L.pendingToken||null,ee}_getIdTokenResponse(g){return n1(g,this.buildRequest())}_linkToIdToken(g,v){const M=this.buildRequest();return M.idToken=v,n1(g,M)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,n1(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,U.xO)(v)}return g}}function jl(C,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:sendVerificationCode",qt(C,g))})).apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithPhoneNumber",qt(C,g))})).apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(C,g){const v=yield Rn(C,"POST","/v1/accounts:signInWithPhoneNumber",qt(C,g));if(v.temporaryProof)throw qn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const $l={USER_NOT_FOUND:"user-not-found"};function Ka(){return(Ka=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithPhoneNumber",qt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),$l)})).apply(this,arguments)}class T1 extends ei{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new T1({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new T1({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function U3(C,g){return Cs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function I1(C,g){return Ya.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Wl(C,g){return Ka.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:M,verificationCode:N}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:M,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:M,phoneNumber:N,temporaryProof:L}=g;return M||v||N||L?new T1({verificationId:v,verificationCode:M,phoneNumber:N,temporaryProof:L}):null}}class V1{constructor(g){var v,M,N,L,ee,Ne;const ct=(0,U.zd)((0,U.pd)(g)),Dt=null!==(v=ct.apiKey)&&void 0!==v?v:null,Kt=null!==(M=ct.oobCode)&&void 0!==M?M:null,pn=function Qa(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ct.mode)&&void 0!==N?N:null);ie(Dt&&Kt&&pn,"argument-error"),this.apiKey=Dt,this.operation=pn,this.code=Kt,this.continueUrl=null!==(L=ct.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ee=ct.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(Ne=ct.tenantId)&&void 0!==Ne?Ne:null}static parseLink(g){const v=function Ja(C){const g=(0,U.zd)((0,U.pd)(C)).link,v=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,M=(0,U.zd)((0,U.pd)(C)).deep_link_id;return(M?(0,U.zd)((0,U.pd)(M)).link:null)||M||v||g||C}(g);try{return new V1(v)}catch{return null}}}let oo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,M){return n2._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const N=V1.parseLink(M);return ie(N,"argument-error"),n2._fromEmailAndCode(v,N.code,N.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Dr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class s2 extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class D2 extends s2{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return ie("providerId"in v&&"signInMethod"in v,"argument-error"),r2._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),r2._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return D2.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return D2.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:N,pendingToken:L,nonce:ee,providerId:Ne}=g;if(!M&&!N&&!v&&!L||!Ne)return null;try{return new D2(Ne)._credential({idToken:v,accessToken:M,nonce:ee,pendingToken:L})}catch{return null}}}let Xa=(()=>{class C extends s2{constructor(){super("facebook.com")}static credential(v){return r2._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ao=(()=>{class C extends s2{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return r2._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:N}=v;if(!M&&!N)return null;try{return C.credential(M,N)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Zo=(()=>{class C extends s2{constructor(){super("github.com")}static credential(v){return r2._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class H1 extends ei{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return n1(g,this.buildRequest())}_linkToIdToken(g,v){const M=this.buildRequest();return M.idToken=v,n1(g,M)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,n1(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:N,pendingToken:L}=v;return M&&N&&L&&M===N?new H1(M,L):null}static _create(g,v){return new H1(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gi extends Dr{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return gi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return gi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=H1.fromJSON(g);return ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:M}=g;if(!v||!M)return null;try{return H1._create(M,v)}catch{return null}}}let o2=(()=>{class C extends s2{constructor(){super("twitter.com")}static credential(v,M){return r2._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:N}=v;if(!M||!N)return null;try{return C.credential(M,N)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function ni(C,g){return r1.apply(this,arguments)}function r1(){return(r1=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signUp",qt(C,g))})).apply(this,arguments)}class pr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,M,N=!1){return(0,l.Z)(function*(){const L=yield St._fromIdTokenResponse(g,M,N),ee=mi(M);return new pr({user:L,providerId:ee,_tokenResponse:M,operationType:v})})()}static _forOperation(g,v,M){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(M,!0);const N=mi(M);return new pr({user:g,providerId:N,_tokenResponse:M,operationType:v})})()}}function mi(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function ql(C){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(C){var g;const v=bt(C);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new pr({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield ni(v,{returnSecureToken:!0}),N=yield pr._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class On extends U.ZR{constructor(g,v,M,N){var L;super(v.code,v.message),this.operationType=M,this.user=N,Object.setPrototypeOf(this,On.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(g,v,M,N){return new On(g,v,M,N)}}function tc(C,g,v,M){return("reauthenticate"===g?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?On._fromErrorAndOperation(C,L,g,M):L})}function G3(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Ei(C,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(C,g){const v=(0,U.m9)(C);yield Pi(!0,v,g);const{providerUserInfo:M}=yield tt(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),N=G3(M||[]);return v.providerData=v.providerData.filter(L=>N.has(L.providerId)),N.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function co(C,g){return L1.apply(this,arguments)}function L1(){return(L1=(0,l.Z)(function*(C,g,v=!1){const M=yield Vt(C,g._linkToIdToken(C.auth,yield C.getIdToken()),v);return pr._forOperation(C,"link",M)})).apply(this,arguments)}function Pi(C,g,v){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(C,g,v){yield Wr(g);const N=!1===C?"provider-already-linked":"no-such-provider";ie(G3(g.providerData).has(v)===C,g.auth,N)})).apply(this,arguments)}function Ko(C,g){return S2.apply(this,arguments)}function S2(){return(S2=(0,l.Z)(function*(C,g,v=!1){var M;const{auth:N}=C,L="reauthenticate";try{const ee=yield Vt(C,tc(N,L,g,C),v);ie(ee.idToken,N,"internal-error");const Ne=mt(ee.idToken);ie(Ne,N,"internal-error");const{sub:ct}=Ne;return ie(C.uid===ct,N,"user-mismatch"),pr._forOperation(C,L,ee)}catch(ee){throw"auth/user-not-found"===(null===(M=ee)||void 0===M?void 0:M.code)&&et(N,"user-mismatch"),ee}})).apply(this,arguments)}function Qo(C,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(C,g,v=!1){const M="signIn",N=yield tc(C,M,g),L=yield pr._fromIdTokenResponse(C,M,N);return v||(yield C._updateCurrentUser(L.user)),L})).apply(this,arguments)}function bs(C,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(C,g){return Qo(bt(C),g)})).apply(this,arguments)}function zt(C,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(C,g){const v=(0,U.m9)(C);return yield Pi(!1,v,g.providerId),co(v,g)})).apply(this,arguments)}function Zl(C,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(C,g){return Ko((0,U.m9)(C),g)})).apply(this,arguments)}function nc(C,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(C,g){return Rn(C,"POST","/v1/accounts:signInWithCustomToken",qt(C,g))})).apply(this,arguments)}function i1(C,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(C,g){const v=bt(C),M=yield nc(v,{token:g,returnSecureToken:!0}),N=yield pr._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}class z1{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Te._fromServerResponse(g,v):et(g,"internal-error")}}class Te extends z1{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Te(v)}}function Zt(C,g,v){var M;ie((null===(M=v.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ie(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(ie(v.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function j3(C,g,v){return k1.apply(this,arguments)}function k1(){return(k1=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C),N={requestType:"PASSWORD_RESET",email:g};v&&Zt(M,N,v),yield B3(M,N)})).apply(this,arguments)}function sr(C,g,v){return R1.apply(this,arguments)}function R1(){return(R1=(0,l.Z)(function*(C,g,v){yield di((0,U.m9)(C),{oobCode:g,newPassword:v})})).apply(this,arguments)}function lo(C,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(C,g){yield F3((0,U.m9)(C),{oobCode:g})})).apply(this,arguments)}function uo(C,g){return O1.apply(this,arguments)}function O1(){return(O1=(0,l.Z)(function*(C,g){const v=(0,U.m9)(C),M=yield di(v,{oobCode:g}),N=M.requestType;switch(ie(N,v,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(M.mfaInfo,v,"internal-error");default:ie(M.email,v,"internal-error")}let L=null;return M.mfaInfo&&(L=z1._fromServerResponse(bt(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:L},operation:N}})).apply(this,arguments)}function $3(C,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(C,g){const{data:v}=yield uo((0,U.m9)(C),g);return v.email})).apply(this,arguments)}function Yl(C,g,v){return s1.apply(this,arguments)}function s1(){return(s1=(0,l.Z)(function*(C,g,v){const M=bt(C),N=yield ni(M,{returnSecureToken:!0,email:g,password:v}),L=yield pr._fromIdTokenResponse(M,"signIn",N);return yield M._updateCurrentUser(L.user),L})).apply(this,arguments)}function or(C,g,v){return bs((0,U.m9)(C),oo.credential(g,v))}function Fi(C,g,v){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C),N={requestType:"EMAIL_SIGNIN",email:g};ie(v.handleCodeInApp,M,"argument-error"),v&&Zt(M,N,v),yield fi(M,N)})).apply(this,arguments)}function Es(C,g){return"EMAIL_SIGNIN"===V1.parseLink(g)?.operation}function a2(C,g,v){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C),N=oo.credentialWithLink(g,v||Fe());return ie(N._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),bs(M,N)})).apply(this,arguments)}function Jo(C,g){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:createAuthUri",qt(C,g))})).apply(this,arguments)}function W3(C,g){return P1.apply(this,arguments)}function P1(){return(P1=(0,l.Z)(function*(C,g){const M={identifier:g,continueUri:Be()?Fe():"http://localhost"},{signinMethods:N}=yield Jo((0,U.m9)(C),M);return N||[]})).apply(this,arguments)}function Xo(C,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(C,g){const v=(0,U.m9)(C),N={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&Zt(v.auth,N,g);const{email:L}=yield t2(v.auth,N);L!==C.email&&(yield C.reload())})).apply(this,arguments)}function ea(C,g,v){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};v&&Zt(M.auth,L,v);const{email:ee}=yield so(M.auth,L);ee!==C.email&&(yield C.reload())})).apply(this,arguments)}function sc(C,g){return F1.apply(this,arguments)}function F1(){return(F1=(0,l.Z)(function*(C,g){return Ut(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function q3(C,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(C,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const M=(0,U.m9)(C),L={idToken:yield M.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},ee=yield Vt(M,sc(M.auth,L));M.displayName=ee.displayName||null,M.photoURL=ee.photoUrl||null;const Ne=M.providerData.find(({providerId:ct})=>"password"===ct);Ne&&(Ne.displayName=M.displayName,Ne.photoURL=M.photoURL),yield M._updateTokensIfNecessary(ee)})).apply(this,arguments)}function Z3(C,g){return A2((0,U.m9)(C),g,null)}function oc(C,g){return A2((0,U.m9)(C),null,g)}function A2(C,g,v){return E2.apply(this,arguments)}function E2(){return(E2=(0,l.Z)(function*(C,g,v){const{auth:M}=C,L={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(L.email=g),v&&(L.password=v);const ee=yield Vt(C,Wo(M,L));yield C._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Hn{constructor(g,v,M={}){this.isNewUser=g,this.providerId=v,this.profile=M}}class c2 extends Hn{constructor(g,v,M,N){super(g,v,M),this.username=N}}class Ln extends Hn{constructor(g,v){super(g,"facebook.com",v)}}class cc extends c2{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class ta extends Hn{constructor(g,v){super(g,"google.com",v)}}class Y3 extends c2{constructor(g,v,M){super(g,"twitter.com",v,M)}}function na(C){const{user:g,_tokenResponse:v}=C;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ac(C){var g,v;if(!C)return null;const{providerId:M}=C,N=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},L=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const ee=null===(v=null===(g=mt(C.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(ee)return new Hn(L,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!M)return null;switch(M){case"facebook.com":return new Ln(L,N);case"github.com":return new cc(L,N);case"google.com":return new ta(L,N);case"twitter.com":return new Y3(L,N,C.screenName||null);case"custom":case"anonymous":return new Hn(L,null);default:return new Hn(L,M,N)}}(v)}class yi{constructor(g,v,M){this.type=g,this.credential=v,this.auth=M}static _fromIdtoken(g,v){return new yi("enroll",g,v)}static _fromMfaPendingCredential(g){return new yi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,M;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return yi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(M=g.multiFactorSession)&&void 0!==M&&M.idToken)return yi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class sa{constructor(g,v,M){this.session=g,this.hints=v,this.signInResolver=M}static _fromError(g,v){const M=bt(g),N=v.customData._serverResponse,L=(N.mfaInfo||[]).map(Ne=>z1._fromServerResponse(M,Ne));ie(N.mfaPendingCredential,M,"internal-error");const ee=yi._fromMfaPendingCredential(N.mfaPendingCredential);return new sa(ee,L,function(){var Ne=(0,l.Z)(function*(ct){const Dt=yield ct._process(M,ee);delete N.mfaInfo,delete N.mfaPendingCredential;const Kt=Object.assign(Object.assign({},N),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(v.operationType){case"signIn":const pn=yield pr._fromIdTokenResponse(M,v.operationType,Kt);return yield M._updateCurrentUser(pn.user),pn;case"reauthenticate":return ie(v.user,M,"internal-error"),pr._forOperation(v.user,v.operationType,Kt);default:et(M,"internal-error")}});return function(ct){return Ne.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,l.Z)(function*(){return v.signInResolver(g)})()}}function dc(C,g){var v;const M=(0,U.m9)(C),N=g;return ie(g.customData.operationType,M,"argument-error"),ie(null===(v=N.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),sa._fromError(M,N)}function Un(C,g){return Ut(C,"POST","/v2/accounts/mfaEnrollment:start",qt(C,g))}class go{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>z1._fromServerResponse(g.auth,M)))})}static _fromUser(g){return new go(g)}getSession(){var g=this;return(0,l.Z)(function*(){return yi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var M=this;return(0,l.Z)(function*(){const N=g,L=yield M.getSession(),ee=yield Vt(M.user,N._process(M.user.auth,L,v));return yield M.user._updateTokensIfNecessary(ee),M.user.reload()})()}unenroll(g){var v=this;return(0,l.Z)(function*(){var M;const N="string"==typeof g?g:g.uid,L=yield v.user.getIdToken(),ee=yield Vt(v.user,function po(C,g){return Ut(C,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(C,g))}(v.user.auth,{idToken:L,mfaEnrollmentId:N}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ne})=>Ne!==N),yield v.user._updateTokensIfNecessary(ee);try{yield v.user.reload()}catch(Ne){if("auth/user-token-expired"!==(null===(M=Ne)||void 0===M?void 0:M.code))throw Ne}})()}}const K3=new WeakMap;function mo(C){const g=(0,U.m9)(C);return K3.has(g)||K3.set(g,go._fromUser(g)),K3.get(g)}const l2="__sak";class Vs{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(l2,"1"),this.storage.removeItem(l2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ar=(()=>{class C extends Vs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function oa(){const C=(0,U.z$)();return O(C)||Pe(C)}()&&function Xi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const N=this.storage.getItem(M),L=this.localCache[M];N!==L&&v(M,L,N)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((Ne,ct,Dt)=>{this.notifyListeners(Ne,Dt)});const N=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(N);if(v.newValue!==Ne)null!==v.newValue?this.storage.setItem(N,v.newValue):this.storage.removeItem(N);else if(this.localCache[N]===v.newValue&&!M)return}const L=()=>{const Ne=this.storage.getItem(N);!M&&this.localCache[N]===Ne||this.notifyListeners(N,Ne)},ee=this.storage.getItem(N);!function kt(){return(0,U.w1)()&&10===document.documentMode}()||ee===v.newValue||v.newValue===v.oldValue?L():setTimeout(L,10)}notifyListeners(v,M){this.localCache[v]=M;const N=this.listeners[v];if(N)for(const L of Array.from(N))L(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var N=()=>super._set,L=this;return(0,l.Z)(function*(){yield N().call(L,v,M),L.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,N=this;return(0,l.Z)(function*(){const L=yield M().call(N,v);return N.localCache[v]=JSON.stringify(L),L})()}_remove(v){var M=()=>super._remove,N=this;return(0,l.Z)(function*(){yield M().call(N,v),delete N.localCache[v]})()}}return C.type="LOCAL",C})(),N2=(()=>{class C extends Vs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return C.type="SESSION",C})();let Ls=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(L=>L.isListeningto(v));if(M)return M;const N=new C(v);return this.receivers.push(N),N}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,l.Z)(function*(){const N=v,{eventId:L,eventType:ee,data:Ne}=N.data,ct=M.handlersMap[ee];if(!ct?.size)return;N.ports[0].postMessage({status:"ack",eventId:L,eventType:ee});const Dt=Array.from(ct).map(function(){var pn=(0,l.Z)(function*(Yr){return Yr(N.origin,Ne)});return function(Yr){return pn.apply(this,arguments)}}()),Kt=yield function aa(C){return Promise.all(C.map(function(){var g=(0,l.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return g.apply(this,arguments)}}()))}(Dt);N.ports[0].postMessage({status:"done",eventId:L,eventType:ee,response:Kt})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function j1(C="",g=10){let v="";for(let M=0;M<g;M++)v+=Math.floor(10*Math.random());return C+v}class X3{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,M=50){var N=this;return(0,l.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ee,Ne;return new Promise((ct,Dt)=>{const Kt=j1("",20);L.port1.start();const pn=setTimeout(()=>{Dt(new Error("unsupported_event"))},M);Ne={messageChannel:L,onMessage(Yr){const $i=Yr;if($i.data.eventId===Kt)switch($i.data.status){case"ack":clearTimeout(pn),ee=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),ct($i.data.response);break;default:clearTimeout(pn),clearTimeout(ee),Dt(new Error("invalid_response"))}}},N.handlers.add(Ne),L.port1.addEventListener("message",Ne.onMessage),N.target.postMessage({eventType:g,eventId:Kt,data:v},[L.port2])}).finally(()=>{Ne&&N.removeMessageHandler(Ne)})})()}}function Gn(){return window}function ri(){return typeof Gn().WorkerGlobalScope<"u"&&"function"==typeof Gn().importScripts}function u2(){return(u2=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zs="firebaseLocalStorageDb",ks="firebaseLocalStorage",$1="fbase_key";class W1{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function q1(C,g){return C.transaction([ks],g?"readwrite":"readonly").objectStore(ks)}function yo(){const C=indexedDB.open(zs,1);return new Promise((g,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(ks,{keyPath:$1})}catch(N){v(N)}}),C.addEventListener("success",(0,l.Z)(function*(){const M=C.result;M.objectStoreNames.contains(ks)?g(M):(M.close(),yield function gc(){const C=indexedDB.deleteDatabase(zs);return new W1(C).toPromise()}(),g(yield yo()))}))})}function Rs(C,g,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(C,g,v){const M=q1(C,!0).put({[$1]:g,value:v});return new W1(M).toPromise()})).apply(this,arguments)}function Z1(){return(Z1=(0,l.Z)(function*(C,g){const v=q1(C,!1).get(g),M=yield new W1(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function _o(C,g){const v=q1(C,!0).delete(g);return new W1(v).toPromise()}const K1=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.Z)(function*(){return v.db||(v.db=yield yo()),v.db})()}_withRetries(v){var M=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const L=yield M._openDb();return yield v(L)}catch(L){if(N++>3)throw L;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.Z)(function*(){return ri()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.Z)(function*(){v.receiver=Ls._getInstance(function vo(){return ri()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,l.Z)(function*(N,L){return{keyProcessed:(yield v._poll()).includes(L.key)}});return function(N,L){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,l.Z)(function*(N,L){return["keyChanged"]});return function(N,L){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.Z)(function*(){var M,N;if(v.activeServiceWorker=yield function pc(){return u2.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new X3(v.activeServiceWorker);const L=yield v.sender._send("ping",{},800);!L||(null===(M=L[0])||void 0===M?void 0:M.fulfilled)&&(null===(N=L[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,l.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ca(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const v=yield yo();return yield Rs(v,l2,"1"),yield _o(v,l2),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,l.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(L=>Rs(L,v,M)),N.localCache[v]=M,N.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,l.Z)(function*(){const N=yield M._withRetries(L=>function e4(C,g){return Z1.apply(this,arguments)}(L,v));return M.localCache[v]=N,N})()}_remove(v){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(N=>_o(N,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.Z)(function*(){const M=yield v._withRetries(ee=>{const Ne=q1(ee,!1).getAll();return new W1(Ne).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const N=[],L=new Set;for(const{fbase_key:ee,value:Ne}of M)L.add(ee),JSON.stringify(v.localCache[ee])!==JSON.stringify(Ne)&&(v.notifyListeners(ee,Ne),N.push(ee));for(const ee of Object.keys(v.localCache))v.localCache[ee]&&!L.has(ee)&&(v.notifyListeners(ee,null),N.push(ee));return N})()}notifyListeners(v,M){this.localCache[v]=M;const N=this.listeners[v];if(N)for(const L of Array.from(N))L(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function t4(C,g){return Ut(C,"POST","/v2/accounts/mfaSignIn:start",qt(C,g))}function kr(){return(kr=(0,l.Z)(function*(C){return(yield Ut(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function a1(C){return new Promise((g,v)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=g,M.onerror=N=>{const L=ke("internal-error");L.customData=N,v(L)},M.type="text/javascript",M.charset="UTF-8",function J1(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(M)})}function X1(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ui=1e12;class mc{constructor(g){this.auth=g,this.counter=Ui,this._widgets=new Map}render(g,v){const M=this.counter;return this._widgets.set(M,new En(g,this.auth.name,v||{})),this.counter++,M}reset(g){var v;const M=g||Ui;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Ui))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,l.Z)(function*(){var M;return null===(M=v._widgets.get(g||Ui))||void 0===M||M.execute(),""})()}}class En{constructor(g,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;ie(N,"argument-error",{appName:v}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kl(C){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const n4=X1("rcb"),f7=new Ke(3e4,6e4);class xu{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Gn().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return ie(function r4(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Gn().grecaptcha):new Promise((M,N)=>{const L=Gn().setTimeout(()=>{N(ke(g,"network-request-failed"))},f7.get());Gn()[n4]=()=>{Gn().clearTimeout(L),delete Gn()[n4];const Ne=Gn().grecaptcha;if(!Ne)return void N(ke(g,"internal-error"));const ct=Ne.render;Ne.render=(Dt,Kt)=>{const pn=ct(Dt,Kt);return this.counter++,pn},this.hostLanguage=v,M(Ne)},a1(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:n4,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(L),N(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Gn().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class h7{load(g){return(0,l.Z)(function*(){return new mc(g)})()}clearedOneInstance(){}}const c1="recaptcha",Du={theme:"light",type:"image"};class Ql{constructor(g,v=Object.assign({},Du),M){this.parameters=v,this.type=c1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(M),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new h7:new xu,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),M=g.getAssertedRecaptcha();return M.getResponse(v)||new Promise(L=>{const ee=Ne=>{!Ne||(g.tokenChangeListeners.delete(ee),L(Ne))};g.tokenChangeListeners.add(ee),g.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof g)g(v);else if("string"==typeof g){const M=Gn()[g];"function"==typeof M&&M(v)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){ie(Be()&&!ri(),g.auth,"internal-error"),yield function Mr(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Co(C){return kr.apply(this,arguments)}(g.auth);ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class un{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=T1._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Ii(C,g,v){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(C,g,v){const M=bt(C),N=yield zn(M,g,(0,U.m9)(v));return new un(N,L=>bs(M,L))})).apply(this,arguments)}function bn(C,g,v){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C);yield Pi(!1,M,"phone");const N=yield zn(M.auth,g,(0,U.m9)(v));return new un(N,L=>zt(M,L))})).apply(this,arguments)}function d2(C,g,v){return l1.apply(this,arguments)}function l1(){return(l1=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C),N=yield zn(M.auth,g,(0,U.m9)(v));return new un(N,L=>Zl(M,L))})).apply(this,arguments)}function zn(C,g,v){return u1.apply(this,arguments)}function u1(){return(u1=(0,l.Z)(function*(C,g,v){var M;const N=yield v.verify();try{let L;if(ie("string"==typeof N,C,"argument-error"),ie(v.type===c1,C,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const ee=L.session;if("phoneNumber"in L)return ie("enroll"===ee.type,C,"internal-error"),(yield Un(C,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ie("signin"===ee.type,C,"internal-error");const Ne=(null===(M=L.multiFactorHint)||void 0===M?void 0:M.uid)||L.multiFactorUid;return ie(Ne,C,"missing-multi-factor-info"),(yield t4(C,{mfaPendingCredential:ee.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield jl(C,{phoneNumber:L.phoneNumber,recaptchaToken:N});return ee}}finally{v._reset()}})).apply(this,arguments)}function vc(C,g){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(C,g){yield co((0,U.m9)(C),g)})).apply(this,arguments)}let i4=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=bt(v)}verifyPhoneNumber(v,M){return zn(this.auth,v,(0,U.m9)(M))}static credential(v,M){return T1._fromVerification(v,M)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:N}=v;return M&&N?T1._fromTokenResponse(M,N):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function T2(C,g){return g?X(g):(ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class _c extends ei{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return n1(g,this._buildIdpRequest())}_linkToIdToken(g,v){return n1(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return n1(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function V2(C){return Qo(C.auth,new _c(C),C.bypassAuthState)}function ot(C){const{auth:g,user:v}=C;return ie(v,g,"internal-error"),Ko(v,new _c(C),C.bypassAuthState)}function da(C){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(C){const{auth:g,user:v}=C;return ie(v,g,"internal-error"),co(v,new _c(C),C.bypassAuthState)})).apply(this,arguments)}class Os{constructor(g,v,M,N,L=!1){this.auth=g,this.resolver=M,this.user=N,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,l.Z)(function*(M,N){g.pendingPromise={resolve:M,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(M,N){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,l.Z)(function*(){const{urlResponse:M,sessionId:N,postBody:L,tenantId:ee,error:Ne,type:ct}=g;if(Ne)return void v.reject(Ne);const Dt={auth:v.auth,requestUri:M,sessionId:N,tenantId:ee||void 0,postBody:L||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ct)(Dt))}catch(Kt){v.reject(Kt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return da;case"reauthViaPopup":case"reauthViaRedirect":return ot;default:et(this.auth,"internal-error")}}resolve(g){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ps=new Ke(2e3,1e4);function Vn(C,g,v){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(C,g,v){const M=bt(C);Me(C,g,Dr);const N=T2(M,v);return new bo(M,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function ts(C,g,v){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C);Me(M.auth,g,Dr);const N=T2(M.auth,v);return new bo(M.auth,"reauthViaPopup",g,N,M).executeNotNull()})).apply(this,arguments)}function s4(C,g,v){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C);Me(M.auth,g,Dr);const N=T2(M.auth,v);return new bo(M.auth,"linkViaPopup",g,N,M).executeNotNull()})).apply(this,arguments)}let bo=(()=>{class C extends Os{constructor(v,M,N,L,ee){super(v,M,L,ee),this.provider=N,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.Z)(function*(){const M=yield v.execute();return ie(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,l.Z)(function*(){_e(1===v.filter.length,"Popup operations only handle one event");const M=j1();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(N=>{v.reject(N)}),v.resolver._isIframeWebStorageSupported(v.auth,N=>{N||v.reject(ke(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,N;this.pollId=null!==(N=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Ps.get())};v()}}return C.currentPopupAction=null,C})();const ii=new Map;class Ti extends Os{constructor(g,v,M=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,l.Z)(function*(){let M=ii.get(v.auth._key());if(!M){try{const L=(yield function Mo(C,g){return Rr.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;M=()=>Promise.resolve(L)}catch(N){M=()=>Promise.reject(N)}ii.set(v.auth._key(),M)}return v.bypassAuthState||ii.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,M=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(M,g);if("unknown"!==g.type){if(g.eventId){const N=yield M.auth._redirectUserForId(g.eventId);if(N)return M.user=N,v().call(M,g);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Rr(){return(Rr=(0,l.Z)(function*(C,g){const v=h1(g),M=f1(C);if(!(yield M._isAvailable()))return!1;const N="true"===(yield M._get(v));return yield M._remove(v),N})).apply(this,arguments)}function d1(C,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(C,g){return f1(C)._set(h1(g),"true")})).apply(this,arguments)}function Cc(){ii.clear()}function Mn(C,g){ii.set(C._key(),g)}function f1(C){return X(C._redirectPersistence)}function h1(C){return G("pendingRedirect",C.config.apiKey,C.name)}function jn(C,g,v){return function Yt(C,g,v){return ji.apply(this,arguments)}(C,g,v)}function ji(){return(ji=(0,l.Z)(function*(C,g,v){const M=bt(C);Me(C,g,Dr);const N=T2(M,v);return yield d1(N,M),N._openRedirect(M,g,"signInViaRedirect")})).apply(this,arguments)}function wn(C,g,v){return function D(C,g,v){return S.apply(this,arguments)}(C,g,v)}function S(){return(S=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C);Me(M.auth,g,Dr);const N=T2(M.auth,v);yield d1(N,M.auth);const L=yield Tt(M);return N._openRedirect(M.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function I(C,g,v){return function F(C,g,v){return K.apply(this,arguments)}(C,g,v)}function K(){return(K=(0,l.Z)(function*(C,g,v){const M=(0,U.m9)(C);Me(M.auth,g,Dr);const N=T2(M.auth,v);yield Pi(!1,M,g.providerId),yield d1(N,M.auth);const L=yield Tt(M);return N._openRedirect(M.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function ae(C,g){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(C,g){return yield bt(C)._initializationPromise,We(C,g,!1)})).apply(this,arguments)}function We(C,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(C,g,v=!1){const M=bt(C),N=T2(M,g),ee=yield new Ti(M,N,v).execute();return ee&&!v&&(delete ee.user._redirectEventId,yield M._persistUserIfCurrent(ee.user),yield M._setRedirectUser(null,g)),ee})).apply(this,arguments)}function Tt(C){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(C){const g=j1(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Qn{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(g,M)&&(v=!0,this.sendToConsumer(g,M),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Bt(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var M;if(g.error&&!p1(g)){const N=(null===(M=g.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(ke(this.auth,N))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const M=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&M}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ar(g))}saveEventToCache(g){this.cachedEventUids.add(Ar(g)),this.lastProcessedEventTime=Date.now()}}function Ar(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function p1({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function Er(C){return g1.apply(this,arguments)}function g1(){return(g1=(0,l.Z)(function*(C,g={}){return Ut(C,"GET","/v1/projects",g)})).apply(this,arguments)}const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wo=/^https?/;function xr(){return(xr=(0,l.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Er(C);for(const v of g)try{if(bc(v))return}catch{}et(C,"unauthorized-domain")})).apply(this,arguments)}function bc(C){const g=Fe(),{protocol:v,hostname:M}=new URL(g);if(C.startsWith("chrome-extension://")){const ee=new URL(C);return""===ee.hostname&&""===M?"chrome-extension:"===v&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&ee.hostname===M}if(!wo.test(v))return!1;if(L2.test(C))return M===C;const N=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(M)}const Jl=new Ke(3e4,6e4);function o4(){const C=Gn().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let $n=null;function m1(C){return $n=$n||function p7(C){return new Promise((g,v)=>{var M,N,L;function ee(){o4(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{o4(),v(ke(C,"network-request-failed"))},timeout:Jl.get()})}if(null!==(N=null===(M=Gn().gapi)||void 0===M?void 0:M.iframes)&&void 0!==N&&N.Iframe)g(gapi.iframes.getContext());else{if(null===(L=Gn().gapi)||void 0===L||!L.load){const Ne=X1("iframefcb");return Gn()[Ne]=()=>{gapi.load?ee():v(ke(C,"network-request-failed"))},a1(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(ct=>v(ct))}ee()}}).catch(g=>{throw $n=null,g})}(C),$n}const a4=new Ke(5e3,15e3),c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l4(C){const g=C.config;ie(g.authDomain,C,"auth-domain-config-required");const v=g.emulator?dn(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,M={apiKey:g.apiKey,appName:C.name,v:H.SDK_VERSION},N=Su.get(C.config.apiHost);N&&(M.eid=N);const L=C._getFrameworks();return L.length&&(M.fw=L.join(",")),`${v}?${(0,U.xO)(M).slice(1)}`}function Mc(){return Mc=(0,l.Z)(function*(C){const g=yield m1(C),v=Gn().gapi;return ie(v,C,"internal-error"),g.open({where:document.body,url:l4(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},M=>new Promise(function(){var N=(0,l.Z)(function*(L,ee){yield M.restyle({setHideOnLeave:!1});const Ne=ke(C,"network-request-failed"),ct=Gn().setTimeout(()=>{ee(Ne)},a4.get());function Dt(){Gn().clearTimeout(ct),L(M)}M.ping(Dt).then(Dt,()=>{ee(Ne)})});return function(L,ee){return N.apply(this,arguments)}}()))}),Mc.apply(this,arguments)}const fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ha{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xo(C,g,v,M,N,L){ie(C.config.authDomain,C,"auth-domain-config-required"),ie(C.config.apiKey,C,"invalid-api-key");const ee={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:M,v:H.SDK_VERSION,eventId:N};if(g instanceof Dr){g.setDefaultLanguage(C.languageCode),ee.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ct,Dt]of Object.entries(L||{}))ee[ct]=Dt}if(g instanceof s2){const ct=g.getScopes().filter(Dt=>""!==Dt);ct.length>0&&(ee.scopes=ct.join(","))}C.tenantId&&(ee.tid=C.tenantId);const Ne=ee;for(const ct of Object.keys(Ne))void 0===Ne[ct]&&delete Ne[ct];return`${function Gs({config:C}){return C.emulator?dn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,U.xO)(Ne).slice(1)}`}const Do="webStorageSupport",d4=class pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=We,this._overrideRedirectResult=Mn}_openPopup(g,v,M,N){var L=this;return(0,l.Z)(function*(){var ee;_e(null===(ee=L.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const Ne=xo(g,v,M,Fe(),N);return function xc(C,g,v,M=500,N=600){const L=Math.max((window.screen.availHeight-N)/2,0).toString(),ee=Math.max((window.screen.availWidth-M)/2,0).toString();let Ne="";const ct=Object.assign(Object.assign({},fa),{width:M.toString(),height:N.toString(),top:L,left:ee}),Dt=(0,U.z$)().toLowerCase();v&&(Ne=ne(Dt)?"_blank":v),T(Dt)&&(g=g||"http://localhost",ct.scrollbars="yes");const Kt=Object.entries(ct).reduce((Yr,[$i,Ac])=>`${Yr}${$i}=${Ac},`,"");if(function fn(C=(0,U.z$)()){var g;return Pe(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Dt)&&"_self"!==Ne)return function y1(C,g){const v=document.createElement("a");v.href=C,v.target=g;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(g||"",Ne),new ha(null);const pn=window.open(g||"",Ne,Kt);ie(pn,C,"popup-blocked");try{pn.focus()}catch{}return new ha(pn)}(g,Ne,j1())})()}_openRedirect(g,v,M,N){var L=this;return(0,l.Z)(function*(){return yield L._originValidation(g),function hc(C){Gn().location.href=C}(xo(g,v,M,Fe(),N)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:N,promise:L}=this.eventManagers[v];return N?Promise.resolve(N):(_e(L,"If manager is not set, promise should be"),L)}const M=this.initAndGetManager(g);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(g){var v=this;return(0,l.Z)(function*(){const M=yield function e6(C){return Mc.apply(this,arguments)}(g),N=new Qn(g);return M.register("authEvent",L=>(ie(L?.authEvent,g,"invalid-auth-event"),{status:N.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:N},v.iframes[g._key()]=M,N})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Do,{type:Do},N=>{var L;const ee=null===(L=N?.[0])||void 0===L?void 0:L[Do];void 0!==ee&&v(!!ee),et(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function z2(C){return xr.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return hn()||O()||Pe()}};class f4 extends class Dc{constructor(g){this.factorId=g}_process(g,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,M);case"signin":return this._finalizeSignIn(g,v.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new f4(g)}_finalizeEnroll(g,v,M){return function ho(C,g){return Ut(C,"POST","/v2/accounts/mfaEnrollment:finalize",qt(C,g))}(g,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function Q1(C,g){return Ut(C,"POST","/v2/accounts/mfaSignIn:finalize",qt(C,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let f2=(()=>{class C{constructor(){}static assertion(v){return f4._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var k2="@firebase/auth",h4="0.20.10";class n6{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,l.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(M=>{var N;g((null===(N=M)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);!v||(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sc=(0,U.Pz)("authIdTokenMaxAge")||300;let p4=null;const Iu=C=>function(){var g=(0,l.Z)(function*(v){const M=v&&(yield v.getIdTokenResult()),N=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(N&&N>Sc)return;const L=M?.token;p4!==L&&(p4=L,yield fetch(C,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function Tu(C=(0,H.getApp)()){const g=(0,H._getProvider)(C,"auth");if(g.isInitialized())return g.getImmediate();const v=function pe(C,g){const v=(0,H._getProvider)(C,"auth");if(v.isInitialized()){const N=v.getImmediate(),L=v.getOptions();if((0,U.vZ)(L,g??{}))return N;et(N,"already-initialized")}return v.initialize({options:g})}(C,{popupRedirectResolver:d4,persistence:[K1,ar,N2]}),M=(0,U.Pz)("authTokenSyncURL");if(M){const L=Iu(M);(function fo(C,g,v){(0,U.m9)(C).beforeAuthStateChanged(g,v)})(v,L,()=>L(v.currentUser)),function ia(C,g,v,M){(0,U.m9)(C).onIdTokenChanged(g,v,M)}(v,ee=>L(ee))}const N=(0,U.q4)("auth");return N&&Q2(v,`http://${N}`),v}!function Eu(C){(0,H._registerComponent)(new me.wA("auth",(g,{options:v})=>{const M=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),{apiKey:L,authDomain:ee}=M.options;return((Ne,ct)=>{ie(L&&!L.includes(":"),"invalid-api-key",{appName:Ne.name}),ie(!ee?.includes(":"),"argument-error",{appName:Ne.name});const Dt={apiKey:L,authDomain:ee,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(C)},Kt=new N1(Ne,ct,Dt);return function oe(C,g){const v=g?.persistence||[],M=(Array.isArray(v)?v:[v]).map(X);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(M,g?.popupRedirectResolver)}(Kt,v),Kt})(M,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,M)=>{g.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new me.wA("auth-internal",g=>{const v=bt(g.getProvider("auth").getImmediate());return new n6(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(k2,h4,function Au(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,H.registerVersion)(k2,h4,"esm2017")}("Browser")},2090:(pt,Ae,k)=>{k.d(Ae,{$s:()=>st,BH:()=>Gt,G6:()=>Me,L:()=>he,LL:()=>nn,P0:()=>Be,Pz:()=>sn,Sg:()=>Ke,UG:()=>xe,US:()=>me,ZB:()=>j,ZR:()=>xn,aH:()=>Ct,b$:()=>ge,eu:()=>ie,hl:()=>Ye,jU:()=>at,m9:()=>en,ne:()=>Sn,pd:()=>Z2,q4:()=>Fe,r3:()=>$r,ru:()=>be,tV:()=>ye,uI:()=>Le,vZ:()=>tt,w1:()=>et,xO:()=>Cn,xb:()=>Ai,z$:()=>Ue,zI:()=>de,zd:()=>br});const se=function($){const G=[];let Z=0;for(let B=0;B<$.length;B++){let T=$.charCodeAt(B);T<128?G[Z++]=T:T<2048?(G[Z++]=T>>6|192,G[Z++]=63&T|128):55296==(64512&T)&&B+1<$.length&&56320==(64512&$.charCodeAt(B+1))?(T=65536+((1023&T)<<10)+(1023&$.charCodeAt(++B)),G[Z++]=T>>18|240,G[Z++]=T>>12&63|128,G[Z++]=T>>6&63|128,G[Z++]=63&T|128):(G[Z++]=T>>12|224,G[Z++]=T>>6&63|128,G[Z++]=63&T|128)}return G},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let T=0;T<$.length;T+=3){const O=$[T],ne=T+1<$.length,ze=ne?$[T+1]:0,lt=T+2<$.length,ut=lt?$[T+2]:0;let Ht=(15&ze)<<2|ut>>6,fn=63&ut;lt||(fn=64,ne||(Ht=64)),B.push(Z[O>>2],Z[(3&O)<<4|ze>>4],Z[Ht],Z[fn])}return B.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(se($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let Z=0,B=0;for(;Z<$.length;){const T=$[Z++];if(T<128)G[B++]=String.fromCharCode(T);else if(T>191&&T<224){const O=$[Z++];G[B++]=String.fromCharCode((31&T)<<6|63&O)}else if(T>239&&T<365){const lt=((7&T)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;G[B++]=String.fromCharCode(55296+(lt>>10)),G[B++]=String.fromCharCode(56320+(1023&lt))}else{const O=$[Z++],ne=$[Z++];G[B++]=String.fromCharCode((15&T)<<12|(63&O)<<6|63&ne)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const Z=G?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let T=0;T<$.length;){const O=Z[$.charAt(T++)],ze=T<$.length?Z[$.charAt(T)]:0;++T;const ut=T<$.length?Z[$.charAt(T)]:64;++T;const Pe=T<$.length?Z[$.charAt(T)]:64;if(++T,null==O||null==ze||null==ut||null==Pe)throw Error();B.push(O<<2|ze>>4),64!==ut&&(B.push(ze<<4&240|ut>>2),64!==Pe&&B.push(ut<<6&192|Pe))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},he=function($){return function($){const G=se($);return me.encodeByteArray(G,!0)}($).replace(/\./g,"")},ye=function($){try{return me.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function j($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const Z in G)!G.hasOwnProperty(Z)||!J(Z)||($[Z]=j($[Z],G[Z]));return $}function J($){return"__proto__"!==$}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function be(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const $=Ue();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Me(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"object"==typeof indexedDB}function ie(){return new Promise(($,G)=>{try{let Z=!0;const B="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(B);T.onsuccess=()=>{T.result.close(),Z||self.indexedDB.deleteDatabase(B),$(!0)},T.onupgradeneeded=()=>{Z=!1},T.onerror=()=>{var O;G((null===(O=T.error)||void 0===O?void 0:O.message)||"")}}catch(Z){G(Z)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const oe=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=$&&ye($[1]);return G&&JSON.parse(G)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Fe=$=>{var G,Z;return null===(Z=null===(G=oe())||void 0===G?void 0:G.emulatorHosts)||void 0===Z?void 0:Z[$]},Be=$=>{const G=Fe($);if(!G)return;const Z=G.lastIndexOf(":");if(Z<=0||Z+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const B=parseInt(G.substring(Z+1),10);return"["===G[0]?[G.substring(1,Z-1),B]:[G.substring(0,Z),B]},Ct=()=>{var $;return null===($=oe())||void 0===$?void 0:$.config},sn=$=>{var G;return null===(G=oe())||void 0===G?void 0:G[`_${$}`]};class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Z)=>{this.resolve=G,this.reject=Z})}wrapCallback(G){return(Z,B)=>{Z?this.reject(Z):this.resolve(B),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Z):G(Z,B))}}}function Ke($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=G||"demo-project",T=$.iat||0,O=$.sub||$.user_id;if(!O)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ne=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:T,exp:T+3600,auth_time:T,sub:O,user_id:O,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(ne)),""].join(".")}class xn extends Error{constructor(G,Z,B){super(Z),this.code=G,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(G,Z,B){this.service=G,this.serviceName=Z,this.errors=B}create(G,...Z){const B=Z[0]||{},T=`${this.service}/${G}`,O=this.errors[G],ne=O?function rn($,G){return $.replace(qt,(Z,B)=>{const T=G[B];return null!=T?String(T):`<${B}?>`})}(O,B):"Error";return new xn(T,`${this.serviceName}: ${ne} (${T}).`,B)}}const qt=/\{\$([^}]+)}/g;function $r($,G){return Object.prototype.hasOwnProperty.call($,G)}function Ai($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function tt($,G){if($===G)return!0;const Z=Object.keys($),B=Object.keys(G);for(const T of Z){if(!B.includes(T))return!1;const O=$[T],ne=G[T];if(nr(O)&&nr(ne)){if(!tt(O,ne))return!1}else if(O!==ne)return!1}for(const T of B)if(!Z.includes(T))return!1;return!0}function nr($){return null!==$&&"object"==typeof $}function Cn($){const G=[];for(const[Z,B]of Object.entries($))Array.isArray(B)?B.forEach(T=>{G.push(encodeURIComponent(Z)+"="+encodeURIComponent(T))}):G.push(encodeURIComponent(Z)+"="+encodeURIComponent(B));return G.length?"&"+G.join("&"):""}function br($){const G={};return $.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[T,O]=B.split("=");G[decodeURIComponent(T)]=decodeURIComponent(O)}}),G}function Z2($){const G=$.indexOf("?");if(!G)return"";const Z=$.indexOf("#",G);return $.substring(G,Z>0?Z:void 0)}function Sn($,G){const Z=new yn($,G);return Z.subscribe.bind(Z)}class yn{constructor(G,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{G(this)}).catch(B=>{this.error(B)})}next(G){this.forEachObserver(Z=>{Z.next(G)})}error(G){this.forEachObserver(Z=>{Z.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Z,B){let T;if(void 0===G&&void 0===Z&&void 0===B)throw new Error("Missing Observer.");T=function vt($,G){if("object"!=typeof $||null===$)return!1;for(const Z of G)if(Z in $&&"function"==typeof $[Z])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Z,complete:B},void 0===T.next&&(T.next=Vt),void 0===T.error&&(T.error=Vt),void 0===T.complete&&(T.complete=Vt);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?T.error(this.finalError):T.complete()}catch{}}),this.observers.push(T),O}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,G)}sendOne(G,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Z(this.observers[G])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function st($,G=1e3,Z=2){const B=G*Math.pow(Z,$),T=Math.round(.5*B*(Math.random()-.5)*2);return Math.min(144e5,B+T)}function en($){return $&&$._delegate?$._delegate:$}},6533:(pt,Ae,k)=>{var l=k(4650);let U=null;function H(){return U}const le=new l.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){return(0,l.LFG)(j)}()},providedIn:"platform"}),n})();const W=new l.OlP("Location Initialized");let j=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){J()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){J()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ue(){return new j((0,l.LFG)(le))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(nt)},providedIn:"root"}),n})();const ge=new l.OlP("appBaseHref");let nt=(()=>{class n extends be{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+at(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,a){const u=this.prepareExternalUrl(i+at(a));this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,a){const u=this.prepareExternalUrl(i+at(a));this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(he),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends be{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Le(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,a){let u=this.prepareExternalUrl(i+at(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,a){let u=this.prepareExternalUrl(i+at(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(he),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=xe(Ye(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+at(r))}normalize(e){return n.stripTrailingSlash(function Me(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=at,n.joinWithSlash=Le,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(){return new ke((0,l.LFG)(be))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Percent=1]="Percent",de[de.Currency=2]="Currency",de[de.Scientific=3]="Scientific",de))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function Ut(n,t){const e=(0,l.cg1)(n),r=e[l.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===oe.CurrencyDecimal)return e[l.wAp.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[l.wAp.NumberSymbols][oe.Group]}return r}const lt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Yn(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class X2{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new X2(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),e1(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{e1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function e1(n,t){n.context.$implicit=t.item}let Tn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new B3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ir("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ir("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class B3{constructor(){this.$implicit=null,this.ngIf=null}}function ir(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class fi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let t1=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),so=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new fi(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(t1,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();function hi(n,t){return new l.vHH(2100,!1)}class Gl{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class r2{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const jl=new r2,Za=new Gl;let U3=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,l.QGY)(e))return jl;if((0,l.F4k)(e))return Za;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),s2=(()=>{class n{constructor(e){this._locale=e}transform(e,r,i){if(!function ao(n){return!(null==n||""===n||n!=n)}(e))return null;i=i||this._locale;try{return function bt(n,t,e){return function An(n,t,e,r,i,a,u=!1){let f="",m=!1;if(isFinite(n)){let _=function io(n){let r,i,a,u,f,t=Math.abs(n)+"",e=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(i<0&&(i=a),i+=+t.slice(a+1),t=t.substring(0,a)):i<0&&(i=t.length),a=0;"0"===t.charAt(a);a++);if(a===(f=t.length))r=[0],i=1;else{for(f--;"0"===t.charAt(f);)f--;for(i-=a,r=[],u=0;a<=f;a++,u++)r[u]=Number(t.charAt(a))}return i>22&&(r=r.splice(0,21),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(n);u&&(_=function Q2(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(_));let x=t.minInt,A=t.minFrac,z=t.maxFrac;if(a){const Re=a.match(lt);if(null===Re)throw new Error(`${a} is not a valid digit info`);const Ze=Re[1],qe=Re[3],je=Re[5];null!=Ze&&(x=Yn(Ze)),null!=qe&&(A=Yn(qe)),null!=je?z=Yn(je):null!=qe&&A>z&&(z=A)}!function e2(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(t,i),e);let u=a+n.integerLen,f=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let A=u;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=a+1),r[0]=0;for(let A=1;A<u;A++)r[A]=0}if(f>=5)if(u-1<0){for(let A=0;A>u;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,a);i++)r.push(0);let m=0!==a;const _=t+n.integerLen,x=r.reduceRight(function(A,z,P,Y){return Y[P]=(z+=A)<10?z:z-10,m&&(0===Y[P]&&P>=_?Y.pop():m=!1),z>=10?1:0},0);x&&(r.unshift(x),n.integerLen++)}(_,A,z);let P=_.digits,Y=_.integerLen;const re=_.exponent;let ue=[];for(m=P.every(Re=>!Re);Y<x;Y++)P.unshift(0);for(;Y<0;Y++)P.unshift(0);Y>0?ue=P.splice(Y,P.length):(ue=P,P=[0]);const Ie=[];for(P.length>=t.lgSize&&Ie.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)Ie.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&Ie.unshift(P.join("")),f=Ie.join(Ut(e,r)),ue.length&&(f+=Ut(e,i)+ue.join("")),re&&(f+=Ut(e,oe.Exponential)+"+"+re)}else f=Ut(e,oe.Infinity);return f=n<0&&!m?t.negPre+f+t.negSuf:t.posPre+f+t.posSuf,f}(n,function K2(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],f=u[0],m=u[1]||"";e.posPre=f.substring(0,f.indexOf("#"));for(let x=0;x<m.length;x++){const A=m.charAt(x);"0"===A?e.minFrac=e.maxFrac=x+1:"#"===A?e.maxFrac=x+1:e.posSuf+=A}const _=f.split(",");if(e.gSize=_[1]?_[1].length:0,e.lgSize=_[2]||_[1]?(_[2]||_[1]).length:0,a){const x=i.length-e.posPre.length-e.posSuf.length,A=a.indexOf("#");e.negPre=a.substring(0,A).replace(/'/g,""),e.negSuf=a.slice(A+x).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Lr(n,t){return(0,l.cg1)(n)[l.wAp.NumberFormats][t]}(t,de.Decimal),Ut(t,oe.MinusSign)),t,oe.Group,oe.Decimal,e)}(function Zo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),i,r)}catch(a){throw hi()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const gi="browser";function pr(n){return n===gi}function mi(n){return"server"===n}let tc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new G3((0,l.LFG)(le),window)}),n})();class G3{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Sr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ei(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class A2 extends class oc extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){U||(U=n)}(new A2)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ac(){return E2=E2||document.querySelector("base"),E2?E2.getAttribute("href"):null}();return null==e?null:function c2(n){Hn=Hn||document.createElement("a"),Hn.setAttribute("href",n);const t=Hn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){E2=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Wo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Hn,E2=null;const Ln=new l.OlP("TRANSITION_ID"),ta=[{provide:l.ip1,useFactory:function cc(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const r=H(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ln,le,l.zs3],multi:!0}];let na=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=new l.OlP("EventManagerPlugins");let ia=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ra),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fo{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=H().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let B1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),U1=(()=>{class n extends B1{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(lc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(lc))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function lc(n){H().remove(n)}const G1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uc=/%COMP%/g;function po(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?po(n,i,e):(i=i.replace(uc,n),e.push(i))}return e}function go(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let mo=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new l2(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case l.ifc.ShadowDom:return new Q3(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=po(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ia),l.LFG(U1),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class l2{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(G1[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Hs(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Hs(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const a=G1[i];a?t.setAttributeNS(a,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=G1[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,r,i&l.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,go(r)):this.eventManager.addEventListener(t,e,go(r))}}function Hs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fc extends l2{constructor(t,e,r,i){super(t),this.component=r;const a=po(i+"-"+r.id,r.styles,[]);e.addStyles(a),this.contentAttr=function Un(n){return"_ngcontent-%COMP%".replace(uc,n)}(i+"-"+r.id),this.hostAttr=function ho(n){return"_nghost-%COMP%".replace(uc,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Q3 extends l2{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=po(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ar=(()=>{class n extends fo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const J3=["alt","control","meta","shift"],N2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ls=(()=>{class n extends fo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),J3.forEach(_=>{const x=r.indexOf(_);x>-1&&(r.splice(x,1),u+=_+".")}),u+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=u,m}static matchEventFullKeyCode(e,r){let i=N2[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(i=e.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),J3.forEach(u=>{u!==i&&(0,aa[u])(e)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(e,r,i){return a=>{n.matchEventFullKeyCode(a,e)&&i.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zs=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:gi},{provide:l.g9A,useValue:function pc(){A2.makeCurrent()},multi:!0},{provide:le,useFactory:function ca(){return(0,l.RDi)(document),document},deps:[]}]),o1=new l.OlP(""),ks=[{provide:l.rWj,useClass:class Y3{addToWindow(t){l.dqk.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(m){u=u||m,a--,0==a&&r(u)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?H().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],$1=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function u2(){return new l.qLn},deps:[]},{provide:ra,useClass:ar,multi:!0,deps:[le,l.R0b,l.Lbi]},{provide:ra,useClass:Ls,multi:!0,deps:[le]},{provide:mo,useClass:mo,deps:[ia,U1,l.AFp]},{provide:l.FYo,useExisting:mo},{provide:B1,useExisting:U1},{provide:U1,useClass:U1,deps:[le]},{provide:ia,useClass:ia,deps:[ra,l.R0b]},{provide:class L1{},useClass:na,deps:[]},[]];let W1=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Ln,useExisting:l.AFp},ta]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(o1,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...$1,...ks],imports:[pi,l.hGG]}),n})(),Bi=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Rs(){return new Bi((0,l.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let c1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):l.LFG(Ql),r},providedIn:"root"}),n})(),Ql=(()=>{class n extends c1{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Du(n){return new Ql(n.get(le))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var un=k(8996),Ii=k(3269);function dt(...n){const t=(0,Ii.yG)(n);return(0,un.D)(n,t)}var bn=k(7579);class tn extends bn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const l1=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zn=k(9751);const{isArray:u1}=Array,{getPrototypeOf:vc,prototype:yc,keys:i4}=Object;function T2(n){if(1===n.length){const t=n[0];if(u1(t))return{args:t,keys:null};if(function _c(n){return n&&"object"==typeof n&&vc(n)===yc}(t)){const e=i4(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var V2=k(4671),ot=k(4004);const{isArray:da}=Array;function Os(n){return(0,ot.U)(t=>function Gi(n,t){return da(t)?n(...t):n(t)}(n,t))}function Ps(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var Vn=k(5403),Fs=k(9672);function ts(...n){const t=(0,Ii.yG)(n),e=(0,Ii.jO)(n),{args:r,keys:i}=T2(n);if(0===r.length)return(0,un.D)([],t);const a=new zn.y(function Bs(n,t,e=V2.y){return r=>{s4(t,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let m=0;m<i;m++)s4(t,()=>{const _=(0,un.D)(n[m],t);let x=!1;_.subscribe((0,Vn.x)(r,A=>{a[m]=A,x||(x=!0,f--),f||r.next(e(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>Ps(i,u):V2.y));return e?a.pipe(Os(e)):a}function s4(n,t,e){n?(0,Fs.f)(e,n,t):t()}var ns=k(8189);function H2(...n){return function bo(){return(0,ns.J)(1)}()((0,un.D)(n,(0,Ii.yG)(n)))}var ii=k(8421);function Ti(n){return new zn.y(t=>{(0,ii.Xf)(n()).subscribe(t)})}var Mo=k(9635),Rr=k(576);function d1(n,t){const e=(0,Rr.m)(n)?n:()=>n,r=i=>i.error(e());return new zn.y(t?i=>t.schedule(r,0,i):r)}var wr=k(515),Cc=k(727),Mn=k(4482);function f1(){return(0,Mn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Vn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class h1 extends zn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Mn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Cc.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Vn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Cc.w0.EMPTY)}return t}refCount(){return f1()(this)}}function jn(n,t){return(0,Mn.e)((e,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();e.subscribe((0,Vn.x)(r,m=>{i?.unsubscribe();let _=0;const x=a++;(0,ii.Xf)(n(m,x)).subscribe(i=(0,Vn.x)(r,A=>r.next(t?t(m,A,x,_++):A),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function Yt(n){return n<=0?()=>wr.E:(0,Mn.e)((t,e)=>{let r=0;t.subscribe((0,Vn.x)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function ji(...n){const t=(0,Ii.yG)(n);return(0,Mn.e)((e,r)=>{(t?H2(n,e,t):H2(n,e)).subscribe(r)})}function wn(n,t){return(0,Mn.e)((e,r)=>{let i=0;e.subscribe((0,Vn.x)(r,a=>n.call(t,a,i++)&&r.next(a)))})}var D=k(5577);function S(n){return(0,Mn.e)((t,e)=>{let r=!1;t.subscribe((0,Vn.x)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function I(n=F){return(0,Mn.e)((t,e)=>{let r=!1;t.subscribe((0,Vn.x)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function F(){return new l1}function K(n,t){const e=arguments.length>=2;return r=>r.pipe(n?wn((i,a)=>n(i,a,r)):V2.y,Yt(1),e?S(t):I(()=>new l1))}function ae(n,t){return(0,Rr.m)(t)?(0,D.z)(n,t,1):(0,D.z)(n,1)}var Ce=k(8505);function We(n){return(0,Mn.e)((t,e)=>{let a,r=null,i=!1;r=t.subscribe((0,Vn.x)(e,void 0,void 0,u=>{a=(0,ii.Xf)(n(u,We(n)(t))),r?(r.unsubscribe(),r=null,a.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(e))})}function yt(n,t,e,r,i){return(a,u)=>{let f=e,m=t,_=0;a.subscribe((0,Vn.x)(u,x=>{const A=_++;m=f?n(m,x,A):(f=!0,x),r&&u.next(m)},i&&(()=>{f&&u.next(m),u.complete()})))}}function Tt(n,t){return(0,Mn.e)(yt(n,t,arguments.length>=2,!0))}function Rt(n){return n<=0?()=>wr.E:(0,Mn.e)((t,e)=>{let r=[];t.subscribe((0,Vn.x)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function _t(n,t){const e=arguments.length>=2;return r=>r.pipe(n?wn((i,a)=>n(i,a,r)):V2.y,Rt(1),e?S(t):I(()=>new l1))}function Ar(n){return(0,ot.U)(()=>n)}function p1(n){return(0,Mn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Bt="primary",Er=Symbol("RouteTitle");class g1{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function L2(n){return new g1(n)}function wo(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!bc(n[i],t[i]))return!1;return!0}function bc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,a)=>r[a]===i)}return n===t}function Jl(n){return Array.prototype.concat.apply([],n)}function o4(n){return n.length>0?n[n.length-1]:null}function $n(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function m1(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,un.D)(Promise.resolve(n)):dt(n)}const g7={exact:function e6(n,t,e){if(!y1(n.segments,t.segments)||!v1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!e6(n.children[r],t.children[r],e))return!1;return!0},subset:fa},c4={exact:function l4(n,t){return xr(n,t)},subset:function Mc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>bc(n[e],t[e]))},ignored:()=>!0};function Su(n,t,e){return g7[e.paths](n.root,t.root,e.matrixParams)&&c4[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function fa(n,t,e){return wc(n,t,t.segments,e)}function wc(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!y1(i,e)||t.hasChildren()||!v1(i,e,r))}if(n.segments.length===e.length){if(!y1(n.segments,e)||!v1(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!fa(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(y1(n.segments,i)&&v1(n.segments,i,r)&&n.children[Bt])&&wc(n.children[Bt],t,a,r)}}function v1(n,t,e){return t.every((r,i)=>c4[e](n[i].parameters,r.parameters))}class Us{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=L2(this.queryParams)),this._queryParamMap}toString(){return Gs.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$n(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Do(this)}}class ha{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=L2(this.parameters)),this._parameterMap}toString(){return n6(this)}}function y1(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let u4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new xo},providedIn:"root"}),n})();class xo{parse(t){const e=new g(t);return new Us(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${pa(t.root,!0)}`,r=function Eu(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Dc(e)}=${Dc(i)}`).join("&"):`${Dc(e)}=${Dc(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function f4(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Gs=new xo;function Do(n){return n.segments.map(t=>n6(t)).join("/")}function pa(n,t){if(!n.hasChildren())return Do(n);if(t){const e=n.children[Bt]?pa(n.children[Bt],!1):"",r=[];return $n(n.children,(i,a)=>{a!==Bt&&r.push(`${a}:${pa(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function t6(n,t){let e=[];return $n(n.children,(r,i)=>{i===Bt&&(e=e.concat(t(r,i)))}),$n(n.children,(r,i)=>{i!==Bt&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Bt?[pa(n.children[Bt],!1)]:[`${i}:${pa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${Do(n)}/${e[0]}`:`${Do(n)}/(${e.join("//")})`}}function d4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dc(n){return d4(n).replace(/%3B/gi,";")}function f2(n){return d4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function k2(n){return decodeURIComponent(n)}function h4(n){return k2(n.replace(/\+/g,"%20"))}function n6(n){return`${f2(n.path)}${function Au(n){return Object.keys(n).map(t=>`;${f2(t)}=${f2(n[t])}`).join("")}(n.parameters)}`}const Nu=/^[^\/()?;=#]+/;function Sc(n){const t=n.match(Nu);return t?t[0]:""}const p4=/^[^=?&#]+/,Tu=/^[^&#]+/;class g{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Bt]=new Jt(t,e)),r}parseSegment(){const t=Sc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(t),new ha(k2(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sc(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Sc(this.remaining);i&&(r=i,this.capture(r))}t[k2(e)]=k2(r)}parseQueryParam(t){const e=function Iu(n){const t=n.match(p4);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const u=function C(n){const t=n.match(Tu);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=h4(e),a=h4(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(a)}else t[i]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Bt);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[Bt]:new Jt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,!1)}}function v(n){return n.segments.length>0?new Jt([],{[Bt]:n}):n}function M(n){const t={};for(const r of Object.keys(n.children)){const a=M(n.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function N(n){if(1===n.numberOfChildren&&n.children[Bt]){const t=n.children[Bt];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function L(n){return n instanceof Us}function Kt(n,t,e,r,i){if(0===e.length)return $i(t.root,t.root,t.root,r,i);const a=function Nc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ec(!0,0,n);let t=0,e=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return $n(a.outlets,(m,_)=>{f[_]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Ec(e,t,r)}(e);return a.toRoot()?$i(t.root,t.root,new Jt([],{}),r,i):function u(m){const _=function g4(n,t,e,r){if(n.isAbsolute)return new js(t.root,!0,0);if(-1===r)return new js(e,e===t.root,0);return function Ic(n,t,e){let r=n,i=t,a=e;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new js(r,!1,i-a)}(e,r+(pn(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,m),x=_.processChildren?rs(_.segmentGroup,_.index,a.commands):So(_.segmentGroup,_.index,a.commands);return $i(t.root,_.segmentGroup,x,r,i)}(n.snapshot?._lastPathIndex)}function pn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yr(n){return"object"==typeof n&&null!=n&&n.outlets}function $i(n,t,e,r,i){let u,a={};r&&$n(r,(m,_)=>{a[_]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),u=n===t?e:Ac(n,t,e);const f=v(M(u));return new Us(f,a,i)}function Ac(n,t,e){const r={};return $n(n.children,(i,a)=>{r[a]=i===t?e:Ac(i,t,e)}),new Jt(n.segments,r)}class Ec{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&pn(r[0]))throw new l.vHH(4003,!1);const i=r.find(Yr);if(i&&i!==o4(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class js{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function So(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return rs(n,t,e);const r=function Vu(n,t,e){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return a;const u=n.segments[i],f=e[r];if(Yr(f))break;const m=`${f}`,_=r<e.length-1?e[r+1]:null;if(i>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!s6(m,_,u))return a;r+=2}else{if(!s6(m,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Jt(n.segments.slice(0,r.pathIndex),{});return a.children[Bt]=new Jt(n.segments.slice(r.pathIndex),n.children),rs(a,0,i)}return r.match&&0===i.length?new Jt(n.segments,{}):r.match&&!n.hasChildren()?kn(n,t,e):r.match?rs(n,0,i):kn(n,t,e)}function rs(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const r=function ga(n){return Yr(n[0])?n[0].outlets:{[Bt]:n}}(e),i={};return $n(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=So(n.children[u],t,a))}),$n(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Jt(n.segments,i)}}function kn(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const a=e[i];if(Yr(a)){const m=i6(a.outlets);return new Jt(r,m)}if(0===i&&pn(e[0])){r.push(new ha(n.segments[t].path,m7(e[0]))),i++;continue}const u=Yr(a)?a.outlets[Bt]:`${a}`,f=i<e.length-1?e[i+1]:null;u&&f&&pn(f)?(r.push(new ha(u,m7(f))),i+=2):(r.push(new ha(u,{})),i++)}return new Jt(r,{})}function i6(n){const t={};return $n(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=kn(new Jt([],{}),0,e))}),t}function m7(n){const t={};return $n(n,(e,r)=>t[r]=`${e}`),t}function s6(n,t,e){return n==e.path&&xr(t,e.parameters)}class is{constructor(t,e){this.id=t,this.url=e}}class Hu extends is{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ma extends is{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class o6 extends is{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class v7 extends is{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xy extends is{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iN extends is{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sN extends is{constructor(t,e,r,i,a){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class m4 extends is{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lu extends is{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y7{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _7{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C7{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e_{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b7{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M7{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a6{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class w7{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=v4(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=v4(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=c6(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return c6(t,this._root).map(e=>e.value)}}function v4(n,t){if(n===t.value)return t;for(const e of t.children){const r=v4(n,e);if(r)return r}return null}function c6(n,t){if(n===t.value)return[t];for(const e of t.children){const r=c6(n,e);if(r.length)return r.unshift(t),r}return[]}class ss{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function R2(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class x7 extends w7{constructor(t,e){super(t),this.snapshot=e,y4(this,t)}toString(){return this.snapshot.toString()}}function l6(n,t){const e=function u6(n,t){const u=new os([],{},{},"",{},Bt,t,null,n.root,-1,{});return new zu("",new ss(u,[]))}(n,t),r=new tn([new ha("",{})]),i=new tn({}),a=new tn({}),u=new tn({}),f=new tn(""),m=new va(r,i,u,f,a,Bt,t,e.root);return m.snapshot=e.root,new x7(new ss(m,[]),e)}class va{constructor(t,e,r,i,a,u,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ot.U)(_=>_[Er]))??dt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(t=>L2(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(t=>L2(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function d6(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],a=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function f6(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class os{constructor(t,e,r,i,a,u,f,m,_,x,A,z){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Er],this.routeConfig=m,this._urlSegment=_,this._lastPathIndex=x,this._correctedLastPathIndex=z??x,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=L2(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=L2(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zu extends w7{constructor(t,e){super(e),this.url=t,y4(this,e)}toString(){return D7(this._root)}}function y4(n,t){t.value._routerState=n,t.children.forEach(e=>y4(n,e))}function D7(n){const t=n.children.length>0?` { ${n.children.map(D7).join(", ")} } `:"";return`${n.value}${t}`}function ku(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,xr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),xr(t.params,e.params)||n.params.next(e.params),function z2(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!xr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),xr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function h6(n,t){const e=xr(n.params,t.params)&&function xc(n,t){return y1(n,t)&&n.every((e,r)=>xr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||h6(n.parent,t.parent))}function _4(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function t_(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _4(n,r,i);return _4(n,r)})}(n,t,e);return new ss(r,i)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>_4(n,f)),u}}const r=function n_(n){return new va(new tn(n.url),new tn(n.params),new tn(n.queryParams),new tn(n.fragment),new tn(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(a=>_4(n,a));return new ss(r,i)}}const Ru="ngNavigationCancelingError";function p6(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=L(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=S7(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function S7(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ru]=!0,r.cancellationCode=t,e&&(r.url=e),r}function Ou(n){return A7(n)&&L(n.url)}function A7(n){return n&&n[Ru]}class E7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new g6,this.attachRef=null}}let g6=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new E7,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m6=!1;let ya=(()=>{class n{constructor(e,r,i,a,u){this.parentContexts=e,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||Bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,m6);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,m6);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,m6);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.vHH(4013,m6);this._activatedRoute=e;const i=this.location,u=e._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new r_(e,f,i.injector);if(r&&function Vc(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(u);this.activated=i.createComponent(_,i.length,m)}else this.activated=i.createComponent(u,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(g6),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class r_{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===va?this.route:t===g6?this.childContexts:this.parent.get(t,e)}}let _a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},dependencies:[ya],encapsulation:2}),n})();function N7(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Bu(n){const t=n.children&&n.children.map(Bu),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=_a),e}function O2(n){return n.outlet||Bt}function v6(n,t){const e=n.filter(r=>O2(r)===t);return e.push(...n.filter(r=>O2(r)!==t)),e}function y6(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Uu{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),ku(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=R2(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),$n(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=R2(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=R2(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=R2(e);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new M7(a.value.snapshot))}),t.children.length&&this.forwardEvent(new e_(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(ku(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),ku(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=y6(i.snapshot),m=f?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=m,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class s_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gu{constructor(t,e){this.component=t,this.route=e}}function uN(n,t,e){const r=n._root;return b4(r,t?t._root:null,e,[r.value])}function C4(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:r}function b4(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=R2(t);return n.children.forEach(u=>{(function V7(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const m=function ju(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!y1(n.url,t.url);case"pathParamsOrQueryParamsChange":return!y1(n.url,t.url)||!xr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h6(n,t)||!xr(n.queryParams,t.queryParams);default:return!h6(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new s_(r)):(a.data=u.data,a._resolvedData=u._resolvedData),b4(n,t,a.component?f?f.children:null:e,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Gu(f.outlet.component,u))}else u&&Hc(t,f,i),i.canActivateChecks.push(new s_(r)),b4(n,null,a.component?f?f.children:null:e,r,i)})(u,a[u.value.outlet],e,r.concat([u.value]),i),delete a[u.value.outlet]}),$n(a,(u,f)=>Hc(u,e.getContext(f),i)),i}function Hc(n,t,e){const r=R2(n),i=n.value;$n(r,(a,u)=>{Hc(a,i.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Gu(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Lc(n){return"function"==typeof n}function _6(n){return n instanceof l1||"EmptyError"===n?.name}const C6=Symbol("INITIAL_VALUE");function zc(){return jn(n=>ts(n.map(t=>t.pipe(Yt(1),ji(C6)))).pipe((0,ot.U)(t=>{for(const e of t)if(!0!==e){if(e===C6)return C6;if(!1===e||e instanceof Us)return e}return!0}),wn(t=>t!==C6),Yt(1)))}function _i(n){return(0,Mo.z)((0,Ce.b)(t=>{if(L(t))throw p6(0,t)}),(0,ot.U)(t=>!0===t))}const b6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function M6(n,t,e,r,i){const a=Kr(n,t,e);return a.matched?function Zu(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?dt(i.map(u=>{const f=C4(u,n);return m1(function a_(n){return n&&Lc(n.canMatch)}(f)?f.canMatch(t,e):n.runInContext(()=>f(t,e)))})).pipe(zc(),_i()):dt(!0)}(r=N7(t,r),t,e).pipe((0,ot.U)(u=>!0===u?a:{...b6})):dt(a)}function Kr(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...b6}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||wo)(e,n,t);if(!i)return{...b6};const a={};$n(i.posParams,(f,m)=>{a[m]=f.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Ao(n,t,e,r,i="corrected"){if(e.length>0&&function v_(n,t,e){return e.some(r=>w6(n,t,r)&&O2(r)!==Bt)}(n,e,r)){const u=new Jt(t,function m_(n,t,e,r){const i={};i[Bt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&O2(a)!==Bt){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,i[O2(a)]=u}return i}(n,t,r,new Jt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function k7(n,t,e){return e.some(r=>w6(n,t,r))}(n,e,r)){const u=new Jt(n.segments,function z7(n,t,e,r,i,a){const u={};for(const f of r)if(w6(n,e,f)&&!i[O2(f)]){const m=new Jt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[O2(f)]=m}return{...i,...u}}(n,t,e,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new Jt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function w6(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Yu(n,t,e,r){return!!(O2(n)===r||r!==Bt&&w6(t,e,n))&&("**"===n.path||Kr(t,n,e).matched)}function R7(n,t,e){return 0===t.length&&!n.children[e]}const w4=!1;class x6{constructor(t){this.segmentGroup=t||null}}class O7{constructor(t){this.urlTree=t}}function x4(n){return d1(new x6(n))}function P7(n){return d1(new O7(n))}class __{constructor(t,e,r,i,a){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const t=Ao(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Bt).pipe((0,ot.U)(a=>this.createUrlTree(M(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(We(a=>{if(a instanceof O7)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof x6?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Bt).pipe((0,ot.U)(i=>this.createUrlTree(M(i),t.queryParams,t.fragment))).pipe(We(i=>{throw i instanceof x6?this.noMatchError(i):i}))}noMatchError(t){return new l.vHH(4002,w4)}createUrlTree(t,e,r){const i=v(t);return new Us(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ot.U)(a=>new Jt([],a))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,un.D)(i).pipe(ae(a=>{const u=r.children[a],f=v6(e,a);return this.expandSegmentGroup(t,f,u,a).pipe((0,ot.U)(m=>({segment:m,outlet:a})))}),Tt((a,u)=>(a[u.outlet]=u.segment,a),{}),_t())}expandSegment(t,e,r,i,a,u){return(0,un.D)(r).pipe(ae(f=>this.expandSegmentAgainstRoute(t,e,r,f,i,a,u).pipe(We(_=>{if(_ instanceof x6)return dt(null);throw _}))),K(f=>!!f),We((f,m)=>{if(_6(f))return R7(e,i,a)?dt(new Jt([],{})):x4(e);throw f}))}expandSegmentAgainstRoute(t,e,r,i,a,u,f){return Yu(i,e,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u):x4(e):x4(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?P7(a):this.lineralizeSegments(r,a).pipe((0,D.z)(u=>{const f=new Jt(u,{});return this.expandSegment(t,f,e,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,u){const{matched:f,consumedSegments:m,remainingSegments:_,positionalParamSegments:x}=Kr(e,i,a);if(!f)return x4(e);const A=this.applyRedirectCommands(m,i.redirectTo,x);return i.redirectTo.startsWith("/")?P7(A):this.lineralizeSegments(i,A).pipe((0,D.z)(z=>this.expandSegment(t,e,r,z.concat(_),u,!1)))}matchSegmentAgainstRoute(t,e,r,i,a){return"**"===r.path?(t=N7(r,t),r.loadChildren?(r._loadedRoutes?dt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,ot.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Jt(i,{})))):dt(new Jt(i,{}))):M6(e,r,i,t).pipe(jn(({matched:u,consumedSegments:f,remainingSegments:m})=>u?this.getChildConfig(t=r._injector??t,r,i).pipe((0,D.z)(x=>{const A=x.injector??t,z=x.routes,{segmentGroup:P,slicedSegments:Y}=Ao(e,f,m,z),re=new Jt(P.segments,P.children);if(0===Y.length&&re.hasChildren())return this.expandChildren(A,z,re).pipe((0,ot.U)(Ze=>new Jt(f,Ze)));if(0===z.length&&0===Y.length)return dt(new Jt(f,{}));const ue=O2(r)===a;return this.expandSegment(A,re,z,Y,ue?Bt:a,!0).pipe((0,ot.U)(Re=>new Jt(f.concat(Re.segments),Re.children)))})):x4(e)))}getChildConfig(t,e,r){return e.children?dt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):function g_(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?dt(!0):dt(i.map(u=>{const f=C4(u,n);return m1(function $u(n){return n&&Lc(n.canLoad)}(f)?f.canLoad(t,e):n.runInContext(()=>f(t,e)))})).pipe(zc(),_i())}(t,e,r).pipe((0,D.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,Ce.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function kc(n){return d1(S7(w4,3))}())):dt({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return dt(r);if(i.numberOfChildren>1||!i.children[Bt])return d1(new l.vHH(4e3,w4));i=i.children[Bt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const a=this.createSegmentGroup(t,e.root,r,i);return new Us(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return $n(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=e[f]}else r[a]=i}),r}createSegmentGroup(t,e,r,i){const a=this.createSegments(t,e.segments,r,i);let u={};return $n(e.children,(f,m)=>{u[m]=this.createSegmentGroup(t,f,r,i)}),new Jt(a,u)}createSegments(t,e,r,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new l.vHH(4001,w4);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class hN{}class as{constructor(t,e,r,i,a,u,f,m){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=m}recognize(){const t=Ao(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Bt).pipe((0,ot.U)(e=>{if(null===e)return null;const r=new os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ss(r,e),a=new zu(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,r=d6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return(0,un.D)(Object.keys(r.children)).pipe(ae(i=>{const a=r.children[i],u=v6(e,i);return this.processSegmentGroup(t,u,a,i)}),Tt((i,a)=>i&&a?(i.push(...a),i):null),function Qn(n,t=!1){return(0,Mn.e)((e,r)=>{let i=0;e.subscribe((0,Vn.x)(r,a=>{const u=n(a,i++);(u||t)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),S(null),_t(),(0,ot.U)(i=>{if(null===i)return null;const a=Xu(i);return function Qu(n){n.sort((t,e)=>t.value.outlet===Bt?-1:e.value.outlet===Bt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,r,i,a){return(0,un.D)(e).pipe(ae(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,i,a)),K(u=>!!u),We(u=>{if(_6(u))return R7(r,i,a)?dt([]):dt(null);throw u}))}processSegmentAgainstRoute(t,e,r,i,a){if(e.redirectTo||!Yu(e,r,i,a))return dt(null);let u;if("**"===e.path){const f=i.length>0?o4(i).parameters:{},m=B7(r)+i.length;u=dt({snapshot:new os(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D6(e),O2(e),e.component??e._loadedComponent??null,e,Rc(r),m,S6(e),m),consumedSegments:[],remainingSegments:[]})}else u=M6(r,e,i,t).pipe((0,ot.U)(({matched:f,consumedSegments:m,remainingSegments:_,parameters:x})=>{if(!f)return null;const A=B7(r)+m.length;return{snapshot:new os(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D6(e),O2(e),e.component??e._loadedComponent??null,e,Rc(r),A,S6(e),A),consumedSegments:m,remainingSegments:_}}));return u.pipe(jn(f=>{if(null===f)return dt(null);const{snapshot:m,consumedSegments:_,remainingSegments:x}=f;t=e._injector??t;const A=e._loadedInjector??t,z=function Ju(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:Y}=Ao(r,_,x,z.filter(ue=>void 0===ue.redirectTo),this.relativeLinkResolution);if(0===Y.length&&P.hasChildren())return this.processChildren(A,z,P).pipe((0,ot.U)(ue=>null===ue?null:[new ss(m,ue)]));if(0===z.length&&0===Y.length)return dt([new ss(m,[])]);const re=O2(e)===a;return this.processSegment(A,z,P,Y,re?Bt:a).pipe((0,ot.U)(ue=>null===ue?null:[new ss(m,ue)]))}))}}function b_(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Xu(n){const t=[],e=new Set;for(const r of n){if(!b_(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Xu(r.children);t.push(new ss(r.value,i))}return t.filter(r=>!e.has(r))}function Rc(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function B7(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function D6(n){return n.data||{}}function S6(n){return n.resolve||{}}function A6(n){return"string"==typeof n.title||null===n.title}function t8(n){return jn(t=>{const e=n(t);return e?(0,un.D)(e).pipe((0,ot.U)(()=>t)):dt(t)})}let $7=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Bt);return r}getResolvedTitleForRoute(e){return e.data[Er]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(W7)},providedIn:"root"}),n})(),W7=(()=>{class n extends $7{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class x_{}class q7 extends class D_{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const D4=new l.OlP("",{providedIn:"root",factory:()=>({})}),r8=new l.OlP("ROUTES");let i8=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=m1(e.loadComponent()).pipe((0,Ce.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),p1(()=>{this.componentLoaders.delete(e)})),i=new h1(r,()=>new bn.x).pipe(f1());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ot.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,_,x=!1;Array.isArray(f)?_=f:(m=f.create(e).injector,_=Jl(m.get(r8,[],l.XFs.Self|l.XFs.Optional)));return{routes:_.map(Bu),injector:m}}),p1(()=>{this.childrenLoaders.delete(r)})),u=new h1(a,()=>new bn.x).pipe(f1());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(e){return m1(e()).pipe((0,D.z)(r=>r instanceof l.YKP||Array.isArray(r)?dt(r):(0,un.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Z7{}class Y7{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function K7(n){throw n}function Q7(n,t,e){return t.parse("/")}const S_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function J7(){const n=(0,l.f3M)(u4),t=(0,l.f3M)(g6),e=(0,l.f3M)(ke),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),a=(0,l.f3M)(r8,{optional:!0})??[],u=(0,l.f3M)(D4,{optional:!0})??{},f=(0,l.f3M)(W7),m=(0,l.f3M)($7,{optional:!0}),_=(0,l.f3M)(Z7,{optional:!0}),x=(0,l.f3M)(x_,{optional:!0}),A=new Or(null,n,t,e,r,i,Jl(a));return _&&(A.urlHandlingStrategy=_),x&&(A.routeReuseStrategy=x),A.titleStrategy=m??f,function N6(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,A),A}let Or=(()=>{class n{constructor(e,r,i,a,u,f,m){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bn.x,this.errorHandler=K7,this.malformedUriErrorHandler=Q7,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>dt(void 0),this.urlHandlingStrategy=new Y7,this.routeReuseStrategy=new q7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(i8),this.configLoader.onLoadEndListener=z=>this.triggerEvent(new _7(z)),this.configLoader.onLoadStartListener=z=>this.triggerEvent(new y7(z)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const A=u.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function Xl(){return new Us(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=l6(this.currentUrlTree,this.rootComponentType),this.transitions=new tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(wn(i=>0!==i.id),(0,ot.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),jn(i=>{let a=!1,u=!1;return dt(i).pipe((0,Ce.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jn(f=>{const m=this.browserUrlTree.toString(),_=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return s8(f.source)&&(this.browserUrlTree=f.extractedUrl),dt(f).pipe(jn(A=>{const z=this.transitions.getValue();return r.next(new Hu(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),z!==this.transitions.getValue()?wr.E:Promise.resolve(A)}),function C_(n,t,e,r){return jn(i=>function $s(n,t,e,r,i){return new __(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,ot.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ce.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},i.urlAfterRedirects=A.urlAfterRedirects}),function G7(n,t,e,r,i,a){return(0,D.z)(u=>function pN(n,t,e,r,i,a,u="emptyOnly",f="legacy"){return new as(n,t,e,r,i,u,f,a).recognize().pipe(jn(m=>null===m?function F7(n){return new zn.y(t=>t.error(n))}(new hN):dt(m)))}(n,t,e,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,ot.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ce.b)(A=>{if(i.targetSnapshot=A.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(P,A)}this.browserUrlTree=A.urlAfterRedirects}const z=new Xy(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(z)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:P,source:Y,restoredState:re,extras:ue}=f,Ie=new Hu(z,this.serializeUrl(P),Y,re);r.next(Ie);const Re=l6(P,this.rootComponentType).snapshot;return dt(i={...f,targetSnapshot:Re,urlAfterRedirects:P,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),wr.E}),(0,Ce.b)(f=>{const m=new iN(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,ot.U)(f=>i={...f,guards:uN(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function l_(n,t){return(0,D.z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?dt({...e,guardsResult:!0}):function u_(n,t,e,r){return(0,un.D)(n).pipe((0,D.z)(i=>function p_(n,t,e,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?dt(a.map(f=>{const m=y6(t)??i,_=C4(f,m);return m1(function M4(n){return n&&Lc(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,r):m.runInContext(()=>_(n,t,e,r))).pipe(K())})).pipe(zc()):dt(!0)}(i.component,i.route,e,t,r)),K(i=>!0!==i,!0))}(u,r,i,n).pipe((0,D.z)(f=>f&&function H7(n){return"boolean"==typeof n}(f)?function qu(n,t,e,r){return(0,un.D)(t).pipe(ae(i=>H2(function f_(n,t){return null!==n&&t&&t(new C7(n)),dt(!0)}(i.route.parent,r),function d_(n,t){return null!==n&&t&&t(new b7(n)),dt(!0)}(i.route,r),function L7(n,t,e){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function dN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Ti(()=>dt(u.guards.map(m=>{const _=y6(u.node)??e,x=C4(m,_);return m1(function Wu(n){return n&&Lc(n.canActivateChild)}(x)?x.canActivateChild(r,n):_.runInContext(()=>x(r,n))).pipe(K())})).pipe(zc())));return dt(a).pipe(zc())}(n,i.path,e),function h_(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const i=r.map(a=>Ti(()=>{const u=y6(t)??e,f=C4(a,u);return m1(function o_(n){return n&&Lc(n.canActivate)}(f)?f.canActivate(t,n):u.runInContext(()=>f(t,n))).pipe(K())}));return dt(i).pipe(zc())}(n,i.route,e))),K(i=>!0!==i,!0))}(r,a,n,t):dt(f)),(0,ot.U)(f=>({...e,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ce.b)(f=>{if(i.guardsResult=f.guardsResult,L(f.guardsResult))throw p6(0,f.guardsResult);const m=new sN(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),wn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),t8(f=>{if(f.guards.canActivateChecks.length)return dt(f).pipe((0,Ce.b)(m=>{const _=new m4(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),jn(m=>{let _=!1;return dt(m).pipe(function gN(n,t){return(0,D.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return dt(e);let a=0;return(0,un.D)(i).pipe(ae(u=>function Oc(n,t,e,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!A6(i)&&(a[Er]=i.title),function e8(n,t,e,r){const i=function j7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return dt({});const a={};return(0,un.D)(i).pipe((0,D.z)(u=>function w_(n,t,e,r){const i=y6(t)??r,a=C4(n,i);return m1(a.resolve?a.resolve(t,e):i.runInContext(()=>a(t,e)))}(n[u],t,e,r).pipe(K(),(0,Ce.b)(f=>{a[u]=f}))),Rt(1),Ar(a),We(u=>_6(u)?wr.E:d1(u)))}(a,n,t,r).pipe((0,ot.U)(u=>(n._resolvedData=u,n.data=d6(n,e).resolve,i&&A6(i)&&(n.data[Er]=i.title),null)))}(u.route,r,n,t)),(0,Ce.b)(()=>a++),Rt(1),(0,D.z)(u=>a===i.length?dt(e):wr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ce.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Ce.b)(m=>{const _=new Lu(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}))}),t8(f=>{const m=_=>{const x=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Ce.b)(A=>{_.component=A}),(0,ot.U)(()=>{})));for(const A of _.children)x.push(...m(A));return x};return ts(m(f.targetSnapshot.root)).pipe(S(),Yt(1))}),t8(()=>this.afterPreactivation()),(0,ot.U)(f=>{const m=function Tc(n,t,e){const r=_4(n,t._root,e?e._root:void 0);return new x7(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:m}}),(0,Ce.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,ot.U)(r=>(new Uu(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ce.b)({next(){a=!0},complete(){a=!0}}),p1(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),We(f=>{if(u=!0,A7(f)){Ou(f)||(this.navigated=!0,this.restoreHistory(i,!0));const m=new o6(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(m),Ou(f)){const _=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s8(i.source)};this.scheduleNavigation(_,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new v7(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(m);try{i.resolve(this.errorHandler(f))}catch(_){i.reject(_)}}return wr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Bu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:m}=r,_=i||this.routerState.root,x=m?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...a};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),Kt(_,this.currentUrlTree,e,A,x??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=L(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function X7(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...S_}:!1===r?{...vN}:r,L(e))return Su(this.currentUrlTree,e,i);const a=this.parseUrl(e);return Su(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const a=e[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ma(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let f,m,_;u?(f=u.resolve,m=u.reject,_=u.promise):_=new Promise((z,P)=>{f=z,m=P});const x=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),A=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:x,targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:f,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(z=>Promise.reject(z))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const a=new o6(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return J7()},providedIn:"root"}),n})();function s8(n){return"imperative"!==n}class o8{}let a8=(()=>{class n{constructor(e,r,i,a,u){this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(wn(e=>e instanceof ma),ae(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,e,`Route: ${a.path}`));const u=a._injector??e,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,un.D)(i).pipe((0,ns.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):dt(null);const a=i.pipe((0,D.z)(u=>null===u?dt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,un.D)([a,u]).pipe((0,ns.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Or),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(o8),l.LFG(i8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ca=new l.OlP("");let th=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ma&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof a6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new a6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ba(n,t){return{\u0275kind:n,\u0275providers:t}}function E4(n){return[{provide:r8,multi:!0,useValue:n}]}function N_(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const r=n.get(Or),i=n.get(c8);1===n.get(l8)&&r.initialNavigation(),n.get(P2,null,l.XFs.Optional)?.setUpPreloading(),n.get(Ca,null,l.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const c8=new l.OlP("",{factory:()=>new bn.x}),l8=new l.OlP("",{providedIn:"root",factory:()=>1});const P2=new l.OlP("");function V_(n){return ba(0,[{provide:P2,useExisting:a8},{provide:o8,useExisting:n}])}const ih=new l.OlP("ROUTER_FORROOT_GUARD"),L_=[ke,{provide:u4,useClass:xo},{provide:Or,useFactory:J7},g6,{provide:va,useFactory:function nh(n){return n.routerState.root},deps:[Or]},i8];function sh(){return new l.PXZ("Router",Or)}let oh=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[L_,[],E4(e),{provide:ih,useFactory:ah,deps:[[Or,new l.FiY,new l.tp0]]},{provide:D4,useValue:r||{}},r?.useHash?{provide:be,useClass:et}:{provide:be,useClass:nt},{provide:Ca,useFactory:()=>{const n=(0,l.f3M)(Or),t=(0,l.f3M)(tc),e=(0,l.f3M)(D4);return e.scrollOffset&&t.setOffset(e.scrollOffset),new th(n,t,e)}},r?.preloadingStrategy?V_(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:sh},r?.initialNavigation?ch(r):[],[{provide:u8,useFactory:N_},{provide:l.tb,multi:!0,useExisting:u8}]]}}static forChild(e){return{ngModule:n,providers:[E4(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ih,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_a]}),n})();function ah(n){return"guarded"}function ch(n){return["disabled"===n.initialNavigation?ba(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(Or);return()=>{t.setUpLocationChangeListener()}}},{provide:l8,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ba(2,[{provide:l8,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(a=>{const u=t.get(Or),f=t.get(c8);(function i(a){t.get(Or).events.pipe(wn(f=>f instanceof ma||f instanceof o6||f instanceof v7),(0,ot.U)(f=>f instanceof ma||f instanceof o6&&(0===f.code||1===f.code)&&null),wn(f=>null!==f),Yt(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||f.closed?dt(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const u8=new l.OlP("");let fh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var N4=k(6451);function Eo(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const d8="inline",Pc=["row","column","row-reverse","column-reverse"];function L6(n){let[t,e,r]=hh(n);return function MN(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,r)}function hh(n){n=n?.toLowerCase()??"";let[t,e,r]=n.split(" ");return Pc.find(i=>i===t)||(t=Pc[0]),e===d8&&(e=r!==d8?r:"",r=d8),[t,bN(e),!!r]}function z6(n){let[t]=hh(n);return t.indexOf("row")>-1}function bN(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Ws(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}const wN={provide:l.tb,useFactory:function ph(n,t){return()=>{if(pr(t)){const e=Array.from(n.querySelectorAll(`[class*=${gh}]`)),r=/\bflex-layout-.+?\b/g;e.forEach(i=>{i.classList.contains(`${gh}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[le,l.Lbi],multi:!0},gh="flex-layout-";let No=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[wN]}),n})();class Ma{constructor(t=!1,e="all",r="",i="",a=0){this.matches=t,this.mediaQuery=e,this.mqAlias=r,this.suffix=i,this.priority=a,this.property=""}clone(){return new Ma(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let mh=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,r,i){const a=this.stylesheet.get(e);a?a.set(r,i):this.stylesheet.set(e,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,r){const i=this.stylesheet.get(e);let a="";if(i){const u=i.get(r);("number"==typeof u||"string"==typeof u)&&(a=u+"")}return a}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fc={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},_1=new l.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Fc}),wa=new l.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),f8=new l.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function vh(n,t){return n=n?.clone()??new Ma,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class gr{constructor(){this.shouldCache=!0}sideEffect(t,e,r){}}let Wn=(()=>{class n{constructor(e,r,i,a){this._serverStylesheet=e,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=a}applyStyleToElement(e,r,i=null){let a={};"string"==typeof r&&(a[r]=i,r=a),a=this.layoutConfig.disableVendorPrefixes?r:Eo(r),this._applyMultiValueStyleToElement(a,e)}applyStyleToElements(e,r=[]){const i=this.layoutConfig.disableVendorPrefixes?e:Eo(e);r.forEach(a=>{this._applyMultiValueStyleToElement(i,a)})}getFlowDirection(e){const r="flex-direction";let i=this.lookupStyle(e,r);return[i||"row",this.lookupInlineStyle(e,r)||mi(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,r){return e.getAttribute(r)??""}lookupInlineStyle(e,r){return pr(this._platformId)?e.style.getPropertyValue(r):function F_(n,t){return h8(n)[t]??""}(e,r)}lookupStyle(e,r,i=!1){let a="";return e&&((a=this.lookupInlineStyle(e,r))||(pr(this._platformId)?i||(a=getComputedStyle(e).getPropertyValue(r)):this._serverModuleLoaded&&(a=this._serverStylesheet.getStyleForElement(e,r)))),a?a.trim():""}_applyMultiValueStyleToElement(e,r){Object.keys(e).sort().forEach(i=>{const a=e[i],u=Array.isArray(a)?a:[a];u.sort();for(let f of u)f=f?f+"":"",pr(this._platformId)||!this._serverModuleLoaded?pr(this._platformId)?r.style.setProperty(i,f):yh(r,i,f):this._serverStylesheet.addStyleToElement(r,i,f)})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mh),l.LFG(wa),l.LFG(l.Lbi),l.LFG(_1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yh(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=h8(n);r[t]=e??"",function B_(n,t){let e="";for(const r in t)t[r]&&(e+=`${r}:${t[r]};`);n.setAttribute("style",e)}(n,r)}function h8(n){const t={},e=n.getAttribute("style");if(e){const r=e.split(/;+/g);for(let i=0;i<r.length;i++){const a=r[i].trim();if(a.length>0){const u=a.indexOf(":");if(-1===u)throw new Error(`Invalid CSS style: ${a}`);t[a.substr(0,u).trim()]=a.substr(u+1).trim()}}}return t}function Bc(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function p8(n,t){return(n.priority||0)-(t.priority||0)}let _h=(()=>{class n{constructor(e,r,i){this._zone=e,this._platformId=r,this._document=i,this.source=new tn(new Ma(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((r,i)=>{r.matches&&e.push(i)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(i=>i.matches)}observe(e,r=!1){if(e&&e.length){const i=this._observable$.pipe(wn(u=>!r||e.indexOf(u.mediaQuery)>-1)),a=new zn.y(u=>{const f=this.registerQuery(e);if(f.length){const m=f.pop();f.forEach(_=>{u.next(_)}),this.source.next(m)}u.complete()});return(0,N4.T)(a,i)}return this._observable$}registerQuery(e){const r=Array.isArray(e)?e:[e],i=[];return function U_(n,t){const e=n.filter(r=>!k6[r]);if(e.length>0){const r=e.join(", ");try{const i=t.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),t.head.appendChild(i),e.forEach(a=>k6[a]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(a=>{const u=m=>{this._zone.run(()=>this.source.next(new Ma(m.matches,a)))};let f=this.registry.get(a);f||(f=this.buildMQL(a),f.addListener(u),this.pendingRemoveListenerFns.push(()=>f.removeListener(u)),this.registry.set(a,f)),f.matches&&i.push(new Ma(!0,a))}),i}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function Uc(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function xN(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,pr(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(l.Lbi),l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k6={},Ch=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],g8="(orientation: portrait) and (max-width: 599.98px)",I4="(orientation: landscape) and (max-width: 959.98px)",F2="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",m8="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",bh="(orientation: portrait) and (min-width: 840px)",R6="(orientation: landscape) and (min-width: 1280px)",si={HANDSET:`${g8}, ${I4}`,TABLET:`${F2} , ${m8}`,WEB:`${bh}, ${R6} `,HANDSET_PORTRAIT:`${g8}`,TABLET_PORTRAIT:`${F2} `,WEB_PORTRAIT:`${bh}`,HANDSET_LANDSCAPE:`${I4}`,TABLET_LANDSCAPE:`${m8}`,WEB_LANDSCAPE:`${R6}`},v8=[{alias:"handset",priority:2e3,mediaQuery:si.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:si.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:si.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:si.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:si.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:si.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:si.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:si.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:si.WEB_PORTRAIT,overlapping:!0}],Mh=/(\.|-|_)/g;function y8(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const O6=new l.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,l.f3M)(f8),t=(0,l.f3M)(_1),e=[].concat.apply([],(n||[]).map(i=>Array.isArray(i)?i:[i]));return function SN(n,t=[]){const e={};return n.forEach(r=>{e[r.alias]=r}),t.forEach(r=>{e[r.alias]?Ws(e[r.alias],r):e[r.alias]=r}),function wh(n){return n.forEach(t=>{t.suffix||(t.suffix=function DN(n){return n.replace(Mh,"|").split("|").map(y8).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(r=>e[r]))}((t.disableDefaultBps?[]:Ch).concat(t.addOrientationBps?v8:[]),e)}});let Gc=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(p8)}findByAlias(e){return e?this.findWithPredicate(e,r=>r.alias===e):null}findByQuery(e){return this.findWithPredicate(e,r=>r.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,r){let i=this.findByMap.get(e);return i||(i=this.items.find(r)??null,this.findByMap.set(e,i)),i??null}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(O6))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Io="print",_8={alias:Io,mediaQuery:Io,priority:1e3};let C8=(()=>{class n{constructor(e,r,i){this.breakpoints=e,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new AN,this.deactivations=[]}withPrintQuery(e){return[...e,Io]}isPrintEvent(e){return e.mediaQuery.startsWith(Io)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const r=this.breakpoints.findByQuery(e);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(Bc)}updateEvent(e){let r=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(r=this.getEventBreakpoints(e)[0],e.mediaQuery=r?.mediaQuery??""),vh(e,r)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Ma(!0,Io))),e.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(e){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(r)),e.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,r)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,r){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const i=this.breakpoints.findByQuery(r.mediaQuery);if(i){const a=this.formerActivations&&this.formerActivations.includes(i),u=!this.formerActivations&&e.activatedBreakpoints.includes(i);(a||u)&&(this.deactivations.push(i),this.deactivations.sort(Bc))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Gc),l.LFG(_1),l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AN{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(_8),t.sort(Bc),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function G_(n){return n?.mediaQuery.startsWith(Io)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Jn=(()=>{class n{constructor(e,r,i){this.matchMedia=e,this.breakpoints=r,this.hook=i,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new bn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const r=this.findByQuery(e.mediaQuery);if(r){e=vh(e,r);const i=this.activatedBreakpoints.indexOf(r);e.matches&&-1===i?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(Bc),this.updateStyles()):!e.matches&&-1!==i&&(this._activatedBreakpoints.splice(i,1),this._activatedBreakpoints.sort(Bc),this.updateStyles())}}init(e,r,i,a,u=[]){xh(this.updateMap,e,r,i),xh(this.clearMap,e,r,a),this.buildElementKeyMap(e,r),this.watchExtraTriggers(e,r,u)}getValue(e,r,i){const a=this.elementMap.get(e);if(a){const u=void 0!==i?a.get(i):this.getActivatedValues(a,r);if(u)return u.get(r)}}hasValue(e,r){const i=this.elementMap.get(e);if(i){const a=this.getActivatedValues(i,r);if(a)return void 0!==a.get(r)||!1}return!1}setValue(e,r,i,a){let u=this.elementMap.get(e);if(u){const m=(u.get(a)??new Map).set(r,i);u.set(a,m),this.elementMap.set(e,u)}else u=(new Map).set(a,(new Map).set(r,i)),this.elementMap.set(e,u);const f=this.getValue(e,r);void 0!==f&&this.updateElement(e,r,f)}trackValue(e,r){return this.subject.asObservable().pipe(wn(i=>i.element===e&&i.key===r))}updateStyles(){this.elementMap.forEach((e,r)=>{const i=new Set(this.elementKeyMap.get(r));let a=this.getActivatedValues(e);a&&a.forEach((u,f)=>{this.updateElement(r,f,u),i.delete(f)}),i.forEach(u=>{if(a=this.getActivatedValues(e,u),a){const f=a.get(u);this.updateElement(r,u,f)}else this.clearElement(r,u)})})}clearElement(e,r){const i=this.clearMap.get(e);if(i){const a=i.get(r);a&&(a(),this.subject.next({element:e,key:r,value:""}))}}updateElement(e,r,i){const a=this.updateMap.get(e);if(a){const u=a.get(r);u&&(u(i),this.subject.next({element:e,key:r,value:i}))}}releaseElement(e){const r=this.watcherMap.get(e);r&&(r.forEach(a=>a.unsubscribe()),this.watcherMap.delete(e));const i=this.elementMap.get(e);i&&(i.forEach((a,u)=>i.delete(u)),this.elementMap.delete(e))}triggerUpdate(e,r){const i=this.elementMap.get(e);if(i){const a=this.getActivatedValues(i,r);a&&(r?this.updateElement(e,r,a.get(r)):a.forEach((u,f)=>this.updateElement(e,f,u)))}}buildElementKeyMap(e,r){let i=this.elementKeyMap.get(e);i||(i=new Set,this.elementKeyMap.set(e,i)),i.add(r)}watchExtraTriggers(e,r,i){if(i&&i.length){let a=this.watcherMap.get(e);if(a||(a=new Map,this.watcherMap.set(e,a)),!a.get(r)){const f=(0,N4.T)(...i).subscribe(()=>{const m=this.getValue(e,r);this.updateElement(e,r,m)});a.set(r,f)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,r){for(let a=0;a<this.activatedBreakpoints.length;a++){const f=e.get(this.activatedBreakpoints[a].alias);if(f&&(void 0===r||f.has(r)&&null!=f.get(r)))return f}if(!this._useFallbacks)return;const i=e.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const e=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Ce.b)(this.hook.interceptEvents(this)),wn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_h),l.LFG(Gc),l.LFG(C8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xh(n,t,e,r){if(void 0!==r){const i=n.get(t)??new Map;i.set(e,r),n.set(t,i)}}let cr=(()=>{class n{constructor(e,r,i,a){this.elementRef=e,this.styleBuilder=r,this.styler=i,this.marshal=a,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new bn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(e[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,r){const i=this.styleBuilder,a=i.shouldCache;let u=this.styleCache.get(e);(!u||!a)&&(u=i.buildStyles(e,r),a&&this.styleCache.set(e,u)),this.mru={...u},this.applyStyleToElement(u),i.sideEffect(e,u,r)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,r=!1){if(e){const[i,a]=this.styler.getFlowDirection(e);if(!a&&r){const u=L6(i);this.styler.applyStyleToElements(u,[e])}return i.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,r,i=this.nativeElement){this.styler.applyStyleToElement(i,e,r)}setValue(e,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,r)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(gr),l.Y36(Wn),l.Y36(Jn))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();EventTarget;var M8=k(5032);function Xn(n){return(0,Mn.e)((t,e)=>{(0,ii.Xf)(n).subscribe((0,Vn.x)(e,()=>e.complete(),M8.Z)),!e.closed&&t.subscribe(e)})}let TN=(()=>{class n extends gr{buildStyles(e,{display:r}){const i=L6(e);return{...i,display:"none"===r?r:i.display}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VN=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let HN=(()=>{class n extends cr{constructor(e,r,i,a,u){super(e,i,r,a),this._config=u,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const i=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=P6.get(i)??new Map,P6.set(i,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:i}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Wn),l.Y36(TN),l.Y36(Jn),l.Y36(_1))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),B2=(()=>{class n extends HN{constructor(){super(...arguments),this.inputs=VN}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[l.qOj]}),n})();const P6=new Map;let Uh=(()=>{class n extends gr{buildStyles(e,r){const i={},[a,u]=e.split(" ");switch(a){case"center":i["justify-content"]="center";break;case"space-around":i["justify-content"]="space-around";break;case"space-between":i["justify-content"]="space-between";break;case"space-evenly":i["justify-content"]="space-evenly";break;case"end":case"flex-end":i["justify-content"]="flex-end";break;default:i["justify-content"]="flex-start"}switch(u){case"start":case"flex-start":i["align-items"]=i["align-content"]="flex-start";break;case"center":i["align-items"]=i["align-content"]="center";break;case"end":case"flex-end":i["align-items"]=i["align-content"]="flex-end";break;case"space-between":i["align-content"]="space-between",i["align-items"]="stretch";break;case"space-around":i["align-content"]="space-around",i["align-items"]="stretch";break;case"baseline":i["align-content"]="stretch",i["align-items"]="baseline";break;default:i["align-items"]=i["align-content"]="stretch"}return Ws(i,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===u?z6(r.layout)?null:"100%":null,"max-height":"stretch"===u&&z6(r.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dC=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let I8=(()=>{class n extends cr{constructor(e,r,i,a){super(e,i,r,a),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Xn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const r=this.layout||"row",i=this.inline;"row"===r&&i?this.styleCache=pC:"row"!==r||i?"row-reverse"===r&&i?this.styleCache=T8:"row-reverse"!==r||i?"column"===r&&i?this.styleCache=gC:"column"!==r||i?"column-reverse"===r&&i?this.styleCache=mC:"column-reverse"===r&&!i&&(this.styleCache=hC):this.styleCache=RN:this.styleCache=Gh:this.styleCache=fC,this.addStyles(e,{layout:r,inline:i})}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],this.inline=e.value.includes("inline"),Pc.find(i=>i===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Wn),l.Y36(Uh),l.Y36(Jn))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),Wc=(()=>{class n extends I8{constructor(){super(...arguments),this.inputs=dC}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[l.qOj]}),n})();const fC=new Map,RN=new Map,Gh=new Map,hC=new Map,pC=new Map,gC=new Map,T8=new Map,mC=new Map;let H4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[No,fh]}),n})(),B6=(()=>{class n{constructor(){this.images=[944,1011,984].map(e=>`https://picsum.photos/id/${e}/900/500`)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-landing-page"]],decls:35,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"landing-container"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayout.xs-","center end",1,""],["fxLAyout","column"],[1,"card"],[1,"card-header"],[1,"card-body"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l._uU(5," Featured "),l.qZA(),l.TgZ(6,"div",5),l._uU(7,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vitae vel, eaque alias consequuntur quisquam cum in quod odit at distinctio porro ratione pariatur rerum laborum nam, ullam corrupti nisi nulla!"),l.qZA()(),l.TgZ(8,"div",3)(9,"div",4),l._uU(10," Featured "),l.qZA(),l.TgZ(11,"div",5),l._uU(12,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus architecto harum quae. Ullam optio, quod laborum recusandae porro enim omnis soluta ex rem accusamus nostrum assumenda asperiores at quae officiis."),l.qZA()()(),l.TgZ(13,"div",2)(14,"div",3)(15,"div",4),l._uU(16," Featured "),l.qZA(),l.TgZ(17,"div",5),l._uU(18,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Illo nihil quia ex labore. Impedit tenetur dolorum adipisci! Voluptatum eligendi eveniet culpa sit. Magnam, nulla. A quam excepturi maiores reiciendis nulla?"),l.qZA()(),l.TgZ(19,"div",3)(20,"div",4),l._uU(21," Featured "),l.qZA(),l.TgZ(22,"div",5),l._uU(23,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi tempore sequi ducimus porro omnis quisquam aliquid, eaque earum a id facilis? Tempora sequi asperiores dolores odio voluptatibus temporibus totam consequuntur?"),l.qZA()()(),l.TgZ(24,"div",2)(25,"div",3)(26,"div",4),l._uU(27," Featured "),l.qZA(),l.TgZ(28,"div",5),l._uU(29,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore, modi. Soluta omnis voluptatibus et quia dolores officia cum, accusantium voluptates magni earum amet ad impedit culpa inventore natus facilis unde."),l.qZA()(),l.TgZ(30,"div",3)(31,"div",4),l._uU(32," Featured "),l.qZA(),l.TgZ(33,"div",5),l._uU(34,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eum natus pariatur asperiores similique eligendi quo in quibusdam exercitationem voluptatum? Adipisci accusantium eius at facilis quo id ipsa incidunt quae totam?"),l.qZA()()()()())},dependencies:[B2,Wc],styles:[".landing-container[_ngcontent-%COMP%]{padding-bottom:11vh}.card[_ngcontent-%COMP%]{width:20rem;margin:1rem}"]}),n})();var Rd={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},$w={prefix:"fas",iconName:"user-doctor",icon:[448,512,["user-md"],"f0f0","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-96 55.2C54 332.9 0 401.3 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7c0-81-54-149.4-128-171.1V362c27.6 7.1 48 32.2 48 62v40c0 8.8-7.2 16-16 16H336c-8.8 0-16-7.2-16-16s7.2-16 16-16V424c0-17.7-14.3-32-32-32s-32 14.3-32 32v24c8.8 0 16 7.2 16 16s-7.2 16-16 16H256c-8.8 0-16-7.2-16-16V424c0-29.8 20.4-54.9 48-62V304.9c-6-.6-12.1-.9-18.3-.9H178.3c-6.2 0-12.3 .3-18.3 .9v65.4c23.1 6.9 40 28.3 40 53.7c0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.4 16.9-46.8 40-53.7V311.2zM144 448c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},_z={prefix:"fas",iconName:"user-nurse",icon:[448,512,[],"f82f","M96 128V70.2c0-13.3 8.3-25.3 20.8-30l96-36c7.2-2.7 15.2-2.7 22.5 0l96 36c12.5 4.7 20.8 16.6 20.8 30V128h-.3c.2 2.6 .3 5.3 .3 8v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V136c0-2.7 .1-5.4 .3-8H96zm48 48c0 44.2 35.8 80 80 80s80-35.8 80-80V160H144v16zM129.1 323.2l83.2 88.4c6.3 6.7 17 6.7 23.3 0l83.2-88.4c73.7 14.9 129.1 80 129.1 158.1c0 17-13.8 30.7-30.7 30.7H30.7C13.8 512 0 498.2 0 481.3c0-78.1 55.5-143.2 129.1-158.1zM208 48V64H192c-4.4 0-8 3.6-8 8V88c0 4.4 3.6 8 8 8h16v16c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8V96h16c4.4 0 8-3.6 8-8V72c0-4.4-3.6-8-8-8H240V48c0-4.4-3.6-8-8-8H216c-4.4 0-8 3.6-8 8z"]};let Tz=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Z4=(()=>{class n extends Tz{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Lo=new l.OlP("NgValueAccessor"),Oae={provide:Lo,useExisting:(0,l.Gpc)(()=>Df),multi:!0},Fae=new l.OlP("CompositionEventMode");let Df=(()=>{class n extends Tz{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pae(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Fae,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([Oae]),l.qOj]}),n})();const Wi=new l.OlP("NgValidators"),l3=new l.OlP("NgAsyncValidators");function kz(n){return function c3(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Nm(n){return null}function Uz(n){return null!=n}function Gz(n){return(0,l.QGY)(n)?(0,un.D)(n):n}function jz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function $z(n,t){return t.map(e=>e(n))}function Wz(n){return n.map(t=>function Gae(n){return!n.validate}(t)?t:e=>t.validate(e))}function vx(n){return null!=n?function qz(n){if(!n)return null;const t=n.filter(Uz);return 0==t.length?null:function(e){return jz($z(e,t))}}(Wz(n)):null}function yx(n){return null!=n?function Zz(n){if(!n)return null;const t=n.filter(Uz);return 0==t.length?null:function(e){return function kae(...n){const t=(0,Ii.jO)(n),{args:e,keys:r}=T2(n),i=new zn.y(a=>{const{length:u}=e;if(!u)return void a.complete();const f=new Array(u);let m=u,_=u;for(let x=0;x<u;x++){let A=!1;(0,ii.Xf)(e[x]).subscribe((0,Vn.x)(a,z=>{A||(A=!0,_--),f[x]=z},()=>m--,void 0,()=>{(!m||!A)&&(_||a.next(r?Ps(r,f):f),a.complete())}))}});return t?i.pipe(Os(t)):i}($z(e,t).map(Gz)).pipe((0,ot.U)(jz))}}(Wz(n)):null}function Yz(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Kz(n){return n._rawValidators}function Qz(n){return n._rawAsyncValidators}function _x(n){return n?Array.isArray(n)?n:[n]:[]}function Im(n,t){return Array.isArray(n)?n.includes(t):n===t}function Jz(n,t){const e=_x(t);return _x(n).forEach(i=>{Im(e,i)||e.push(i)}),e}function Xz(n,t){return _x(t).filter(e=>!Im(n,e))}class ek{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class g2 extends ek{get formDirective(){return null}get path(){return null}}class u3 extends ek{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cx=(()=>{class n extends tk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(u3,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),bx=(()=>{class n extends tk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(g2,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const Sf="VALID",Vm="INVALID",I0="PENDING",Af="DISABLED";function Dx(n){return(Hm(n)?n.validators:n)||null}function rk(n){return Array.isArray(n)?vx(n):n||null}function Sx(n,t){return(Hm(t)?t.asyncValidators:n)||null}function ik(n){return Array.isArray(n)?yx(n):n||null}function Hm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function sk(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function ok(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class Lm{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rk(this._rawValidators),this._composedAsyncValidatorFn=ik(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Sf}get invalid(){return this.status===Vm}get pending(){return this.status==I0}get disabled(){return this.status===Af}get enabled(){return this.status!==Af}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rk(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ik(t)}addValidators(t){this.setValidators(Jz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Jz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xz(t,this._rawAsyncValidators))}hasValidator(t){return Im(this._rawValidators,t)}hasAsyncValidator(t){return Im(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=I0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Af,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sf||this.status===I0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Af:Sf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=I0,this._hasOwnPendingAsyncValidator=!0;const e=Gz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Af:this.errors?Vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(I0)?I0:this._anyControlsHaveStatus(Vm)?Vm:Sf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Hm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Ef extends Lm{constructor(t,e,r){super(Dx(e),Sx(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ok(this,0,t),Object.keys(t).forEach(r=>{sk(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,a)=>{r=e(r,i,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class ak extends Ef{}function zm(n,t){return[...t.path,n]}function Nf(n,t){Ax(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Qae(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ck(n,t)})}(n,t),function Xae(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Jae(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ck(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Kae(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function km(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Om(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ax(n,t){const e=Kz(n);null!==t.validator?n.setValidators(Yz(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Qz(n);null!==t.asyncValidator?n.setAsyncValidators(Yz(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Rm(t._rawValidators,i),Rm(t._rawAsyncValidators,i)}function Om(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=Kz(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==t.validator);a.length!==i.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const i=Qz(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==t.asyncValidator);a.length!==i.length&&(e=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Rm(t._rawValidators,r),Rm(t._rawAsyncValidators,r),e}function ck(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function hk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Y4=class extends Lm{constructor(t=null,e,r){super(Dx(e),Sx(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=hk(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){hk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let pk=(()=>{class n extends g2{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const cce={provide:Lo,useExisting:(0,l.Gpc)(()=>Vx),multi:!0};let Vx=(()=>{class n extends Z4{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([cce]),l.qOj]}),n})(),yk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Hx=new l.OlP("NgModelWithFormControlWarning"),hce={provide:g2,useExisting:(0,l.Gpc)(()=>Tf)};let Tf=(()=>{class n extends g2{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Om(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Nf(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){km(e.control||null,e,!1),function rce(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function dk(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(km(r||null,e),(n=>n instanceof Y4)(i)&&(Nf(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function lk(n,t){Ax(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function ece(n,t){return Om(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ax(this.form,this),this._oldForm&&Om(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wi,10),l.Y36(l3,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([hce]),l.qOj,l.TTD]}),n})();const pce={provide:g2,useExisting:(0,l.Gpc)(()=>Lx)};let Lx=(()=>{class n extends pk{constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){Mk(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(g2,13),l.Y36(Wi,10),l.Y36(l3,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([pce]),l.qOj]}),n})();const gce={provide:g2,useExisting:(0,l.Gpc)(()=>Pm)};let Pm=(()=>{class n extends g2{constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zm(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Mk(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(g2,13),l.Y36(Wi,10),l.Y36(l3,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([gce]),l.qOj]}),n})();function Mk(n){return!(n instanceof Lx||n instanceof Tf||n instanceof Pm)}const mce={provide:u3,useExisting:(0,l.Gpc)(()=>Fm)};let Fm=(()=>{class n extends u3{constructor(e,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Nx(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===Df?e=a:function nce(n){return Object.getPrototypeOf(n.constructor)===Z4}(a)?r=a:i=a}),i||r||e||null}(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Ex(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(g2,13),l.Y36(Wi,10),l.Y36(l3,10),l.Y36(Lo,10),l.Y36(Hx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([mce]),l.qOj,l.TTD]}),n})();const vce={provide:Lo,useExisting:(0,l.Gpc)(()=>Bm),multi:!0};function wk(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Bm=(()=>{class n extends Z4{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=wk(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function yce(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&l.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([vce]),l.qOj]}),n})(),xk=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(wk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Bm,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const _ce={provide:Lo,useExisting:(0,l.Gpc)(()=>zx),multi:!0};function Dk(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let zx=(()=>{class n extends Z4{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(a=>this._getOptionId(a));r=(a,u)=>{a._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const u=a;for(let f=0;f<u.length;f++){const _=this._getOptionValue(u[f].value);i.push(_)}}else{const u=r.options;for(let f=0;f<u.length;f++){const m=u[f];if(m.selected){const _=this._getOptionValue(m.value);i.push(_)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function Cce(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&l.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([_ce]),l.qOj]}),n})(),Sk=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Dk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Dk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(zx,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),K4=(()=>{class n{constructor(){this._validator=Nm}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Nm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const wce={provide:Wi,useExisting:(0,l.Gpc)(()=>Vf),multi:!0};let Vf=(()=>{class n extends K4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=e=>kz}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([wce]),l.qOj]}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yk]}),n})(),Nce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kk]}),n})(),Rk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Hx,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kk]}),n})();class Ok extends Lm{constructor(t,e,r){super(Dx(e),Sx(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ok(this,0,t),t.forEach((r,i)=>{sk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Pk(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Fk=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let a={};return Pk(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Ef(i,a)}record(e,r=null){const i=this._reduceControls(e);return new ak(i,r)}control(e,r,i){let a={};return this.useNonNullable?(Pk(r)?a=r:(a.validators=r,a.asyncValidators=i),new Y4(e,{...a,nonNullable:!0})):new Y4(e,r,i)}array(e,r,i){const a=e.map(u=>this._createControl(u));return new Ok(a,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Y4||e instanceof Lm?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Rk}),n})();var Ice=k(1144);const Tce=["addListener","removeListener"],Vce=["addEventListener","removeEventListener"],Hce=["on","off"];function m2(n,t,e,r){if((0,Rr.m)(e)&&(r=e,e=void 0),r)return m2(n,t,e).pipe(Os(r));const[i,a]=function kce(n){return(0,Rr.m)(n.addEventListener)&&(0,Rr.m)(n.removeEventListener)}(n)?Vce.map(u=>f=>n[u](t,f,e)):function Lce(n){return(0,Rr.m)(n.addListener)&&(0,Rr.m)(n.removeListener)}(n)?Tce.map(Bk(n,t)):function zce(n){return(0,Rr.m)(n.on)&&(0,Rr.m)(n.off)}(n)?Hce.map(Bk(n,t)):[];if(!i&&(0,Ice.z)(n))return(0,D.z)(u=>m2(u,t,e))((0,ii.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new zn.y(u=>{const f=(...m)=>u.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function Bk(n,t){return e=>r=>n[e](t,r)}var kx=k(4986),Rce=k(3532);function Rx(n=0,t,e=kx.P){let r=-1;return null!=t&&((0,Rce.K)(t)?e=t:r=t),new zn.y(i=>{let a=function Oce(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let u=0;return e.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:Pce}=Array;function Uk(n){return 1===n.length&&Pce(n[0])?n[0]:n}function Gk(...n){return 1===(n=Uk(n)).length?(0,ii.Xf)(n[0]):new zn.y(function Fce(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push((0,ii.Xf)(n[r]).subscribe((0,Vn.x)(t,i=>{if(e){for(let a=0;a<e.length;a++)a!==r&&e[a].unsubscribe();e=null}t.next(i)})))}}(n))}function Um(...n){const t=(0,Ii.jO)(n),e=Uk(n);return e.length?new zn.y(r=>{let i=e.map(()=>[]),a=e.map(()=>!1);r.add(()=>{i=a=null});for(let u=0;!r.closed&&u<e.length;u++)(0,ii.Xf)(e[u]).subscribe((0,Vn.x)(r,f=>{if(i[u].push(f),i.every(m=>m.length)){const m=i.map(_=>_.shift());r.next(t?t(...m):m),i.some((_,x)=>!_.length&&a[x])&&r.complete()}},()=>{a[u]=!0,!i[u].length&&r.complete()}));return()=>{i=a=null}}):wr.E}function Uce(n,t){return n===t}function Ox(...n){const t=(0,Ii.jO)(n);return(0,Mn.e)((e,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,ii.Xf)(n[m]).subscribe((0,Vn.x)(r,_=>{a[m]=_,!f&&!u[m]&&(u[m]=!0,(f=u.every(V2.y))&&(u=null))},M8.Z));e.subscribe((0,Vn.x)(r,m=>{if(f){const _=[m,...a];r.next(t?t(..._):_)}}))})}function $k(n,t){return t?e=>H2(t.pipe(Yt(1),function Gce(){return(0,Mn.e)((n,t)=>{n.subscribe((0,Vn.x)(t,M8.Z))})}()),e.pipe($k(n))):(0,D.z)((e,r)=>n(e,r).pipe(Yt(1),Ar(e)))}function Wk(n,t=kx.z){const e=Rx(n,t);return $k(()=>e)}new zn.y(M8.Z);var qk=k(3099),$ce={left:"right",right:"left",bottom:"top",top:"bottom"};function jm(n){return n.replace(/left|right|bottom|top/g,function(t){return $ce[t]})}function zo(n){return n.split("-")[0]}var Wce={start:"end",end:"start"};function Zk(n){return n.replace(/start|end/g,function(t){return Wce[t]})}var M1="top",Ks="bottom",Qs="right",w1="left",Px="auto",Hf=[M1,Ks,Qs,w1],T0="start",Lf="end",Yk="viewport",zf="popper",Kk=Hf.reduce(function(n,t){return n.concat([t+"-"+T0,t+"-"+Lf])},[]),Qk=[].concat(Hf,[Px]).reduce(function(n,t){return n.concat([t,t+"-"+T0,t+"-"+Lf])},[]),i3e=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fs(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Q4(n){return n instanceof fs(n).Element||n instanceof Element}function hs(n){return n instanceof fs(n).HTMLElement||n instanceof HTMLElement}function Fx(n){return!(typeof ShadowRoot>"u")&&(n instanceof fs(n).ShadowRoot||n instanceof ShadowRoot)}function d3(n){return((Q4(n)?n.ownerDocument:n.document)||window.document).documentElement}var J4=Math.max,$m=Math.min,V0=Math.round;function Bx(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Jk(){return!/^((?!chrome|android).)*safari/i.test(Bx())}function H0(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var r=n.getBoundingClientRect(),i=1,a=1;t&&hs(n)&&(i=n.offsetWidth>0&&V0(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&V0(r.height)/n.offsetHeight||1);var f=(Q4(n)?fs(n):window).visualViewport,m=!Jk()&&e,_=(r.left+(m&&f?f.offsetLeft:0))/i,x=(r.top+(m&&f?f.offsetTop:0))/a,A=r.width/i,z=r.height/a;return{width:A,height:z,top:x,right:_+A,bottom:x+z,left:_,x:_,y:x}}function Ux(n){var t=fs(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Gx(n){return H0(d3(n)).left+Ux(n).scrollLeft}function Va(n){return fs(n).getComputedStyle(n)}function ko(n){return n?(n.nodeName||"").toLowerCase():null}function Wm(n){return"html"===ko(n)?n:n.assignedSlot||n.parentNode||(Fx(n)?n.host:null)||d3(n)}function jx(n){var t=Va(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Xk(n){return["html","body","#document"].indexOf(ko(n))>=0?n.ownerDocument.body:hs(n)&&jx(n)?n:Xk(Wm(n))}function kf(n,t){var e;void 0===t&&(t=[]);var r=Xk(n),i=r===(null==(e=n.ownerDocument)?void 0:e.body),a=fs(r),u=i?[a].concat(a.visualViewport||[],jx(r)?r:[]):r,f=t.concat(u);return i?f:f.concat(kf(Wm(u)))}function a3e(n){return["table","td","th"].indexOf(ko(n))>=0}function eR(n){return hs(n)&&"fixed"!==Va(n).position?n.offsetParent:null}function Rf(n){for(var t=fs(n),e=eR(n);e&&a3e(e)&&"static"===Va(e).position;)e=eR(e);return e&&("html"===ko(e)||"body"===ko(e)&&"static"===Va(e).position)?t:e||function c3e(n){var t=/firefox/i.test(Bx());if(/Trident/i.test(Bx())&&hs(n)&&"fixed"===Va(n).position)return null;var i=Wm(n);for(Fx(i)&&(i=i.host);hs(i)&&["html","body"].indexOf(ko(i))<0;){var a=Va(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(n)||t}function tR(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Fx(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $x(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function nR(n,t,e){return t===Yk?$x(function s3e(n,t){var e=fs(n),r=d3(n),i=e.visualViewport,a=r.clientWidth,u=r.clientHeight,f=0,m=0;if(i){a=i.width,u=i.height;var _=Jk();(_||!_&&"fixed"===t)&&(f=i.offsetLeft,m=i.offsetTop)}return{width:a,height:u,x:f+Gx(n),y:m}}(n,e)):Q4(t)?function l3e(n,t){var e=H0(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):$x(function o3e(n){var t,e=d3(n),r=Ux(n),i=null==(t=n.ownerDocument)?void 0:t.body,a=J4(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=J4(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+Gx(n),m=-r.scrollTop;return"rtl"===Va(i||e).direction&&(f+=J4(e.clientWidth,i?i.clientWidth:0)-a),{width:a,height:u,x:f,y:m}}(d3(n)))}function L0(n){return n.split("-")[1]}function Wx(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function rR(n){var m,t=n.reference,e=n.element,r=n.placement,i=r?zo(r):null,a=r?L0(r):null,u=t.x+t.width/2-e.width/2,f=t.y+t.height/2-e.height/2;switch(i){case M1:m={x:u,y:t.y-e.height};break;case Ks:m={x:u,y:t.y+t.height};break;case Qs:m={x:t.x+t.width,y:f};break;case w1:m={x:t.x-e.width,y:f};break;default:m={x:t.x,y:t.y}}var _=i?Wx(i):null;if(null!=_){var x="y"===_?"height":"width";switch(a){case T0:m[_]=m[_]-(t[x]/2-e[x]/2);break;case Lf:m[_]=m[_]+(t[x]/2-e[x]/2)}}return m}function sR(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function oR(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}function qx(n,t){void 0===t&&(t={});var r=t.placement,i=void 0===r?n.placement:r,a=t.strategy,u=void 0===a?n.strategy:a,f=t.boundary,m=void 0===f?"clippingParents":f,_=t.rootBoundary,x=void 0===_?Yk:_,A=t.elementContext,z=void 0===A?zf:A,P=t.altBoundary,Y=void 0!==P&&P,re=t.padding,ue=void 0===re?0:re,Ie=sR("number"!=typeof ue?ue:oR(ue,Hf)),Ze=n.rects.popper,qe=n.elements[Y?z===zf?"reference":zf:z],je=function d3e(n,t,e,r){var i="clippingParents"===t?function u3e(n){var t=kf(Wm(n)),r=["absolute","fixed"].indexOf(Va(n).position)>=0&&hs(n)?Rf(n):n;return Q4(r)?t.filter(function(i){return Q4(i)&&tR(i,r)&&"body"!==ko(i)}):[]}(n):[].concat(t),a=[].concat(i,[e]),f=a.reduce(function(m,_){var x=nR(n,_,r);return m.top=J4(x.top,m.top),m.right=$m(x.right,m.right),m.bottom=$m(x.bottom,m.bottom),m.left=J4(x.left,m.left),m},nR(n,a[0],r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}(Q4(qe)?qe:qe.contextElement||d3(n.elements.popper),m,x,u),Je=H0(n.elements.reference),It=rR({reference:Je,element:Ze,strategy:"absolute",placement:i}),an=$x(Object.assign({},Ze,It)),Fn=z===zf?an:Je,Ur={top:je.top-Fn.top+Ie.top,bottom:Fn.bottom-je.bottom+Ie.bottom,left:je.left-Fn.left+Ie.left,right:Fn.right-je.right+Ie.right},Gr=n.modifiersData.offset;if(z===zf&&Gr){var no=Gr[i];Object.keys(Ur).forEach(function(x2){var Rl=[Qs,Ks].indexOf(x2)>=0?1:-1,Ol=[M1,Ks].indexOf(x2)>=0?"y":"x";Ur[x2]+=no[Ol]*Rl})}return Ur}const g3e={name:"flip",enabled:!0,phase:"main",fn:function p3e(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,a=void 0===i||i,u=e.altAxis,f=void 0===u||u,m=e.fallbackPlacements,_=e.padding,x=e.boundary,A=e.rootBoundary,z=e.altBoundary,P=e.flipVariations,Y=void 0===P||P,re=e.allowedAutoPlacements,ue=t.options.placement,Ie=zo(ue),Ze=m||(Ie!==ue&&Y?function h3e(n){if(zo(n)===Px)return[];var t=jm(n);return[Zk(n),t,Zk(t)]}(ue):[jm(ue)]),qe=[ue].concat(Ze).reduce(function(bu,P3){return bu.concat(zo(P3)===Px?function f3e(n,t){void 0===t&&(t={});var i=t.boundary,a=t.rootBoundary,u=t.padding,f=t.flipVariations,m=t.allowedAutoPlacements,_=void 0===m?Qk:m,x=L0(t.placement),A=x?f?Kk:Kk.filter(function(Y){return L0(Y)===x}):Hf,z=A.filter(function(Y){return _.indexOf(Y)>=0});0===z.length&&(z=A);var P=z.reduce(function(Y,re){return Y[re]=qx(n,{placement:re,boundary:i,rootBoundary:a,padding:u})[zo(re)],Y},{});return Object.keys(P).sort(function(Y,re){return P[Y]-P[re]})}(t,{placement:P3,boundary:x,rootBoundary:A,padding:_,flipVariations:Y,allowedAutoPlacements:re}):P3)},[]),je=t.rects.reference,Je=t.rects.popper,It=new Map,an=!0,Fn=qe[0],Ur=0;Ur<qe.length;Ur++){var Gr=qe[Ur],no=zo(Gr),x2=L0(Gr)===T0,Rl=[M1,Ks].indexOf(no)>=0,Ol=Rl?"width":"height",E1=qx(t,{placement:Gr,boundary:x,rootBoundary:A,altBoundary:z,padding:_}),ro=Rl?x2?Qs:w1:x2?Ks:M1;je[Ol]>Je[Ol]&&(ro=jm(ro));var Zy=jm(ro),Pl=[];if(a&&Pl.push(E1[no]<=0),f&&Pl.push(E1[ro]<=0,E1[Zy]<=0),Pl.every(function(bu){return bu})){Fn=Gr,an=!1;break}It.set(Gr,Pl)}if(an)for(var eN=function(P3){var d7=qe.find(function(Qy){var Fl=It.get(Qy);if(Fl)return Fl.slice(0,P3).every(function(tN){return tN})});if(d7)return Fn=d7,"break"},u7=Y?3:1;u7>0&&"break"!==eN(u7);u7--);t.placement!==Fn&&(t.modifiersData[r]._skip=!0,t.placement=Fn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Of(n,t,e){return J4(n,$m(t,e))}function Zx(n){var t=H0(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}const _3e={name:"preventOverflow",enabled:!0,phase:"main",fn:function y3e(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,a=void 0===i||i,u=e.altAxis,f=void 0!==u&&u,z=e.tether,P=void 0===z||z,Y=e.tetherOffset,re=void 0===Y?0:Y,ue=qx(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Ie=zo(t.placement),Re=L0(t.placement),Ze=!Re,qe=Wx(Ie),je=function m3e(n){return"x"===n?"y":"x"}(qe),Je=t.modifiersData.popperOffsets,It=t.rects.reference,an=t.rects.popper,Fn="function"==typeof re?re(Object.assign({},t.rects,{placement:t.placement})):re,Ur="number"==typeof Fn?{mainAxis:Fn,altAxis:Fn}:Object.assign({mainAxis:0,altAxis:0},Fn),Gr=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,no={x:0,y:0};if(Je){if(a){var x2,Rl="y"===qe?M1:w1,Ol="y"===qe?Ks:Qs,E1="y"===qe?"height":"width",ro=Je[qe],Zy=ro+ue[Rl],Pl=ro-ue[Ol],Yy=P?-an[E1]/2:0,eN=Re===T0?It[E1]:an[E1],u7=Re===T0?-an[E1]:-It[E1],Ky=t.elements.arrow,bu=P&&Ky?Zx(Ky):{width:0,height:0},P3=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},d7=P3[Rl],Qy=P3[Ol],Fl=Of(0,It[E1],bu[E1]),tN=Ze?It[E1]/2-Yy-Fl-d7-Ur.mainAxis:eN-Fl-d7-Ur.mainAxis,mge=Ze?-It[E1]/2+Yy+Fl+Qy+Ur.mainAxis:u7+Fl+Qy+Ur.mainAxis,nN=t.elements.arrow&&Rf(t.elements.arrow),Wj=null!=(x2=Gr?.[qe])?x2:0,_ge=ro+mge-Wj,qj=Of(P?$m(Zy,ro+tN-Wj-(nN?"y"===qe?nN.clientTop||0:nN.clientLeft||0:0)):Zy,ro,P?J4(Pl,_ge):Pl);Je[qe]=qj,no[qe]=qj-ro}if(f){var Zj,Bl=Je[je],Jy="y"===je?"height":"width",Yj=Bl+ue["x"===qe?M1:w1],Kj=Bl-ue["x"===qe?Ks:Qs],rN=-1!==[M1,w1].indexOf(Ie),Qj=null!=(Zj=Gr?.[je])?Zj:0,Jj=rN?Yj:Bl-It[Jy]-an[Jy]-Qj+Ur.altAxis,Xj=rN?Bl+It[Jy]+an[Jy]-Qj-Ur.altAxis:Kj,e$=P&&rN?function v3e(n,t,e){var r=Of(n,t,e);return r>e?e:r}(Jj,Bl,Xj):Of(P?Jj:Yj,Bl,P?Xj:Kj);Je[je]=e$,no[je]=e$-Bl}t.modifiersData[r]=no}},requiresIfExists:["offset"]},w3e={name:"arrow",enabled:!0,phase:"main",fn:function b3e(n){var t,e=n.state,r=n.name,i=n.options,a=e.elements.arrow,u=e.modifiersData.popperOffsets,f=zo(e.placement),m=Wx(f),x=[w1,Qs].indexOf(f)>=0?"height":"width";if(a&&u){var A=function(t,e){return sR("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:oR(t,Hf))}(i.padding,e),z=Zx(a),P="y"===m?M1:w1,Y="y"===m?Ks:Qs,re=e.rects.reference[x]+e.rects.reference[m]-u[m]-e.rects.popper[x],ue=u[m]-e.rects.reference[m],Ie=Rf(a),Re=Ie?"y"===m?Ie.clientHeight||0:Ie.clientWidth||0:0,Je=Re/2-z[x]/2+(re/2-ue/2),It=Of(A[P],Je,Re-z[x]-A[Y]);e.modifiersData[r]=((t={})[m]=It,t.centerOffset=It-Je,t)}},effect:function M3e(n){var t=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=t.elements.popper.querySelector(i))||!tR(t.elements.popper,i)||(t.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function A3e(n,t,e){void 0===e&&(e=!1);var r=hs(t),i=hs(t)&&function S3e(n){var t=n.getBoundingClientRect(),e=V0(t.width)/n.offsetWidth||1,r=V0(t.height)/n.offsetHeight||1;return 1!==e||1!==r}(t),a=d3(t),u=H0(n,i,e),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!e)&&(("body"!==ko(t)||jx(a))&&(f=function D3e(n){return n!==fs(n)&&hs(n)?function x3e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Ux(n)}(t)),hs(t)?((m=H0(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):a&&(m.x=Gx(a))),{x:u.left+f.scrollLeft-m.x,y:u.top+f.scrollTop-m.y,width:u.width,height:u.height}}function E3e(n){var t=new Map,e=new Set,r=[];function i(a){e.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(f){if(!e.has(f)){var m=t.get(f);m&&i(m)}}),r.push(a)}return n.forEach(function(a){t.set(a.name,a)}),n.forEach(function(a){e.has(a.name)||i(a)}),r}function I3e(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var aR={placement:"bottom",modifiers:[],strategy:"absolute"};function cR(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function V3e(n){void 0===n&&(n={});var e=n.defaultModifiers,r=void 0===e?[]:e,i=n.defaultOptions,a=void 0===i?aR:i;return function(f,m,_){void 0===_&&(_=a);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},aR,a),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},A=[],z=!1,P={state:x,setOptions:function(Ie){var Re="function"==typeof Ie?Ie(x.options):Ie;re(),x.options=Object.assign({},a,x.options,Re),x.scrollParents={reference:Q4(f)?kf(f):f.contextElement?kf(f.contextElement):[],popper:kf(m)};var Ze=function N3e(n){var t=E3e(n);return i3e.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}(function T3e(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,x.options.modifiers)));return x.orderedModifiers=Ze.filter(function(Gr){return Gr.enabled}),function Y(){x.orderedModifiers.forEach(function(ue){var Re=ue.options,qe=ue.effect;if("function"==typeof qe){var je=qe({state:x,name:ue.name,instance:P,options:void 0===Re?{}:Re});A.push(je||function(){})}})}(),P.update()},forceUpdate:function(){if(!z){var Ie=x.elements,Re=Ie.reference,Ze=Ie.popper;if(cR(Re,Ze)){x.rects={reference:A3e(Re,Rf(Ze),"fixed"===x.options.strategy),popper:Zx(Ze)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(Gr){return x.modifiersData[Gr.name]=Object.assign({},Gr.data)});for(var je=0;je<x.orderedModifiers.length;je++)if(!0!==x.reset){var Je=x.orderedModifiers[je],It=Je.fn,an=Je.options;"function"==typeof It&&(x=It({state:x,options:void 0===an?{}:an,name:Je.name,instance:P})||x)}else x.reset=!1,je=-1}}},update:I3e(function(){return new Promise(function(ue){P.forceUpdate(),ue(x)})}),destroy:function(){re(),z=!0}};if(!cR(f,m))return P;function re(){A.forEach(function(ue){return ue()}),A=[]}return P.setOptions(_).then(function(ue){!z&&_.onFirstUpdate&&_.onFirstUpdate(ue)}),P}}var qm={passive:!0};const L3e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function H3e(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,a=void 0===i||i,u=r.resize,f=void 0===u||u,m=fs(t.elements.popper),_=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&_.forEach(function(x){x.addEventListener("scroll",e.update,qm)}),f&&m.addEventListener("resize",e.update,qm),function(){a&&_.forEach(function(x){x.removeEventListener("scroll",e.update,qm)}),f&&m.removeEventListener("resize",e.update,qm)}},data:{}},k3e={name:"popperOffsets",enabled:!0,phase:"read",fn:function z3e(n){var t=n.state;t.modifiersData[n.name]=rR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var R3e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lR(n){var t,e=n.popper,r=n.popperRect,i=n.placement,a=n.variation,u=n.offsets,f=n.position,m=n.gpuAcceleration,_=n.adaptive,x=n.roundOffsets,A=n.isFixed,z=u.x,P=void 0===z?0:z,Y=u.y,re=void 0===Y?0:Y,ue="function"==typeof x?x({x:P,y:re}):{x:P,y:re};P=ue.x,re=ue.y;var Ie=u.hasOwnProperty("x"),Re=u.hasOwnProperty("y"),Ze=w1,qe=M1,je=window;if(_){var Je=Rf(e),It="clientHeight",an="clientWidth";Je===fs(e)&&"static"!==Va(Je=d3(e)).position&&"absolute"===f&&(It="scrollHeight",an="scrollWidth"),(i===M1||(i===w1||i===Qs)&&a===Lf)&&(qe=Ks,re-=(A&&Je===je&&je.visualViewport?je.visualViewport.height:Je[It])-r.height,re*=m?1:-1),i!==w1&&(i!==M1&&i!==Ks||a!==Lf)||(Ze=Qs,P-=(A&&Je===je&&je.visualViewport?je.visualViewport.width:Je[an])-r.width,P*=m?1:-1)}var x2,Gr=Object.assign({position:f},_&&R3e),no=!0===x?function O3e(n){var e=n.y,i=window.devicePixelRatio||1;return{x:V0(n.x*i)/i||0,y:V0(e*i)/i||0}}({x:P,y:re}):{x:P,y:re};return P=no.x,re=no.y,Object.assign({},Gr,m?((x2={})[qe]=Re?"0":"",x2[Ze]=Ie?"0":"",x2.transform=(je.devicePixelRatio||1)<=1?"translate("+P+"px, "+re+"px)":"translate3d("+P+"px, "+re+"px, 0)",x2):((t={})[qe]=Re?re+"px":"",t[Ze]=Ie?P+"px":"",t.transform="",t))}const F3e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function P3e(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=void 0===r||r,a=e.adaptive,u=void 0===a||a,f=e.roundOffsets,m=void 0===f||f,x={placement:zo(t.placement),variation:L0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,lR(Object.assign({},x,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:m})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,lR(Object.assign({},x,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var G3e=[L3e,k3e,F3e,{name:"applyStyles",enabled:!0,phase:"write",fn:function B3e(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},a=t.elements[e];!hs(a)||!ko(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(u){var f=i[u];!1===f?a.removeAttribute(u):a.setAttribute(u,!0===f?"":f)}))})},effect:function U3e(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},f=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]).reduce(function(m,_){return m[_]="",m},{});!hs(i)||!ko(i)||(Object.assign(i.style,f),Object.keys(a).forEach(function(m){i.removeAttribute(m)}))})}},requires:["computeStyles"]}],j3e=V3e({defaultModifiers:G3e});const uR=["*"],y4e=["dialog"];function ile(n,t){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const e=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(e)}}function sle(n,t){if(1&n&&l._uU(0),2&n){const e=l.oxw().$implicit;l.Oqu(e)}}function ole(n,t){if(1&n&&(l.YNc(0,ile,2,3,"span",1),l.YNc(1,sle,1,1,"ng-template",null,2,l.W1O)),2&n){const e=t.odd,r=l.MAs(2);l.Q6J("ngIf",e)("ngIfElse",r)}}function dR(n){return null!=n?`${n}`:""}function Ym(n){return"string"==typeof n}function X4(n){return null!=n}function z0(n){return(n||document.body).getBoundingClientRect()}function hR(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const pR={animation:!0,transitionTimerDelayMs:5},ple=()=>{},{transitionTimerDelayMs:gle}=pR,Pf=new Map,v2=(n,t,e,r)=>{let i=r.context||{};const a=Pf.get(t);if(a)switch(r.runningTransition){case"continue":return wr.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Pf.delete(t)}const u=e(t,r.animation,i)||ple;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),dt(void 0).pipe(function fle(n){return t=>new zn.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const f=new bn.x,m=new bn.x,_=f.pipe(function Bce(...n){return t=>H2(t,dt(...n))}(!0));Pf.set(t,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const x=function hle(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const A=m2(t,"transitionend").pipe(Xn(_),wn(({target:P})=>P===t));Gk(Rx(x+gle).pipe(Xn(_)),A,m).pipe(Xn(_)).subscribe(()=>{Pf.delete(t),n.run(()=>{u(),f.next(),f.complete()})})}),f.asObservable()};let Ff=(()=>{class n{constructor(){this.animation=pR.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var oi=(()=>{return(n=oi||(oi={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",oi;var n})();const Qm=(n,t)=>!!t&&t.some(e=>e.contains(n)),SR=(n,t)=>!t||null!=function dle(n,t){return!t||typeof n.closest>"u"?null:n.closest(t)}(n,t),Vle=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ER=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function NR(n){const t=Array.from(n.querySelectorAll(ER)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const zle=/\s+/,kle=/  +/gi,Rle={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Ple=/^left/,Fle=/^right/,Ble=/^start/,Ule=/^end/;function IR({placement:n,baseClass:t},e){let r=Array.isArray(n)?n:n.split(zle),a=r.findIndex(_=>"auto"===_);a>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(_){null==r.find(x=>-1!==x.search("^"+_))&&r.splice(a++,1,_)});const u=r.map(_=>function Ole(n,t){const[e,r]=Rle[n];return t&&r||e}(_,e.isRTL()));return{placement:u.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:_}){const x=new RegExp(t+"(-[a-z]+)*","gi"),A=_.elements.popper,z=_.placement;let P=A.className;P=P.replace(x,""),P+=` ${function Gle(n,t){let[e,r]=t.split("-");const i=e.replace(Ple,"start").replace(Fle,"end");let a=[i];if(r){let u=r;("left"===e||"right"===e)&&(u=u.replace(Ble,"top").replace(Ule,"bottom")),a.push(`${i}-${u}`)}return n&&(a=a.map(u=>`${n}-${u}`)),a.join(" ")}(t,z)}`,P=P.trim().replace(kle," "),A.className=P}},g3e,_3e,w3e,{enabled:!0,name:"flip",options:{fallbackPlacements:u}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function TR(n){return n}let HR=(()=>{class n{constructor(e){this._element=e.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();new Date(1882,10,12),new Date(2174,10,25);let PR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi,Nce]}),n})(),GR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class rl{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}class t6e{constructor(t,e,r,i,a,u){this._componentType=t,this._injector=e,this._viewContainerRef=r,this._renderer=i,this._ngZone=a,this._applicationRef=u,this._windowRef=null,this._contentRef=null}open(t,e,r=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:i}=this._windowRef.location,a=this._ngZone.onStable.pipe(Yt(1),(0,D.z)(()=>v2(this._ngZone,i,({classList:u})=>u.add("show"),{animation:r,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:a}}close(t=!1){return this._windowRef?v2(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe((0,Ce.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):dt(void 0)}_getContentRef(t,e){if(t){if(t instanceof l.Rgc){const r=t.createEmbeddedView(e);return this._applicationRef.attachView(r),new rl([r.rootNodes],r)}return new rl([[this._renderer.createText(`${t}`)]])}return new rl([])}}let n6e=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Yt(1)).subscribe(()=>{v2(this._zone,this._el.nativeElement,(e,r)=>{r&&z0(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return v2(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class jR{close(t){}dismiss(t){}}class r6e{constructor(t,e,r,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new bn.x,this._dismissed=new bn.x,this._hidden=new bn.x,t.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function fR(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():dt(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Um(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var jf=(()=>{return(n=jf||(jf={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",jf;var n})();let i6e=(()=>{class n{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new bn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new bn.x,this.hidden=new bn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ym(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Yt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=Um(v2(this._zone,e,()=>e.classList.remove("show"),r),v2(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};Um(v2(this._zone,this._elRef.nativeElement,(a,u)=>{u&&z0(a),a.classList.add("show")},e),v2(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{m2(e,"keydown").pipe(Xn(this._closed$),wn(i=>i.which===oi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(jf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;m2(this._dialogEl.nativeElement,"mousedown").pipe(Xn(this._closed$),(0,Ce.b)(()=>r=!1),jn(()=>m2(e,"mouseup").pipe(Xn(this._closed$),Yt(1))),wn(({target:i})=>e===i)).subscribe(()=>{r=!0}),m2(e,"click").pipe(Xn(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(jf.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=NR(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&v2(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(le),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&l.Gf(y4e,7),2&e){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:uR,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&e&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),s6e=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:u}=i;if(e>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+e}px`}return i.overflow="hidden",()=>{e>0&&(i.paddingRight=u),i.overflow=a}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o6e=(()=>{class n{constructor(e,r,i,a,u,f){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=u,this._ngZone=f,this._activeWindowCmptHasChanged=new bn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=m2(t,"focusin").pipe(Xn(e),(0,ot.U)(a=>a.target));m2(t,"keydown").pipe(Xn(e),wn(a=>a.which===oi.Tab),Ox(i)).subscribe(([a,u])=>{const[f,m]=NR(t);(u===f||u===t)&&a.shiftKey&&(m.focus(),a.preventDefault()),u===m&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&m2(t,"click").pipe(Xn(e),Ox(i),(0,ot.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i){const a=i.container instanceof HTMLElement?i.container:X4(i.container)?this._document.querySelector(i.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new jR,m=this._getContentRef(i.injector||e,r,f,i);let _=!1!==i.backdrop?this._attachBackdrop(a):void 0,x=this._attachWindowComponent(a,m.nodes),A=new r6e(x,m,_,i.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(x),A.hidden.pipe(Yt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=z=>{A.close(z)},f.dismiss=z=>{A.dismiss(z)},this._applyWindowOptions(x.instance,i),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),_&&_.instance&&(this._applyBackdropOptions(_.instance,i),_.changeDetectorRef.detectChanges()),x.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let r=(0,l.LMc)(n6e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let i=(0,l.LMc)(i6e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,r){this._windowAttributes.forEach(i=>{X4(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{X4(r[i])&&(e[i]=r[i])})}_getContentRef(e,r,i,a){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,i):Ym(r)?this._createFromString(r):this._createFromComponent(e,r,i,a):new rl([])}_createFromTemplateRef(e,r){const a=e.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(a),new rl([a.rootNodes],a)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new rl([[r]])}_createFromComponent(e,r,i,a){const u=l.zs3.create({providers:[{provide:jR,useValue:i}],parent:e}),f=(0,l.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:u}),m=f.location.nativeElement;return a.scrollable&&m.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new rl([[m]],f.hostView,f)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(le),l.LFG(s6e),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a6e=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ff))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$R=(()=>{class n{constructor(e,r,i){this._injector=e,this._modalStack=r,this._config=i}open(e,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3),l.LFG(o6e),l.LFG(a6e))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$R]}),n})(),KR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),iO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})();class h6e{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const p6e={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},sO=n=>n>0?Wk(n):t=>t;let oO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),aO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),cO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),lO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),b6e=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.popperOptions=r=>r,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ff))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M6e=0,w6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,r){2&e&&(l.Ikx("id",r.id),l.Tol("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:uR,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,r){1&e&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),n})(),x6e=(()=>{class n{constructor(e,r,i,a,u,f,m,_,x,A){this._elementRef=e,this._renderer=i,this._ngZone=m,this._document=_,this._changeDetector=x,this.shown=new l.vpe,this.hidden=new l.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+M6e++,this._windowRef=null,this.animation=f.animation,this.autoClose=f.autoClose,this.placement=f.placement,this.popperOptions=f.popperOptions,this.triggers=f.triggers,this.container=f.container,this.disableTooltip=f.disableTooltip,this.tooltipClass=f.tooltipClass,this.openDelay=f.openDelay,this.closeDelay=f.closeDelay,this._popupService=new t6e(w6e,a,u,i,this._ngZone,A),this._positioning=function VR(n){let t=null;return{createPopper(e){if(!t){let i=(e.updatePopperOptions||TR)(IR(e,n));t=j3e(e.hostElement,e.targetElement,i)}},update(){t&&t.update()},setOptions(e){if(t){let i=(e.updatePopperOptions||TR)(IR(e,n));t.setOptions(i)}},destroy(){t&&(t.destroy(),t=null)}}}(r)}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:r,transition$:i}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=r,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:a=>this.popperOptions(a)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function AR(n,t,e,r,i,a,u,f){e&&n.runOutsideAngular((n=>Vle?()=>setTimeout(()=>n(),100):n)(()=>{const _=m2(t,"keydown").pipe(Xn(i),wn(z=>z.which===oi.Escape),(0,Ce.b)(z=>z.preventDefault())),x=m2(t,"mousedown").pipe((0,ot.U)(z=>{const P=z.target;return 2!==z.button&&!Qm(P,u)&&("inside"===e?Qm(P,a)&&SR(P,f):"outside"===e?!Qm(P,a):SR(P,f)||!Qm(P,a))}),Xn(i)),A=m2(t,"mouseup").pipe(Ox(x),wn(([z,P])=>P),Wk(0),Xn(i));Gk([_.pipe((0,ot.U)(z=>0)),A.pipe((0,ot.U)(z=>1))]).subscribe(z=>n.run(()=>r(z)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),i.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(e).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function y6e(n,t,e,r,i,a,u=0,f=0){const m=function g6e(n,t=p6e){const e=(n||"").trim();if(0===e.length)return[];const r=e.split(/\s+/).map(a=>a.split(":")).map(a=>{let u=t[a[0]]||a;return new h6e(u[0],u[1])}),i=r.filter(a=>a.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(e);if(1===m.length&&m[0].isManual())return()=>{};const _=function m6e(n,t,e,r){return new zn.y(i=>{const a=[],u=()=>i.next(!0),f=()=>i.next(!1),m=()=>i.next(!r());return e.forEach(_=>{_.open===_.close?a.push(n.listen(t,_.open,m)):a.push(n.listen(t,_.open,u),n.listen(t,_.close,f))}),()=>{a.forEach(_=>_())}})}(n,t,m,r).pipe(function v6e(n,t,e){return r=>{let i=null;const a=r.pipe((0,ot.U)(m=>({open:m})),wn(m=>{const _=e();return _===m.open||i&&i.open!==_?(i&&i.open!==m.open&&(i=null),!1):(i=m,!0)}),(0,qk.B)()),u=a.pipe(wn(m=>m.open),sO(n)),f=a.pipe(wn(m=>!m.open),sO(t));return(0,N4.T)(u,f).pipe(wn(m=>m===i&&(i=null,m.open!==e())),(0,ot.U)(m=>m.open))}}(u,f,r)).subscribe(x=>x?i():a());return()=>_.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Ym(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(HR),l.Y36(l.Qsj),l.Y36(l.zs3),l.Y36(l.s_b),l.Y36(b6e),l.Y36(l.R0b),l.Y36(le),l.Y36(l.sBO),l.Y36(l.z2F))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[l.TTD]}),n})(),dO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),D6e=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=dR(this.result),i=Array.isArray(this.term)?this.term:[this.term],a=_=>this.accentSensitive?_:hR(_),u=i.map(_=>function ule(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(a(dR(_)))).filter(_=>_),f=this.accentSensitive?r:hR(r),m=u.length?f.split(new RegExp(`(${u.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=m;else{let _=0;this.parts=m.map(x=>r.substring(_,_+=x.length))}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[l.TTD],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,r){1&e&&l.YNc(0,ole,3,2,"ng-template",0),2&e&&l.Q6J("ngForOf",r.parts)},dependencies:[qr,Tn],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function S6e(){return 100}});let fO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pi]}),n})(),hO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const A6e=[CR,bR,xR,DR,PR,GR,WR,KR,hO,iO,oO,aO,cO,lO,uO,dO,fO];let E6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[A6e,CR,bR,xR,DR,PR,GR,WR,KR,hO,iO,oO,aO,cO,lO,uO,dO,fO]}),n})(),sD=(()=>{class n{constructor(e){this.modalService=e,this.isModalOpened=!1,this.actionTaken=new tn(void 0)}setDialogContent(e){this.modalService.open(e,{windowClass:"app-dialog",ariaLabelledBy:"modal-basic-title"}).result.then(r=>this.onModalActionTaken(r),r=>this.onModalActionTaken(r))}onModalActionTaken(e){this.actionTaken.next(e),this.isModalOpened=!1,console.log("Modal status changed to: "+e)}setDialog(e,r){switch(e){case Qr.open:this.setDialogContent(r),this.isModalOpened=!0;break;case Qr.ok:this.modalService.dismissAll(Qr.ok);break;case Qr.cancel:this.modalService.dismissAll(Qr.cancel);break;case Qr.close:this.modalService.dismissAll(Qr.close);break;case Qr.crossClick:this.modalService.dismissAll(Qr.crossClick)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG($R))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Qr=(()=>{return(n=Qr||(Qr={}))[n.close=0]="close",n[n.open=1]="open",n[n.ok=2]="ok",n[n.cancel=3]="cancel",n[n.crossClick=4]="crossClick",Qr;var n})();function pO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ht(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?pO(Object(e),!0).forEach(function(r){ai(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function rv(n){return(rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function gO(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ai(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oD(n,t){return function H6e(n){if(Array.isArray(n))return n}(n)||function z6e(n,t){var e=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var u,f,r=[],i=!0,a=!1;try{for(e=e.call(n);!(i=(u=e.next()).done)&&(r.push(u.value),!t||r.length!==t);i=!0);}catch(m){a=!0,f=m}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw f}}return r}}(n,t)||mO(n,t)||function R6e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(n){return function V6e(n){if(Array.isArray(n))return aD(n)}(n)||function L6e(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||mO(n)||function k6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mO(n,t){if(n){if("string"==typeof n)return aD(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return aD(n,t)}}function aD(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var vO=function(){},cD={},yO={},_O=null,CO={mark:vO,measure:vO};try{typeof window<"u"&&(cD=window),typeof document<"u"&&(yO=document),typeof MutationObserver<"u"&&(_O=MutationObserver),typeof performance<"u"&&(CO=performance)}catch{}var ov,av,cv,lv,uv,bO=(cD.navigator||{}).userAgent,MO=void 0===bO?"":bO,h3=cD,lr=yO,wO=_O,sv=CO,La=!!lr.documentElement&&!!lr.head&&"function"==typeof lr.addEventListener&&"function"==typeof lr.createElement,xO=~MO.indexOf("MSIE")||~MO.indexOf("Trident/"),za="___FONT_AWESOME___",SO="svg-inline--fa",il="data-fa-i2svg",uD="data-fa-pseudo-element",dD="data-prefix",fD="data-icon",AO="fontawesome-i2svg",B6e=["HTML","HEAD","STYLE","SCRIPT"],EO=function(){try{return!0}catch{return!1}}(),ur="classic",Nr="sharp",hD=[ur,Nr];function qf(n){return new Proxy(n,{get:function(e,r){return r in e?e[r]:e[ur]}})}var Zf=qf((ai(ov={},ur,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ai(ov,Nr,{fa:"solid",fass:"solid","fa-solid":"solid"}),ov)),Yf=qf((ai(av={},ur,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ai(av,Nr,{solid:"fass"}),av)),Kf=qf((ai(cv={},ur,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ai(cv,Nr,{fass:"fa-solid"}),cv)),U6e=qf((ai(lv={},ur,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ai(lv,Nr,{"fa-solid":"fass"}),lv)),G6e=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,NO="fa-layers-text",j6e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$6e=qf((ai(uv={},ur,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ai(uv,Nr,{900:"fass"}),uv)),IO=[1,2,3,4,5,6,7,8,9,10],W6e=IO.concat([11,12,13,14,15,16,17,18,19,20]),q6e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Qf=new Set;Object.keys(Yf[ur]).map(Qf.add.bind(Qf)),Object.keys(Yf[Nr]).map(Qf.add.bind(Qf));var Z6e=[].concat(hD,Wf(Qf),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(IO.map(function(n){return"".concat(n,"x")})).concat(W6e.map(function(n){return"w-".concat(n)})),Jf=h3.FontAwesomeConfig||{};lr&&"function"==typeof lr.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=oD(n,2),r=t[1],i=function K6e(n){return""===n||"false"!==n&&("true"===n||n)}(function Y6e(n){var t=lr.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=i&&(Jf[r]=i)});var TO={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:SO,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Jf.familyPrefix&&(Jf.cssPrefix=Jf.familyPrefix);var R0=ht(ht({},TO),Jf);R0.autoReplaceSvg||(R0.observeMutations=!1);var Mt={};Object.keys(TO).forEach(function(n){Object.defineProperty(Mt,n,{enumerable:!0,set:function(e){R0[n]=e,Xf.forEach(function(r){return r(Mt)})},get:function(){return R0[n]}})}),Object.defineProperty(Mt,"familyPrefix",{enumerable:!0,set:function(t){R0.cssPrefix=t,Xf.forEach(function(e){return e(Mt)})},get:function(){return R0.cssPrefix}}),h3.FontAwesomeConfig=Mt;var Xf=[],Oo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function e5(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function O0(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function pD(n){return n.classList?O0(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function VO(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dv(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function gD(n){return n.size!==Oo.size||n.x!==Oo.x||n.y!==Oo.y||n.rotate!==Oo.rotate||n.flipX||n.flipY}function HO(){var n="fa",t=SO,e=Mt.cssPrefix,r=Mt.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||r!==t){var a=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(e,"-")).replace(u,"--".concat(e,"-")).replace(f,".".concat(r))}return i}var LO=!1;function mD(){Mt.autoAddCss&&!LO&&(function X6e(n){if(n&&La){var t=lr.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=lr.head.childNodes,r=null,i=e.length-1;i>-1;i--){var a=e[i],u=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=a)}lr.head.insertBefore(t,r)}}(HO()),LO=!0)}var s0e={mixout:function(){return{dom:{css:HO,insertCss:mD}}},hooks:function(){return{beforeDOMElementCreation:function(){mD()},beforeI2svg:function(){mD()}}}},ka=h3||{};ka[za]||(ka[za]={}),ka[za].styles||(ka[za].styles={}),ka[za].hooks||(ka[za].hooks={}),ka[za].shims||(ka[za].shims=[]);var Xs=ka[za],zO=[],fv=!1;function a0e(n){!La||(fv?setTimeout(n,0):zO.push(n))}function t5(n){var t=n.tag,e=n.attributes,r=void 0===e?{}:e,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?VO(n):"<".concat(t," ").concat(function t0e(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(VO(n[e]),'" ')},"").trim()}(r),">").concat(a.map(t5).join(""),"</").concat(t,">")}function kO(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}La&&((fv=(lr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(lr.readyState))||lr.addEventListener("DOMContentLoaded",function n(){lr.removeEventListener("DOMContentLoaded",n),fv=1,zO.map(function(t){return t()})}));var vD=function(t,e,r,i){var m,_,x,a=Object.keys(t),u=a.length,f=void 0!==i?function(t,e){return function(r,i,a,u){return t.call(e,r,i,a,u)}}(e,i):e;for(void 0===r?(m=1,x=t[a[0]]):(m=0,x=r);m<u;m++)x=f(x,t[_=a[m]],_,t);return x};function yD(n){var t=function l0e(n){for(var t=[],e=0,r=n.length;e<r;){var i=n.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var a=n.charCodeAt(e++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),e--)}else t.push(i)}return t}(n);return 1===t.length?t[0].toString(16):null}function RO(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function _D(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.skipHooks,i=void 0!==r&&r,a=RO(t);"function"!=typeof Xs.hooks.addPack||i?Xs.styles[n]=ht(ht({},Xs.styles[n]||{}),a):Xs.hooks.addPack(n,RO(t)),"fas"===n&&_D("fa",t)}var hv,pv,gv,P0=Xs.styles,d0e=Xs.shims,f0e=(ai(hv={},ur,Object.values(Kf[ur])),ai(hv,Nr,Object.values(Kf[Nr])),hv),CD=null,OO={},PO={},FO={},BO={},UO={},h0e=(ai(pv={},ur,Object.keys(Zf[ur])),ai(pv,Nr,Object.keys(Zf[Nr])),pv);function g0e(n,t){var e=t.split("-"),r=e[0],i=e.slice(1).join("-");return r!==n||""===i||function p0e(n){return~Z6e.indexOf(n)}(i)?null:i}var GO=function(){var t=function(a){return vD(P0,function(u,f,m){return u[m]=vD(f,a,{}),u},{})};OO=t(function(i,a,u){return a[3]&&(i[a[3]]=u),a[2]&&a[2].filter(function(m){return"number"==typeof m}).forEach(function(m){i[m.toString(16)]=u}),i}),PO=t(function(i,a,u){return i[u]=u,a[2]&&a[2].filter(function(m){return"string"==typeof m}).forEach(function(m){i[m]=u}),i}),UO=t(function(i,a,u){var f=a[2];return i[u]=u,f.forEach(function(m){i[m]=u}),i});var e="far"in P0||Mt.autoFetchSvg,r=vD(d0e,function(i,a){var u=a[0],f=a[1],m=a[2];return"far"===f&&!e&&(f="fas"),"string"==typeof u&&(i.names[u]={prefix:f,iconName:m}),"number"==typeof u&&(i.unicodes[u.toString(16)]={prefix:f,iconName:m}),i},{names:{},unicodes:{}});FO=r.names,BO=r.unicodes,CD=mv(Mt.styleDefault,{family:Mt.familyDefault})};function bD(n,t){return(OO[n]||{})[t]}function ol(n,t){return(UO[n]||{})[t]}function jO(n){return FO[n]||{prefix:null,iconName:null}}function g3(){return CD}function mv(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.family,r=void 0===e?ur:e,i=Zf[r][n],a=Yf[r][n]||Yf[r][i],u=n in Xs.styles?n:null;return a||u||null}(function J6e(n){Xf.push(n)})(function(n){CD=mv(n.styleDefault,{family:Mt.familyDefault})}),GO();var $O=(ai(gv={},ur,Object.keys(Kf[ur])),ai(gv,Nr,Object.keys(Kf[Nr])),gv);function vv(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.skipLookups,i=void 0!==r&&r,a=(ai(t={},ur,"".concat(Mt.cssPrefix,"-").concat(ur)),ai(t,Nr,"".concat(Mt.cssPrefix,"-").concat(Nr)),t),u=null,f=ur;(n.includes(a[ur])||n.some(function(_){return $O[ur].includes(_)}))&&(f=ur),(n.includes(a[Nr])||n.some(function(_){return $O[Nr].includes(_)}))&&(f=Nr);var m=n.reduce(function(_,x){var A=g0e(Mt.cssPrefix,x);if(P0[x]?(x=f0e[f].includes(x)?U6e[f][x]:x,u=x,_.prefix=x):h0e[f].indexOf(x)>-1?(u=x,_.prefix=mv(x,{family:f})):A?_.iconName=A:x!==Mt.replacementClass&&x!==a[ur]&&x!==a[Nr]&&_.rest.push(x),!i&&_.prefix&&_.iconName){var z="fa"===u?jO(_.iconName):{},P=ol(_.prefix,_.iconName);z.prefix&&(u=null),_.iconName=z.iconName||P||_.iconName,_.prefix=z.prefix||_.prefix,"far"===_.prefix&&!P0.far&&P0.fas&&!Mt.autoFetchSvg&&(_.prefix="fas")}return _},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(m.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(m.prefix="fad"),!m.prefix&&f===Nr&&(P0.fass||Mt.autoFetchSvg)&&(m.prefix="fass",m.iconName=ol(m.prefix,m.iconName)||m.iconName),("fa"===m.prefix||"fa"===u)&&(m.prefix=g3()||"fas"),m}var y0e=function(){function n(){(function N6e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function I6e(n,t,e){t&&gO(n.prototype,t),e&&gO(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var u=i.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(f){e.definitions[f]=ht(ht({},e.definitions[f]||{}),u[f]),_D(f,u[f]);var m=Kf[ur][f];m&&_D(m,u[f]),GO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var u=i[a],f=u.prefix,m=u.iconName,_=u.icon,x=_[2];e[f]||(e[f]={}),x.length>0&&x.forEach(function(A){"string"==typeof A&&(e[f][A]=_)}),e[f][m]=_}),e}}]),n}(),WO=[],F0={},B0={},_0e=Object.keys(B0);function wD(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var a=F0[n]||[];return a.forEach(function(u){t=u.apply(null,[t].concat(r))}),t}function al(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var i=F0[n]||[];i.forEach(function(a){a.apply(null,e)})}function Ra(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return B0[n]?B0[n].apply(null,t):void 0}function xD(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||g3();if(t)return t=ol(e,t)||t,kO(qO.definitions,e,t)||kO(Xs.styles,e,t)}var qO=new y0e,M0e={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return La?(al("beforeI2svg",t),Ra("pseudoElements2svg",t),Ra("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===Mt.autoReplaceSvg&&(Mt.autoReplaceSvg=!0),Mt.observeMutations=!0,a0e(function(){x0e({autoReplaceSvgRoot:e}),al("watch",t)})}},x1={noAuto:function(){Mt.autoReplaceSvg=!1,Mt.observeMutations=!1,al("noAuto")},config:Mt,dom:M0e,parse:{icon:function(t){if(null===t)return null;if("object"===rv(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ol(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],r=mv(t[0]);return{prefix:r,iconName:ol(r,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(Mt.cssPrefix,"-"))>-1||t.match(G6e))){var i=vv(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||g3(),iconName:ol(i.prefix,i.iconName)||i.iconName}}if("string"==typeof t){var a=g3();return{prefix:a,iconName:ol(a,t)||t}}}},library:qO,findIconDefinition:xD,toHtml:t5},x0e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,r=void 0===e?lr:e;(Object.keys(Xs.styles).length>0||Mt.autoFetchSvg)&&La&&Mt.autoReplaceSvg&&x1.dom.i2svg({node:r})};function yv(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return t5(r)})}}),Object.defineProperty(n,"node",{get:function(){if(La){var r=lr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function DD(n){var t=n.icons,e=t.main,r=t.mask,i=n.prefix,a=n.iconName,u=n.transform,f=n.symbol,m=n.title,_=n.maskId,x=n.titleId,A=n.extra,z=n.watchable,P=void 0!==z&&z,Y=r.found?r:e,re=Y.width,ue=Y.height,Ie="fak"===i,Re=[Mt.replacementClass,a?"".concat(Mt.cssPrefix,"-").concat(a):""].filter(function(Fn){return-1===A.classes.indexOf(Fn)}).filter(function(Fn){return""!==Fn||!!Fn}).concat(A.classes).join(" "),Ze={children:[],attributes:ht(ht({},A.attributes),{},{"data-prefix":i,"data-icon":a,class:Re,role:A.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(re," ").concat(ue)})},qe=Ie&&!~A.classes.indexOf("fa-fw")?{width:"".concat(re/ue*16*.0625,"em")}:{};P&&(Ze.attributes[il]=""),m&&(Ze.children.push({tag:"title",attributes:{id:Ze.attributes["aria-labelledby"]||"title-".concat(x||e5())},children:[m]}),delete Ze.attributes.title);var je=ht(ht({},Ze),{},{prefix:i,iconName:a,main:e,mask:r,maskId:_,transform:u,symbol:f,styles:ht(ht({},qe),A.styles)}),Je=r.found&&e.found?Ra("generateAbstractMask",je)||{children:[],attributes:{}}:Ra("generateAbstractIcon",je)||{children:[],attributes:{}},an=Je.attributes;return je.children=Je.children,je.attributes=an,f?function S0e(n){var e=n.iconName,r=n.children,i=n.attributes,a=n.symbol,u=!0===a?"".concat(n.prefix,"-").concat(Mt.cssPrefix,"-").concat(e):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ht(ht({},i),{},{id:u}),children:r}]}]}(je):function D0e(n){var t=n.children,e=n.main,r=n.mask,i=n.attributes,a=n.styles,u=n.transform;if(gD(u)&&e.found&&!r.found){var _={x:e.width/e.height/2,y:.5};i.style=dv(ht(ht({},a),{},{"transform-origin":"".concat(_.x+u.x/16,"em ").concat(_.y+u.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(je)}function ZO(n){var t=n.content,e=n.width,r=n.height,i=n.transform,a=n.title,u=n.extra,f=n.watchable,m=void 0!==f&&f,_=ht(ht(ht({},u.attributes),a?{title:a}:{}),{},{class:u.classes.join(" ")});m&&(_[il]="");var x=ht({},u.styles);gD(i)&&(x.transform=function r0e(n){var t=n.transform,e=n.width,i=n.height,a=void 0===i?16:i,u=n.startCentered,f=void 0!==u&&u,m="";return m+=f&&xO?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-a/2,"em) "):f?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(m+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:e,height:r}),x["-webkit-transform"]=x.transform);var A=dv(x);A.length>0&&(_.style=A);var z=[];return z.push({tag:"span",attributes:_,children:[t]}),a&&z.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),z}function A0e(n){var t=n.content,e=n.title,r=n.extra,i=ht(ht(ht({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),a=dv(r.styles);a.length>0&&(i.style=a);var u=[];return u.push({tag:"span",attributes:i,children:[t]}),e&&u.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),u}var SD=Xs.styles;function AD(n){var t=n[0],e=n[1],a=oD(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(Mt.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Mt.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(Mt.cssPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var E0e={found:!1,width:512,height:512};function ED(n,t){var e=t;return"fa"===t&&null!==Mt.styleDefault&&(t=g3()),new Promise(function(r,i){if(Ra("missingIconAbstract"),"fa"===e){var u=jO(n)||{};n=u.iconName||n,t=u.prefix||t}if(n&&t&&SD[t]&&SD[t][n])return r(AD(SD[t][n]));(function N0e(n,t){!EO&&!Mt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),r(ht(ht({},E0e),{},{icon:Mt.showMissingIcons&&n&&Ra("missingIconAbstract")||{}}))})}var YO=function(){},ND=Mt.measurePerformance&&sv&&sv.mark&&sv.measure?sv:{mark:YO,measure:YO},n5='FA "6.2.0"',ID_begin=function(t){return ND.mark("".concat(n5," ").concat(t," begins")),function(){return function(t){ND.mark("".concat(n5," ").concat(t," ends")),ND.measure("".concat(n5," ").concat(t),"".concat(n5," ").concat(t," begins"),"".concat(n5," ").concat(t," ends"))}(t)}},_v=function(){};function QO(n){return"string"==typeof(n.getAttribute?n.getAttribute(il):null)}function L0e(n){return lr.createElementNS("http://www.w3.org/2000/svg",n)}function z0e(n){return lr.createElement(n)}function JO(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,r=void 0===e?"svg"===n.tag?L0e:z0e:e;if("string"==typeof n)return lr.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(u){i.setAttribute(u,n.attributes[u])});var a=n.children||[];return a.forEach(function(u){i.appendChild(JO(u,{ceFn:r}))}),i}var Cv={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(i){e.parentNode.insertBefore(JO(i),e)}),null===e.getAttribute(il)&&Mt.keepOriginalSource){var r=lr.createComment(function k0e(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){var e=t[0],r=t[1];if(~pD(e).indexOf(Mt.replacementClass))return Cv.replace(t);var i=new RegExp("".concat(Mt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(f,m){return m===Mt.replacementClass||m.match(i)?f.toSvg.push(m):f.toNode.push(m),f},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}var u=r.map(function(f){return t5(f)}).join("\n");e.setAttribute(il,""),e.innerHTML=u}};function XO(n){n()}function eP(n,t){var e="function"==typeof t?t:_v;if(0===n.length)e();else{var r=XO;"async"===Mt.mutateApproach&&(r=h3.requestAnimationFrame||XO),r(function(){var i=function H0e(){return!0===Mt.autoReplaceSvg?Cv.replace:Cv[Mt.autoReplaceSvg]||Cv.replace}(),a=ID_begin("mutate");n.map(i),a(),e()})}}var TD=!1;function tP(){TD=!0}function VD(){TD=!1}var bv=null;function nP(n){if(wO&&Mt.observeMutations){var t=n.treeCallback,e=void 0===t?_v:t,r=n.nodeCallback,i=void 0===r?_v:r,a=n.pseudoElementsCallback,u=void 0===a?_v:a,f=n.observeMutationsRoot,m=void 0===f?lr:f;bv=new wO(function(_){if(!TD){var x=g3();O0(_).forEach(function(A){if("childList"===A.type&&A.addedNodes.length>0&&!QO(A.addedNodes[0])&&(Mt.searchPseudoElements&&u(A.target),e(A.target)),"attributes"===A.type&&A.target.parentNode&&Mt.searchPseudoElements&&u(A.target.parentNode),"attributes"===A.type&&QO(A.target)&&~q6e.indexOf(A.attributeName))if("class"===A.attributeName&&function T0e(n){var t=n.getAttribute?n.getAttribute(dD):null,e=n.getAttribute?n.getAttribute(fD):null;return t&&e}(A.target)){var z=vv(pD(A.target)),Y=z.iconName;A.target.setAttribute(dD,z.prefix||x),Y&&A.target.setAttribute(fD,Y)}else(function V0e(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Mt.replacementClass)})(A.target)&&i(A.target)})}}),La&&bv.observe(m,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function O0e(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(r,i){var a=i.split(":"),u=a[0],f=a.slice(1);return u&&f.length>0&&(r[u]=f.join(":").trim()),r},{})),e}function P0e(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=vv(pD(n));return i.prefix||(i.prefix=g3()),t&&e&&(i.prefix=t,i.iconName=e),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function m0e(n,t){return(PO[n]||{})[t]}(i.prefix,n.innerText)||bD(i.prefix,yD(n.innerText))),!i.iconName&&Mt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}function F0e(n){var t=O0(n.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Mt.autoA11y&&(e?t["aria-labelledby"]="".concat(Mt.replacementClass,"-title-").concat(r||e5()):(t["aria-hidden"]="true",t.focusable="false")),t}function rP(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=P0e(n),r=e.iconName,i=e.prefix,a=e.rest,u=F0e(n),f=wD("parseNodeAttributes",{},n),m=t.styleParser?O0e(n):[];return ht({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Oo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:m,attributes:u}},f)}var U0e=Xs.styles;function iP(n){var t="nest"===Mt.autoReplaceSvg?rP(n,{styleParser:!1}):rP(n);return~t.extra.classes.indexOf(NO)?Ra("generateLayersText",n,t):Ra("generateSvgReplacementMutation",n,t)}var m3=new Set;function sP(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!La)return Promise.resolve();var e=lr.documentElement.classList,r=function(A){return e.add("".concat(AO,"-").concat(A))},i=function(A){return e.remove("".concat(AO,"-").concat(A))},a=Mt.autoFetchSvg?m3:hD.map(function(x){return"fa-".concat(x)}).concat(Object.keys(U0e));a.includes("fa")||a.push("fa");var u=[".".concat(NO,":not([").concat(il,"])")].concat(a.map(function(x){return".".concat(x,":not([").concat(il,"])")})).join(", ");if(0===u.length)return Promise.resolve();var f=[];try{f=O0(n.querySelectorAll(u))}catch{}if(!(f.length>0))return Promise.resolve();r("pending"),i("complete");var m=ID_begin("onTree"),_=f.reduce(function(x,A){try{var z=iP(A);z&&x.push(z)}catch(P){EO||"MissingIcon"===P.name&&console.error(P)}return x},[]);return new Promise(function(x,A){Promise.all(_).then(function(z){eP(z,function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),m(),x()})}).catch(function(z){m(),A(z)})})}function G0e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;iP(n).then(function(e){e&&eP([e],t)})}hD.map(function(n){m3.add("fa-".concat(n))}),Object.keys(Zf[ur]).map(m3.add.bind(m3)),Object.keys(Zf[Nr]).map(m3.add.bind(m3)),m3=Wf(m3);var $0e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,i=void 0===r?Oo:r,a=e.symbol,u=void 0!==a&&a,f=e.mask,m=void 0===f?null:f,_=e.maskId,x=void 0===_?null:_,A=e.title,z=void 0===A?null:A,P=e.titleId,Y=void 0===P?null:P,re=e.classes,ue=void 0===re?[]:re,Ie=e.attributes,Re=void 0===Ie?{}:Ie,Ze=e.styles,qe=void 0===Ze?{}:Ze;if(t){var je=t.prefix,Je=t.iconName,It=t.icon;return yv(ht({type:"icon"},t),function(){return al("beforeDOMElementCreation",{iconDefinition:t,params:e}),Mt.autoA11y&&(z?Re["aria-labelledby"]="".concat(Mt.replacementClass,"-title-").concat(Y||e5()):(Re["aria-hidden"]="true",Re.focusable="false")),DD({icons:{main:AD(It),mask:m?AD(m.icon):{found:!1,width:null,height:null,icon:{}}},prefix:je,iconName:Je,transform:ht(ht({},Oo),i),symbol:u,title:z,maskId:x,titleId:Y,extra:{attributes:Re,styles:qe,classes:ue}})})}},W0e={mixout:function(){return{icon:(n=$0e,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:xD(t||{}),i=e.mask;return i&&(i=(i||{}).icon?i:xD(i||{})),n(r,ht(ht({},e),{},{mask:i}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=sP,e.nodeCallback=G0e,e}}},provides:function(t){t.i2svg=function(e){var r=e.node,a=e.callback;return sP(void 0===r?lr:r,void 0===a?function(){}:a)},t.generateSvgReplacementMutation=function(e,r){var i=r.iconName,a=r.title,u=r.titleId,f=r.prefix,m=r.transform,_=r.symbol,x=r.mask,A=r.maskId,z=r.extra;return new Promise(function(P,Y){Promise.all([ED(i,f),x.iconName?ED(x.iconName,x.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(re){var ue=oD(re,2);P([e,DD({icons:{main:ue[0],mask:ue[1]},prefix:f,iconName:i,transform:m,symbol:_,maskId:A,title:a,titleId:u,extra:z,watchable:!0})])}).catch(Y)})},t.generateAbstractIcon=function(e){var _,r=e.children,i=e.attributes,a=e.main,u=e.transform,m=dv(e.styles);return m.length>0&&(i.style=m),gD(u)&&(_=Ra("generateAbstractTransformGrouping",{main:a,transform:u,containerWidth:a.width,iconWidth:a.width})),r.push(_||a.icon),{children:r,attributes:i}}}},q0e={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return yv({type:"layer"},function(){al("beforeDOMElementCreation",{assembler:e,params:r});var u=[];return e(function(f){Array.isArray(f)?f.map(function(m){u=u.concat(m.abstract)}):u=u.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(Mt.cssPrefix,"-layers")].concat(Wf(a)).join(" ")},children:u}]})}}}},Z0e={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,u=r.classes,f=void 0===u?[]:u,m=r.attributes,_=void 0===m?{}:m,x=r.styles,A=void 0===x?{}:x;return yv({type:"counter",content:e},function(){return al("beforeDOMElementCreation",{content:e,params:r}),A0e({content:e.toString(),title:a,extra:{attributes:_,styles:A,classes:["".concat(Mt.cssPrefix,"-layers-counter")].concat(Wf(f))}})})}}}},Y0e={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?Oo:i,u=r.title,f=void 0===u?null:u,m=r.classes,_=void 0===m?[]:m,x=r.attributes,A=void 0===x?{}:x,z=r.styles,P=void 0===z?{}:z;return yv({type:"text",content:e},function(){return al("beforeDOMElementCreation",{content:e,params:r}),ZO({content:e,transform:ht(ht({},Oo),a),title:f,extra:{attributes:A,styles:P,classes:["".concat(Mt.cssPrefix,"-layers-text")].concat(Wf(_))}})})}}},provides:function(t){t.generateLayersText=function(e,r){var i=r.title,a=r.transform,u=r.extra,f=null,m=null;if(xO){var _=parseInt(getComputedStyle(e).fontSize,10),x=e.getBoundingClientRect();f=x.width/_,m=x.height/_}return Mt.autoA11y&&!i&&(u.attributes["aria-hidden"]="true"),Promise.resolve([e,ZO({content:e.innerHTML,width:f,height:m,transform:a,title:i,extra:u,watchable:!0})])}}},K0e=new RegExp('"',"ug"),oP=[1105920,1112319];function aP(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(e))return r();var u=O0(n.children).filter(function(It){return It.getAttribute(uD)===t})[0],f=h3.getComputedStyle(n,t),m=f.getPropertyValue("font-family").match(j6e),_=f.getPropertyValue("font-weight"),x=f.getPropertyValue("content");if(u&&!m)return n.removeChild(u),r();if(m&&"none"!==x&&""!==x){var A=f.getPropertyValue("content"),z=~["Sharp"].indexOf(m[2])?Nr:ur,P=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(m[2])?Yf[z][m[2].toLowerCase()]:$6e[z][_],Y=function Q0e(n){var t=n.replace(K0e,""),e=function u0e(n,t){var i,e=n.length,r=n.charCodeAt(t);return r>=55296&&r<=56319&&e>t+1&&(i=n.charCodeAt(t+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(t,0),r=e>=oP[0]&&e<=oP[1],i=2===t.length&&t[0]===t[1];return{value:yD(i?t[0]:t),isSecondary:r||i}}(A),re=Y.value,ue=Y.isSecondary,Ie=m[0].startsWith("FontAwesome"),Re=bD(P,re),Ze=Re;if(Ie){var qe=function v0e(n){var t=BO[n],e=bD("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(re);qe.iconName&&qe.prefix&&(Re=qe.iconName,P=qe.prefix)}if(!Re||ue||u&&u.getAttribute(dD)===P&&u.getAttribute(fD)===Ze)r();else{n.setAttribute(e,Ze),u&&n.removeChild(u);var je=function B0e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Oo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Je=je.extra;Je.attributes[uD]=t,ED(Re,P).then(function(It){var an=DD(ht(ht({},je),{},{icons:{main:It,mask:{prefix:null,iconName:null,rest:[]}},prefix:P,iconName:Ze,extra:Je,watchable:!0})),Fn=lr.createElement("svg");"::before"===t?n.insertBefore(Fn,n.firstChild):n.appendChild(Fn),Fn.outerHTML=an.map(function(Ur){return t5(Ur)}).join("\n"),n.removeAttribute(e),r()}).catch(i)}}else r()})}function J0e(n){return Promise.all([aP(n,"::before"),aP(n,"::after")])}function X0e(n){return!(n.parentNode===document.head||~B6e.indexOf(n.tagName.toUpperCase())||n.getAttribute(uD)||n.parentNode&&"svg"===n.parentNode.tagName)}function cP(n){if(La)return new Promise(function(t,e){var r=O0(n.querySelectorAll("*")).filter(X0e).map(J0e),i=ID_begin("searchPseudoElements");tP(),Promise.all(r).then(function(){i(),VD(),t()}).catch(function(){i(),VD(),e()})})}var lP=!1,uP=function(t){return t.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),u=a[0],f=a.slice(1).join("-");if(u&&"h"===f)return r.flipX=!0,r;if(u&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(u){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},HD={x:0,y:0,width:"100%",height:"100%"};function dP(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}var iue={hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-mask"),a=i?vv(i.split(" ").map(function(u){return u.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=g3()),e.mask=a,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,r=e.children,i=e.attributes,a=e.main,u=e.mask,f=e.maskId,x=a.icon,z=u.icon,P=function n0e(n){var t=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),u="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),f="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(u," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:u.width,iconWidth:a.width}),Y={tag:"rect",attributes:ht(ht({},HD),{},{fill:"white"})},re=x.children?{children:x.children.map(dP)}:{},ue={tag:"g",attributes:ht({},P.inner),children:[dP(ht({tag:x.tag,attributes:ht(ht({},x.attributes),P.path)},re))]},Ie={tag:"g",attributes:ht({},P.outer),children:[ue]},Re="mask-".concat(f||e5()),Ze="clip-".concat(f||e5()),qe={tag:"mask",attributes:ht(ht({},HD),{},{id:Re,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Y,Ie]},je={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ze},children:(n=z,"g"===n.tag?n.children:[n])},qe]};return r.push(je,{tag:"rect",attributes:ht({fill:"currentColor","clip-path":"url(#".concat(Ze,")"),mask:"url(#".concat(Re,")")},HD)}),{children:r,attributes:i}}}};!function C0e(n,t){var e=t.mixoutsTo;WO=n,F0={},Object.keys(B0).forEach(function(r){-1===_0e.indexOf(r)&&delete B0[r]}),WO.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(u){"function"==typeof i[u]&&(e[u]=i[u]),"object"===rv(i[u])&&Object.keys(i[u]).forEach(function(f){e[u]||(e[u]={}),e[u][f]=i[u][f]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(u){F0[u]||(F0[u]=[]),F0[u].push(a[u])})}r.provides&&r.provides(B0)})}([s0e,W0e,q0e,Z0e,Y0e,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=cP,e}}},provides:function(t){t.pseudoElements2svg=function(e){var r=e.node;Mt.searchPseudoElements&&cP(void 0===r?lr:r)}}},{mixout:function(){return{dom:{unwatch:function(){tP(),lP=!0}}}},hooks:function(){return{bootstrap:function(){nP(wD("mutationObserverCallbacks",{}))},noAuto:function(){!function R0e(){!bv||bv.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;lP?VD():nP(wD("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return uP(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-transform");return i&&(e.transform=uP(i)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var r=e.main,i=e.transform,u=e.iconWidth,f={transform:"translate(".concat(e.containerWidth/2," 256)")},m="translate(".concat(32*i.x,", ").concat(32*i.y,") "),_="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),x="rotate(".concat(i.rotate," 0 0)"),P={outer:f,inner:{transform:"".concat(m," ").concat(_," ").concat(x)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:ht({},P.outer),children:[{tag:"g",attributes:ht({},P.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ht(ht({},r.icon.attributes),P.path)}]}]}}}},iue,{provides:function(t){var e=!1;h3.matchMedia&&(e=h3.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ht(ht({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=ht(ht({},a),{},{attributeName:"opacity"}),f={tag:"circle",attributes:ht(ht({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||f.children.push({tag:"animate",attributes:ht(ht({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ht(ht({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(f),r.push({tag:"path",attributes:ht(ht({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ht(ht({},u),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:ht(ht({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ht(ht({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-symbol");return e.symbol=null!==i&&(""===i||i),e}}}}],{mixoutsTo:x1});var cue=x1.parse,lue=x1.icon;const uue=["*"],hue=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let mue=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vue=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...e){for(const r of e){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yue=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),n})(),_ue=(()=>{class n{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:uue,decls:1,vars:0,template:function(e,r){1&e&&(l.F$t(),l.Hsn(0))},encapsulation:2}),n})(),fP=(()=>{class n{constructor(e,r,i,a,u){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=u&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,e){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?cue.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...hue(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const i=lue(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(c1),l.Y36(mue),l.Y36(vue),l.Y36(yue,8),l.Y36(_ue,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,r){2&e&&(l.Ikx("innerHTML",r.renderedIconHTML,l.oJD),l.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),Cue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function bue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",3)(1,"div",4),l.NdJ("click",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.onCardSelected("patient"))}),l.TgZ(2,"div",5),l._UZ(3,"fa-icon",6),l.qZA(),l.TgZ(4,"div",7)(5,"button",8),l._uU(6,"Sign up as a Patient"),l.qZA()()(),l.TgZ(7,"div",4),l.NdJ("click",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.onCardSelected("specialist"))}),l.TgZ(8,"div",5),l._UZ(9,"fa-icon",6),l.qZA(),l.TgZ(10,"div",7)(11,"button",8),l._uU(12,"Sign up as a Specialist"),l.qZA()()()()}if(2&n){const e=l.oxw();l.xp6(3),l.Q6J("icon",e.userIcon)("size",e.iconSize),l.xp6(6),l.Q6J("icon",e.doctorIcon)("size",e.iconSize)}}function Mue(n,t){1&n&&(l.TgZ(0,"label",35),l._uU(1,"Speciality"),l.qZA())}function wue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",36)(1,"select",37),l._UZ(2,"option",38),l.TgZ(3,"option",39),l._uU(4,"Dentist"),l.qZA(),l.TgZ(5,"option",40),l._uU(6,"Kinesiologist"),l.qZA(),l.TgZ(7,"option",41),l._uU(8,"Clinician"),l.qZA()(),l.TgZ(9,"button",42),l.NdJ("click",function(){l.CHM(e);const i=l.oxw(2);return l.KtG(i.addCustomSpecialitySlot())}),l._uU(10,"+"),l.qZA()()}}function xue(n,t){if(1&n&&(l.TgZ(0,"label",46),l._uU(1,"Custom speciality"),l.qZA()),2&n){const e=l.oxw().index;l.MGl("for","speciality",e,"")}}function Due(n,t){if(1&n&&l._UZ(0,"input",47),2&n){const e=l.oxw().index;l.MGl("name","speciality",e,"")}}function Sue(n,t){if(1&n&&(l.TgZ(0,"div")(1,"div",43),l.YNc(2,xue,2,1,"label",44),l.YNc(3,Due,1,1,"input",45),l.qZA()()),2&n){const e=t.index;l.xp6(2),l.Q6J("ngIf",0!=e),l.xp6(1),l.Q6J("ngIf",0!=e)}}function Aue(n,t){1&n&&(l.TgZ(0,"label",48),l._uU(1,"Health insurance"),l.qZA())}function Eue(n,t){1&n&&l._UZ(0,"input",49)}function Nue(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"form",9),l.NdJ("ngSubmit",function(){l.CHM(e);const i=l.oxw();return l.KtG(i.onSubmit())}),l.TgZ(1,"div",10)(2,"label",11),l._uU(3,"First name"),l.qZA(),l._UZ(4,"input",12),l.TgZ(5,"label",13),l._uU(6,"Last name"),l.qZA(),l._UZ(7,"input",14),l.TgZ(8,"label",15),l._uU(9,"DNI"),l.qZA(),l._UZ(10,"input",16),l.YNc(11,Mue,2,0,"label",17),l.YNc(12,wue,11,0,"div",18),l.TgZ(13,"div",19),l.YNc(14,Sue,4,2,"div",20),l.qZA(),l.YNc(15,Aue,2,0,"label",21),l.YNc(16,Eue,1,0,"input",22),l.TgZ(17,"label",23),l._uU(18,"Age"),l.qZA(),l._UZ(19,"input",24),l.TgZ(20,"label",25),l._uU(21,"First image"),l.qZA(),l._UZ(22,"input",26),l.TgZ(23,"label",27),l._uU(24,"Second image"),l.qZA(),l._UZ(25,"input",28),l.TgZ(26,"label",29),l._uU(27,"Email"),l.qZA(),l._UZ(28,"input",30),l.TgZ(29,"label",31),l._uU(30,"Password"),l.qZA(),l._UZ(31,"input",32)(32,"input",33)(33,"br"),l.TgZ(34,"button",34),l._uU(35,"Submit"),l.qZA()()()}if(2&n){const e=l.oxw();l.Q6J("formGroup",e.userForm),l.xp6(11),l.Q6J("ngIf","specialist"==e.selectedCard),l.xp6(1),l.Q6J("ngIf","specialist"==e.selectedCard),l.xp6(2),l.Q6J("ngForOf",e.extraSpecialities.controls),l.xp6(1),l.Q6J("ngIf","patient"==e.selectedCard),l.xp6(1),l.Q6J("ngIf","patient"==e.selectedCard),l.xp6(16),l.Q6J("value",e.selectedCard),l.xp6(2),l.Q6J("disabled",!e.userForm.valid)}}let hP=(()=>{class n{constructor(e,r){this.formBuilder=e,this.dialogService=r,this.isFormValid=new l.vpe(!0),this.doctorIcon=$w,this.userIcon=Rd,this.iconSize="8x",this.selectedCard="",this.userForm=this.formBuilder.group({firstName:[""],lastName:[""],age:[""],nationalIdentification:[""],healthInsurance:[""],email:[""],firstImage:[""],secondImage:[""],password:[""],role:[""],speciality:[""],extraSpecialities:this.formBuilder.array([])});try{this.dialogService.actionTaken.subscribe(i=>this.onModalActionTaken(i))}catch{}}get extraSpecialities(){return this.userForm.get("extraSpecialities")}onSubmit(){console.warn(this.userForm.value)}addCustomSpecialitySlot(){this.userForm.get("extraSpecialities").push(new Y4(""))}ngOnDestroy(){this.dialogService.actionTaken.unsubscribe()}onCardSelected(e){this.selectedCard=e,this.isFormValid.emit(!0)}onModalActionTaken(e){e==Qr.ok&&alert("Content saved")}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Fk),l.Y36(sD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sing-up"]],outputs:{isFormValid:"isFormValid"},decls:3,vars:3,consts:[["fxLAyout","column","fxLayoutAlign","center center","id","sign-up-container",3,"ngSwitch"],["id","cards-container","fxLAyout","row","fxLayoutAlign","center center",4,"ngSwitchCase"],["style","width: 20rem;",3,"formGroup","ngSubmit",4,"ngIf"],["id","cards-container","fxLAyout","row","fxLayoutAlign","center center"],[1,"card",3,"click"],[1,"card-header"],[3,"icon","size"],[1,"card-body"],[1,"btn","btn-dark"],[2,"width","20rem",3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-between start",1,"form-group"],["for","firstName"],["type","text","name","firstName","formControlName","firstName","required","",1,"form-control"],["for","lastName"],["type","text","name","lastName","formControlName","lastName","required","",1,"form-control"],["for","nationalIdentification"],["type","text","name","nationalIdentification","formControlName","nationalIdentification","required","",1,"form-control"],["for","speciality",4,"ngIf"],["fxLAyout","row","style","width: 100%","fxLayoutAlign","center strech",4,"ngIf"],["id","extraSpecialties","formArrayName","extraSpecialities"],[4,"ngFor","ngForOf"],["for","healthInsurance",4,"ngIf"],["type","text","name","healthInsurance","class","form-control","formControlName","healthInsurance","required","",4,"ngIf"],["for","age"],["type","number","name","age","formControlName","age","required","",1,"form-control"],["for","firstImage"],["type","file","name","firstImage","formControlName","firstImage","required","",1,"form-control"],["for","secondImage"],["type","file","name","secondImage","formControlName","secondImage","required","",1,"form-control"],["for","email"],["type","email","name","email","formControlName","email","required","",1,"form-control"],["for","password"],["type","password","name","password","formControlName","password","required","",1,"form-control"],["type","text","name","role","formControlName","role","hidden","",1,"form-control",3,"value"],["type","submit",1,"btn","btn-clinic-secondary",3,"disabled"],["for","speciality"],["fxLAyout","row","fxLayoutAlign","center strech",2,"width","100%"],["id","speciality","name","speciality","formControlName","speciality","aria-label","Speciality",1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"btn","btn-clinic-secondary","m-1",3,"click"],[1,"form-group"],[3,"for",4,"ngIf"],["type","text","class","form-control","formControlName","i","required","",3,"name",4,"ngIf"],[3,"for"],["type","text","formControlName","i","required","",1,"form-control",3,"name"],["for","healthInsurance"],["type","text","name","healthInsurance","formControlName","healthInsurance","required","",1,"form-control"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.YNc(1,bue,13,4,"div",1),l.YNc(2,Nue,36,8,"form",2),l.qZA()),2&e&&(l.Q6J("ngSwitch",r.selectedCard),l.xp6(1),l.Q6J("ngSwitchCase",""),l.xp6(1),l.Q6J("ngIf",""!=r.selectedCard))},dependencies:[qr,Tn,t1,so,Tx,xk,Sk,Df,Vx,Bm,Cx,bx,Vf,Tf,Fm,Pm,B2,Wc,fP],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;margin:2rem;padding:2rem;border:0px;text-align:center;box-shadow:5px 10px #000}.card-header[_ngcontent-%COMP%]{background-color:transparent;border-bottom:0px}fa-icon[_ngcontent-%COMP%]{background-color:transparent}#cards-container[_ngcontent-%COMP%]{margin-top:8%}.card[_ngcontent-%COMP%]:hover{background-color:#b10f2e}"]}),n})();var Nn=k(5813),v3=k(5867);class U0{constructor(t){return t}}class LD{constructor(){return(0,v3.C6)()}}const zD=new l.OlP("angularfire2._apps"),Tue={provide:U0,useFactory:function Iue(n){return n&&1===n.length?n[0]:new U0((0,v3.Mq)())},deps:[[new l.FiY,zD]]},Vue={provide:LD,deps:[[new l.FiY,zD]]};function Hue(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new U0(r)}}let Lue=(()=>{class n{constructor(e){(0,v3.KN)("angularfire",Nn.q4.full,"core"),(0,v3.KN)("angularfire",Nn.q4.full,"app"),(0,v3.KN)("angular",l.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Tue,Vue]}),n})();function zue(n,...t){return{ngModule:Lue,providers:[{provide:zD,useFactory:Hue(n),multi:!0,deps:[l.R0b,l.zs3,Nn.HU,...t]}]}}const kue=(0,Nn.u3)(v3.ZF,!0);var De=k(5861),Oa=k(9681),Mv=k(4859),_n=k(2090),y3=k(1877);const pP=new Map,Rue={activated:!1,tokenObservers:[]},Oue={initialized:!1,enabled:!1};function bi(n){return pP.get(n)||Rue}function ps(n,t){pP.set(n,t)}function wv(){return Oue}class Gue{constructor(t,e,r,i,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,De.Z)(function*(){e.stop();try{e.pending=new _n.BH,yield function jue(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new _n.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const y2=new _n.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mP(n){if(!bi(n).activated)throw y2.create("use-before-activation",{appName:n.name})}function OD(n,t){return PD.apply(this,arguments)}function PD(){return(PD=(0,De.Z)(function*({url:n,body:t},e){var r,i;const a={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const P=yield u.getHeartbeatsHeader();P&&(a["X-Firebase-Client"]=P)}const f={method:"POST",body:JSON.stringify(t),headers:a};let m,_;try{m=yield fetch(n,f)}catch(P){throw y2.create("fetch-network-error",{originalErrorMessage:null===(r=P)||void 0===r?void 0:r.message})}if(200!==m.status)throw y2.create("fetch-status-error",{httpStatus:m.status});try{_=yield m.json()}catch(P){throw y2.create("fetch-parse-error",{originalErrorMessage:null===(i=P)||void 0===i?void 0:i.message})}const x=_.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw y2.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const A=1e3*Number(x[1]),z=Date.now();return{token:_.token,expireTimeMillis:z+A,issuedAtTimeMillis:z}})).apply(this,arguments)}function Zue(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const r5="firebase-app-check-store";let Sv=null;function yP(){return Sv||(Sv=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;t(y2.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(r5,{keyPath:"compositeKey"})}}catch(r){t(y2.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),Sv)}function FD(){return(FD=(0,De.Z)(function*(n,t){const r=(yield yP()).transaction(r5,"readwrite"),a=r.objectStore(r5).put({compositeKey:n,value:t});return new Promise((u,f)=>{a.onsuccess=m=>{u()},r.onerror=m=>{var _;f(y2.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const i5=new y3.Yd("@firebase/app-check");function GD(n,t){return(0,_n.hl)()?function Jue(n,t){return function _P(n,t){return FD.apply(this,arguments)}(function bP(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{i5.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function MP(){return wv().enabled}function wP(){return $D.apply(this,arguments)}function $D(){return($D=(0,De.Z)(function*(){const n=wv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const i8e={error:"UNKNOWN_ERROR"};function s8e(n){return _n.US.encodeString(JSON.stringify(n),!1)}function Av(n){return WD.apply(this,arguments)}function WD(){return(WD=(0,De.Z)(function*(n,t=!1){const e=n.app;mP(e);const r=bi(e);let a,i=r.token;if(i&&!G0(i)&&(ps(e,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(G0(m)?i=m:yield GD(e,void 0))}if(!t&&i&&G0(i))return{token:i.token};let f,u=!1;if(MP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=OD(Zue(e,yield wP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const m=yield r.exchangeTokenPromise;return yield GD(e,m),ps(e,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?i5.warn(m.message):i5.error(m),a=m}return i?a?f=G0(i)?{token:i.token,internalError:a}:SP(a):(f={token:i.token},ps(e,Object.assign(Object.assign({},r),{token:i})),yield GD(e,i)):f=SP(a),u&&DP(e,f),f})).apply(this,arguments)}function ZD(n,t){const e=bi(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ps(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function xP(n){const{app:t}=n,e=bi(t);let r=e.tokenRefresher;r||(r=function o8e(n){const{app:t}=n;return new Gue((0,De.Z)(function*(){let r;if(r=bi(t).token?yield Av(n,!0):yield Av(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=bi(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ps(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function DP(n,t){const e=bi(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function G0(n){return n.expireTimeMillis-Date.now()>0}function SP(n){return{token:s8e(i8e),error:n}}class a8e{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=bi(this.app);for(const e of t)ZD(this.app,e.next);return Promise.resolve()}}const LP="app-check-internal";!function b8e(){(0,Oa._registerComponent)(new Mv.wA("app-check",n=>function c8e(n,t){return new a8e(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(LP).initialize()})),(0,Oa._registerComponent)(new Mv.wA(LP,n=>function l8e(n){return{getToken:t=>Av(n,t),addTokenListener:t=>function qD(n,t,e,r){const{app:i}=n,a=bi(i),u={next:e,error:r,type:t};if(ps(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&G0(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),xP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>xP(n))}(n,"INTERNAL",t),removeTokenListener:t=>ZD(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oa.registerVersion)("@firebase/app-check","0.5.15")}();class s5{constructor(){return(0,Nn.vb)("app-check")}}typeof window<"u"&&window;var kP=k(7573);class Nv{constructor(t){return t}}class OP{constructor(){return(0,Nn.vb)("auth")}}const XD=new l.OlP("angularfire2.auth-instances");function A8e(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Nv(r)}}const E8e={provide:OP,deps:[[new l.FiY,XD]]},N8e={provide:Nv,useFactory:function S8e(n,t){const e=(0,Nn.JM)("auth",n,t);return e&&new Nv(e)},deps:[[new l.FiY,XD],U0]};let I8e=(()=>{class n{constructor(){(0,v3.KN)("angularfire",Nn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[N8e,E8e]}),n})();function T8e(n,...t){return{ngModule:I8e,providers:[{provide:XD,useFactory:A8e(n),multi:!0,deps:[l.R0b,l.zs3,Nn.HU,LD,[new l.FiY,s5],...t]}]}}const V8e=(0,Nn.u3)(kP.n,!0),H8e=(0,Nn.u3)(kP.a6,!0);function eS(){return(0,Mn.e)((n,t)=>{let e,r=!1;n.subscribe((0,Vn.x)(t,i=>{const a=e;e=i,r&&t.next([a,i]),r=!0}))})}var wt,eo=k(2011),L8e=(k(5881),k(3942)),z8e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pa={},tS=tS||{},$t=z8e||self;function Iv(){}function Tv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function o5(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var nS="closure_uid_"+(1e9*Math.random()>>>0),R8e=0;function O8e(n,t,e){return n.call.apply(n.bind,arguments)}function P8e(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function qi(n,t,e){return(qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O8e:P8e).apply(null,arguments)}function Vv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hi(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[i].apply(r,u)}}function _3(){this.s=this.s,this.o=this.o}var B8e={};_3.prototype.s=!1,_3.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function k8e(n){return Object.prototype.hasOwnProperty.call(n,nS)&&n[nS]||(n[nS]=++R8e)}(this);delete B8e[n]}},_3.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PP=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function rS(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function FP(n,t){for(let e=1;e<arguments.length;e++){const r=arguments[e];if(Tv(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Zi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Zi.prototype.h=function(){this.defaultPrevented=!0};var U8e=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",Iv,t),$t.removeEventListener("test",Iv,t)}catch{}return n}();function Hv(n){return/^[\s\xa0]*$/.test(n)}var BP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function iS(n,t){return n<t?-1:n>t?1:0}function Lv(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function Po(n){return-1!=Lv().indexOf(n)}function sS(n){return sS[" "](n),n}sS[" "]=Iv;var zv,n,j8e=Po("Opera"),j0=Po("Trident")||Po("MSIE"),UP=Po("Edge"),oS=UP||j0,GP=Po("Gecko")&&!(-1!=Lv().toLowerCase().indexOf("webkit")&&!Po("Edge"))&&!(Po("Trident")||Po("MSIE"))&&!Po("Edge"),$8e=-1!=Lv().toLowerCase().indexOf("webkit")&&!Po("Edge");function jP(){var n=$t.document;return n?n.documentMode:void 0}e:{var aS="",cS=(n=Lv(),GP?/rv:([^\);]+)(\)|;)/.exec(n):UP?/Edge\/([\d\.]+)/.exec(n):j0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):$8e?/WebKit\/(\S+)/.exec(n):j8e?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cS&&(aS=cS?cS[1]:""),j0){var lS=jP();if(null!=lS&&lS>parseFloat(aS)){zv=String(lS);break e}}zv=aS}var W8e={};var Z8e=$t.document&&j0&&(jP()||parseInt(zv,10))||void 0;function a5(n,t){if(Zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(GP){e:{try{sS(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Y8e[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&a5.X.h.call(this)}}Hi(a5,Zi);var Y8e={2:"touch",3:"pen",4:"mouse"};a5.prototype.h=function(){a5.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var c5="closure_listenable_"+(1e6*Math.random()|0),K8e=0;function Q8e(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ha=i,this.key=++K8e,this.ba=this.ea=!1}function kv(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dS(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function WP(n){const t={};for(const e in n)t[e]=n[e];return t}const qP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZP(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let a=0;a<qP.length;a++)e=qP[a],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function Rv(n){this.src=n,this.g={},this.h=0}function fS(n,t){var e=t.type;if(e in n.g){var a,r=n.g[e],i=PP(r,t);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(kv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function hS(n,t,e,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==t&&a.capture==!!e&&a.ha==r)return i}return-1}Rv.prototype.add=function(n,t,e,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=hS(n,t,r,i);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new Q8e(t,this.src,a,!!r,i)).ea=e,n.push(t)),t};var pS="closure_lm_"+(1e6*Math.random()|0),gS={};function YP(n,t,e,r,i){if(r&&r.once)return QP(n,t,e,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)YP(n,t[a],e,r,i);return null}return e=_S(e),n&&n[c5]?n.N(t,e,o5(r)?!!r.capture:!!r,i):KP(n,t,e,!1,r,i)}function KP(n,t,e,r,i,a){if(!t)throw Error("Invalid event type");var u=o5(i)?!!i.capture:!!i,f=vS(n);if(f||(n[pS]=f=new Rv(n)),(e=f.add(t,e,r,u,a)).proxy)return e;if(r=function J8e(){const t=X8e;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)U8e||(i=u),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(XP(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function QP(n,t,e,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)QP(n,t[a],e,r,i);return null}return e=_S(e),n&&n[c5]?n.O(t,e,o5(r)?!!r.capture:!!r,i):KP(n,t,e,!0,r,i)}function JP(n,t,e,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)JP(n,t[a],e,r,i);else r=o5(r)?!!r.capture:!!r,e=_S(e),n&&n[c5]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=hS(a=n.g[t],e,r,i))&&(kv(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=vS(n))&&(t=n.g[t.toString()],n=-1,t&&(n=hS(t,e,r,i)),(e=-1<n?t[n]:null)&&mS(e))}function mS(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[c5])fS(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(XP(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=vS(t))?(fS(e,n),0==e.h&&(e.src=null,t[pS]=null)):kv(n)}}}function XP(n){return n in gS?gS[n]:gS[n]="on"+n}function X8e(n,t){if(n.ba)n=!0;else{t=new a5(t,this);var e=n.listener,r=n.ha||n.src;n.ea&&mS(n),n=e.call(r,t)}return n}function vS(n){return(n=n[pS])instanceof Rv?n:null}var yS="__closure_events_fn_"+(1e9*Math.random()>>>0);function _S(n){return"function"==typeof n?n:(n[yS]||(n[yS]=function(t){return n.handleEvent(t)}),n[yS])}function Mi(){_3.call(this),this.i=new Rv(this),this.P=this,this.I=null}function Li(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Zi(t,n);else if(t instanceof Zi)t.target=t.target||n;else{var i=t;ZP(t=new Zi(r,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];i=Ov(u,r,!0,t)&&i}if(i=Ov(u=t.g=n,r,!0,t)&&i,i=Ov(u,r,!1,t)&&i,e)for(a=0;a<e.length;a++)i=Ov(u=t.g=e[a],r,!1,t)&&i}function Ov(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ba&&u.capture==e){var f=u.listener,m=u.ha||u.src;u.ea&&fS(n.i,u),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Hi(Mi,_3),Mi.prototype[c5]=!0,Mi.prototype.removeEventListener=function(n,t,e,r){JP(this,n,t,e,r)},Mi.prototype.M=function(){if(Mi.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)kv(e[r]);delete n.g[t],n.h--}}this.I=null},Mi.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Mi.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var CS=$t.JSON.stringify;function ede(){var n=nF;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var bS,eF=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nde,n=>n.reset());class nde{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function rde(n){$t.setTimeout(()=>{throw n},0)}function tF(n,t){bS||function ide(){var n=$t.Promise.resolve(void 0);bS=function(){n.then(sde)}}(),MS||(bS(),MS=!0),nF.add(n,t)}var MS=!1,nF=new class tde{constructor(){this.h=this.g=null}add(t,e){const r=eF.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function sde(){for(var n;n=ede();){try{n.h.call(n.g)}catch(e){rde(e)}var t=eF;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}MS=!1}function Pv(n,t){Mi.call(this),this.h=n||1,this.g=t||$t,this.j=qi(this.lb,this),this.l=Date.now()}function wS(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function xS(n,t,e){if("function"==typeof n)e&&(n=qi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qi(n.handleEvent,n)}return 2147483647<Number(t)?-1:$t.setTimeout(n,t||0)}function rF(n){n.g=xS(()=>{n.g=null,n.i&&(n.i=!1,rF(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Hi(Pv,Mi),(wt=Pv.prototype).ca=!1,wt.R=null,wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Li(this,"tick"),this.ca&&(wS(this),this.start()))}},wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){Pv.X.M.call(this),wS(this),delete this.g};class ode extends _3{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:rF(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function l5(n){_3.call(this),this.h=n,this.g={}}Hi(l5,_3);var iF=[];function sF(n,t,e,r){Array.isArray(e)||(e&&(iF[0]=e.toString()),e=iF);for(var i=0;i<e.length;i++){var a=YP(t,e[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function oF(n){dS(n.g,function(t,e){this.g.hasOwnProperty(e)&&mS(t)},n),n.g={}}function Fv(){this.g=!0}function $0(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ude(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return CS(e)}catch{return t}}(n,e)+(r?" "+r:"")})}l5.prototype.M=function(){l5.X.M.call(this),oF(this)},l5.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fv.prototype.Aa=function(){this.g=!1},Fv.prototype.info=function(){};var cl={},aF=null;function Bv(){return aF=aF||new Mi}function cF(n){Zi.call(this,cl.Pa,n)}function u5(n){const t=Bv();Li(t,new cF(t,n))}function lF(n,t){Zi.call(this,cl.STAT_EVENT,n),this.stat=t}function _2(n){const t=Bv();Li(t,new lF(t,n))}function uF(n,t){Zi.call(this,cl.Qa,n),this.size=t}function d5(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},t)}cl.Pa="serverreachability",Hi(cF,Zi),cl.STAT_EVENT="statevent",Hi(lF,Zi),cl.Qa="timingevent",Hi(uF,Zi);var Uv={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},dF={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function DS(){}function hF(){}DS.prototype.h=null;var ES,f5={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function SS(){Zi.call(this,"d")}function AS(){Zi.call(this,"c")}function Gv(){}function h5(n,t,e,r){this.l=n,this.j=t,this.m=e,this.U=r||1,this.S=new l5(this),this.O=dde,this.T=new Pv(n=oS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new pF}function pF(){this.i=null,this.g="",this.h=!1}Hi(SS,Zi),Hi(AS,Zi),Hi(Gv,DS),Gv.prototype.g=function(){return new XMLHttpRequest},Gv.prototype.i=function(){return{}},ES=new Gv;var dde=45e3,NS={},jv={};function IS(n,t,e){n.K=1,n.v=Zv(Fa(t)),n.s=e,n.P=!0,gF(n,null)}function gF(n,t){n.F=Date.now(),p5(n),n.A=Fa(n.v);var e=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),DF(e.i,"t",r),n.C=0,e=n.l.H,n.h=new pF,n.g=YF(n.l,e?t:null,!n.s),0<n.N&&(n.L=new ode(qi(n.La,n,n.g),n.N)),sF(n.S,n.g,"readystatechange",n.ib),t=n.H?WP(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),u5(1),function ade(n,t,e,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),m=0;m<f.length;m++){var _=f[m].split("=");if(1<_.length){var x=_[0];_=_[1];var A=x.split("_");u=2<=A.length&&"type"==A[1]?u+(x+"=")+_+"&":u+(x+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function mF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function vF(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=fde(n,e),i==jv){4==t&&(n.o=4,_2(14),r=!1),$0(n.j,n.m,null,"[Incomplete Response]");break}if(i==NS){n.o=4,_2(15),$0(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}$0(n.j,n.m,i,null),TS(n,i)}mF(n)&&i!=jv&&i!=NS&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,_2(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),PS(t),t.K=!0,_2(11))):($0(n.j,n.m,e,"[Invalid Chunked Response]"),ll(n),g5(n))}function fde(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?jv:(e=Number(t.substring(e,r)),isNaN(e)?NS:(r+=1)+e>t.length?jv:(t=t.substr(r,e),n.C=r+e,t))}function p5(n){n.V=Date.now()+n.O,yF(n,n.O)}function yF(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=d5(qi(n.gb,n),t)}function $v(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function g5(n){0==n.l.G||n.I||$F(n.l,n)}function ll(n){$v(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,wS(n.T),oF(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function TS(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||VS(e.h,n)))if(!n.J&&VS(e.h,n)&&3==e.G){try{var r=e.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;ey(e),Jv(e)}OS(e),_2(18)}}else e.Ba=i[1],0<e.Ba-e.T&&37500>i[2]&&e.L&&0==e.A&&!e.v&&(e.v=d5(qi(e.cb,e),6e3));if(1>=EF(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else dl(e,11)}else if((n.J||e.g==n)&&ey(e),!Hv(t))for(i=e.Fa.g.parse(t),t=0;t<i.length;t++){let _=i[t];if(e.T=_[0],_=_[1],2==e.G)if("c"==_[0]){e.I=_[1],e.ka=_[2];const x=_[3];null!=x&&(e.ma=x,e.j.info("VER="+e.ma));const A=_[4];null!=A&&(e.Ca=A,e.j.info("SVER="+e.Ca));const z=_[5];null!=z&&"number"==typeof z&&0<z&&(e.J=r=1.5*z,e.j.info("backChannelRequestTimeoutMs_="+r)),r=e;const P=n.g;if(P){const Y=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var a=r.h;a.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(HS(a,a.h),a.h=null))}if(r.D){const re=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.za=re,yr(r.F,r.D,re))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((r=e).sa=ZF(r,r.H?r.ka:null,r.V),u.J){NF(r.h,u);var f=u,m=r.J;m&&f.setTimeout(m),f.B&&($v(f),p5(f)),r.g=u}else GF(r);0<e.i.length&&Xv(e)}else"stop"!=_[0]&&"close"!=_[0]||dl(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?dl(e,7):RS(e):"noop"!=_[0]&&e.l&&e.l.wa(_),e.A=0)}u5(4)}catch{}}function _F(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Tv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function pde(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const r in n)t[e++]=r;return t}}}(n),r=function hde(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tv(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],e&&e[a],n)}(wt=h5.prototype).setTimeout=function(n){this.O=n},wt.ib=function(n){n=n.target;const t=this.L;t&&3==Ba(n)?t.l():this.La(n)},wt.La=function(n){try{if(n==this.g)e:{const x=Ba(this.g);var t=this.g.Ea();const A=this.g.aa();if(!(3>x)&&(3!=x||oS||this.g&&(this.h.h||this.g.fa()||RF(this.g)))){this.I||4!=x||7==t||u5(8==t||0>=A?3:2),$v(this);var e=this.g.aa();this.Y=e;t:if(mF(this)){var r=RF(this.g);n="";var i=r.length,a=4==Ba(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ll(this),g5(this);var u="";break t}this.h.i=new $t.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function cde(n,t,e,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,x,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hv(f)){var _=f;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,_2(12),ll(this),g5(this);break e}$0(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,TS(this,e)}this.P?(vF(this,x,u),oS&&this.i&&3==x&&(sF(this.S,this.T,"tick",this.hb),this.T.start())):($0(this.j,this.m,u,null),TS(this,u)),4==x&&ll(this),this.i&&!this.I&&(4==x?$F(this.l,this):(this.i=!1,p5(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,_2(12)):(this.o=0,_2(13)),ll(this),g5(this)}}}catch{}},wt.hb=function(){if(this.g){var n=Ba(this.g),t=this.g.fa();this.C<t.length&&($v(this),vF(this,n,t),this.i&&4!=n&&p5(this))}},wt.cancel=function(){this.I=!0,ll(this)},wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function lde(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(u5(3),_2(17)),ll(this),this.o=2,g5(this)):yF(this,this.V-n)};var CF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ul){this.h=void 0!==t?t:n.h,Wv(this,n.j),this.s=n.s,this.g=n.g,qv(this,n.m),this.l=n.l,t=n.i;var e=new y5;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),bF(this,e),this.o=n.o}else n&&(e=String(n).match(CF))?(this.h=!!t,Wv(this,e[1]||"",!0),this.s=m5(e[2]||""),this.g=m5(e[3]||"",!0),qv(this,e[4]),this.l=m5(e[5]||"",!0),bF(this,e[6]||"",!0),this.o=m5(e[7]||"")):(this.h=!!t,this.i=new y5(null,this.h))}function Fa(n){return new ul(n)}function Wv(n,t,e){n.j=e?m5(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function qv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function bF(n,t,e){t instanceof y5?(n.i=t,function bde(n,t){t&&!n.j&&(C3(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(wF(this,r),DF(this,i,e))},n)),n.j=t}(n.i,n.h)):(e||(t=v5(t,_de)),n.i=new y5(t,n.h))}function yr(n,t,e){n.i.set(t,e)}function Zv(n){return yr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function m5(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function v5(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,mde),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mde(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ul.prototype.toString=function(){var n=[],t=this.j;t&&n.push(v5(t,MF,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(v5(t,MF,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(v5(e,"/"==e.charAt(0)?yde:vde,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",v5(e,Cde)),n.join("")};var MF=/[#\/\?@]/g,vde=/[#\?:]/g,yde=/[#\?]/g,_de=/[#\?@]/g,Cde=/#/g;function y5(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function C3(n){n.g||(n.g=new Map,n.h=0,n.i&&function gde(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var a=n[e].substring(0,r);i=n[e].substring(r+1)}else a=n[e];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function wF(n,t){C3(n),t=W0(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function xF(n,t){return C3(n),t=W0(n,t),n.g.has(t)}function DF(n,t,e){wF(n,t),0<e.length&&(n.i=null,n.g.set(W0(n,t),rS(e)),n.h+=e.length)}function W0(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function SF(n){this.l=n||wde,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=y5.prototype).add=function(n,t){C3(this),this.i=null,n=W0(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},wt.forEach=function(n,t){C3(this),this.g.forEach(function(e,r){e.forEach(function(i){n.call(t,i,r,this)},this)},this)},wt.oa=function(){C3(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let r=0;r<t.length;r++){const i=n[r];for(let a=0;a<i.length;a++)e.push(t[r])}return e},wt.W=function(n){C3(this);let t=[];if("string"==typeof n)xF(this,n)&&(t=t.concat(this.g.get(W0(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},wt.set=function(n,t){return C3(this),this.i=null,xF(this,n=W0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},wt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var r=t[e];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var wde=10;function AF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EF(n){return n.h?1:n.g?n.g.size:0}function VS(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function HS(n,t){n.g?n.g.add(t):n.h=t}function NF(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function IF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return rS(n.i)}function LS(){}function xde(){this.g=new LS}function Dde(n,t,e){const r=e||"";try{_F(n,function(i,a){let u=i;o5(i)&&(u=CS(i)),t.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yv(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function _5(n){this.l=n.ac||null,this.j=n.jb||!1}function Kv(n,t){Mi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=zS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SF.prototype.cancel=function(){if(this.i=IF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},LS.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},LS.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Hi(_5,DS),_5.prototype.g=function(){return new Kv(this.l,this.j)},_5.prototype.i=function(n){return function(){return n}}({}),Hi(Kv,Mi);var zS=0;function TF(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function C5(n){n.readyState=4,n.l=null,n.j=null,n.A=null,b5(n)}function b5(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=Kv.prototype).open=function(n,t){if(this.readyState!=zS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,b5(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||$t).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,C5(this)),this.readyState=zS},wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,b5(this)),this.g&&(this.readyState=3,b5(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TF(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?C5(this):b5(this),3==this.readyState&&TF(this)}},wt.Va=function(n){this.g&&(this.response=this.responseText=n,C5(this))},wt.Ua=function(n){this.g&&(this.response=n,C5(this))},wt.ga=function(){this.g&&C5(this)},wt.setRequestHeader=function(n,t){this.v.append(n,t)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Kv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ade=$t.JSON.parse;function Ir(n){Mi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VF,this.K=this.L=!1}Hi(Ir,Mi);var VF="",Ede=/^https?$/i,Nde=["POST","PUT"];function HF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,LF(n),Qv(n)}function LF(n){n.D||(n.D=!0,Li(n,"complete"),Li(n,"error"))}function zF(n){if(n.h&&typeof tS<"u"&&(!n.C[1]||4!=Ba(n)||2!=n.aa()))if(n.v&&4==Ba(n))xS(n.Ha,0,n);else if(Li(n,"readystatechange"),4==Ba(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===f){var i=String(n.H).match(CF)[1]||null;if(!i&&$t.self&&$t.self.location){var a=$t.self.location.protocol;i=a.substr(0,a.length-1)}r=!Ede.test(i?i.toLowerCase():"")}e=r}if(e)Li(n,"complete"),Li(n,"success");else{n.m=6;try{var u=2<Ba(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",LF(n)}}finally{Qv(n)}}}function Qv(n,t){if(n.g){kF(n);const e=n.g,r=n.C[0]?Iv:null;n.g=null,n.C=null,t||Li(n,"ready");try{e.onreadystatechange=r}catch{}}}function kF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Ba(n){return n.g?n.g.readyState:0}function RF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case VF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function OF(n){let t="";return dS(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function kS(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=OF(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):yr(n,t,e))}function M5(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function PF(n){this.Ca=0,this.i=[],this.j=new Fv,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=M5("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=M5("baseRetryDelayMs",5e3,n),this.bb=M5("retryDelaySeedMs",1e4,n),this.$a=M5("forwardChannelMaxRetries",2,n),this.ta=M5("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new SF(n&&n.concurrentRequestLimit),this.Fa=new xde,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function RS(n){if(FF(n),3==n.G){var t=n.U++,e=Fa(n.F);yr(e,"SID",n.I),yr(e,"RID",t),yr(e,"TYPE","terminate"),w5(n,e),(t=new h5(n,n.j,t,void 0)).K=2,t.v=Zv(Fa(e)),e=!1,$t.navigator&&$t.navigator.sendBeacon&&(e=$t.navigator.sendBeacon(t.v.toString(),"")),!e&&$t.Image&&((new Image).src=t.v,e=!0),e||(t.g=YF(t.l,null),t.g.da(t.v)),t.F=Date.now(),p5(t)}qF(n)}function Jv(n){n.g&&(PS(n),n.g.cancel(),n.g=null)}function FF(n){Jv(n),n.u&&($t.clearTimeout(n.u),n.u=null),ey(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Xv(n){AF(n.h)||n.m||(n.m=!0,tF(n.Ja,n),n.C=0)}function BF(n,t){var e;e=t?t.m:n.U++;const r=Fa(n.F);yr(r,"SID",n.I),yr(r,"RID",e),yr(r,"AID",n.T),w5(n,r),n.o&&n.s&&kS(r,n.o,n.s),e=new h5(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=UF(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),HS(n.h,e),IS(e,r,t)}function w5(n,t){n.ia&&dS(n.ia,function(e,r){yr(t,r,e)}),n.l&&_F({},function(e,r){yr(t,r,e)})}function UF(n,t,e){e=Math.min(n.i.length,e);var r=n.l?qi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let m=0;m<e;m++){let _=i[m].h;const x=i[m].g;if(_-=a,0>_)a=Math.max(0,i[m].h-100),f=!1;else try{Dde(x,u,"req"+_+"_")}catch{r&&r(x)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,r}function GF(n){n.g||n.u||(n.Z=1,tF(n.Ia,n),n.A=0)}function OS(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=d5(qi(n.Ia,n),WF(n,n.A)),n.A++,0))}function PS(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function jF(n){n.g=new h5(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Fa(n.sa);yr(t,"RID","rpc"),yr(t,"SID",n.I),yr(t,"CI",n.L?"0":"1"),yr(t,"AID",n.T),yr(t,"TYPE","xmlhttp"),w5(n,t),n.o&&n.s&&kS(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Zv(Fa(t)),e.s=null,e.P=!0,gF(e,n)}function ey(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function $F(n,t){var e=null;if(n.g==t){ey(n),PS(n),n.g=null;var r=2}else{if(!VS(n.h,t))return;e=t.D,NF(n.h,t),r=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;Li(r=Bv(),new uF(r,e,t,i)),Xv(n)}else GF(n);else if(3==(i=t.o)||0==i&&0<n.pa||!(1==r&&function Tde(n,t){return!(EF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=d5(qi(n.Ja,n,t),WF(n,n.C)),n.C++,0)))}(n,t)||2==r&&OS(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),i){case 1:dl(n,5);break;case 4:dl(n,10);break;case 3:dl(n,6);break;default:dl(n,2)}}function WF(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function dl(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var r=qi(n.kb,n);e||(e=new ul("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||Wv(e,"https"),Zv(e)),function Sde(n,t){const e=new Fv;if($t.Image){const r=new Image;r.onload=Vv(Yv,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Vv(Yv,e,r,"TestLoadImage: error",!1,t),r.onabort=Vv(Yv,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vv(Yv,e,r,"TestLoadImage: timeout",!1,t),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else _2(2);n.G=0,n.l&&n.l.va(t),qF(n),FF(n)}function qF(n){if(n.G=0,n.la=[],n.l){const t=IF(n.h);(0!=t.length||0!=n.i.length)&&(FP(n.la,t),FP(n.la,n.i),n.h.i.length=0,rS(n.i),n.i.length=0),n.l.ua()}}function ZF(n,t,e){var r=e instanceof ul?Fa(e):new ul(e,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),qv(r,r.m);else{var i=$t.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ul(null,void 0);r&&Wv(a,r),t&&(a.g=t),i&&qv(a,i),e&&(a.l=e),r=a}return t=n.za,(e=n.D)&&t&&yr(r,e,t),yr(r,"VER",n.ma),w5(n,r),r}function YF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ir(e&&n.Da&&!n.ra?new _5({jb:!0}):n.ra)).Ka(n.H),t}function KF(){}function ty(){if(j0&&!(10<=Number(Z8e)))throw Error("Environmental error: no available transport.")}function D1(n,t){Mi.call(this),this.g=new PF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Hv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new q0(this)}function QF(n){SS.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function JF(){AS.call(this),this.status=1}function q0(n){this.g=n}(wt=Ir.prototype).Ka=function(n){this.L=n},wt.da=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ES.g(),this.C=function fF(n){return n.h||(n.h=n.i())}(this.u?this.u:ES),this.g.onreadystatechange=qi(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void HF(this,a)}if(n=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)e.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())e.set(a,r.get(a))}r=Array.from(e.keys()).find(a=>"content-type"==a.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=PP(Nde,t))||r||i||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of e)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kF(this),0<this.B&&((this.K=function Ide(n){return j0&&function q8e(){return function G8e(n){var t=W8e;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=BP(String(zv)).split("."),e=BP("9").split("."),r=Math.max(t.length,e.length);for(let u=0;0==n&&u<r;u++){var i=t[u]||"",a=e[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=iS(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||iS(0==i[2].length,0==a[2].length)||iS(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qi(this.qa,this)):this.A=xS(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){HF(this,a)}},wt.qa=function(){typeof tS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Li(this,"complete"),Li(this,"abort"),Qv(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qv(this,!0)),Ir.X.M.call(this)},wt.Ha=function(){this.s||(this.F||this.v||this.l?zF(this):this.fb())},wt.fb=function(){zF(this)},wt.aa=function(){try{return 2<Ba(this)?this.g.status:-1}catch{return-1}},wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ade(t)}},wt.Ea=function(){return this.m},wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=PF.prototype).ma=8,wt.G=1,wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new h5(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=WP(a),ZP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var r=this.i[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=UF(this,i,t),yr(e=Fa(this.F),"RID",n),yr(e,"CVER",22),this.D&&yr(e,"X-HTTP-Session-Id",this.D),w5(this,e),a&&(this.N?t="headers="+encodeURIComponent(String(OF(a)))+"&"+t:this.o&&kS(e,this.o,a)),HS(this.h,i),this.Ya&&yr(e,"TYPE","init"),this.O?(yr(e,"$req",t),yr(e,"SID","null"),i.Z=!0,IS(i,e,null)):IS(i,e,t),this.G=2}}else 3==this.G&&(n?BF(this,n):0==this.i.length||AF(this.h)||BF(this))},wt.Ia=function(){if(this.u=null,jF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=d5(qi(this.eb,this),n)}},wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_2(10),Jv(this),jF(this))},wt.cb=function(){null!=this.v&&(this.v=null,Jv(this),OS(this),_2(19))},wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),_2(2)):(this.j.info("Failed to ping google.com"),_2(1))},(wt=KF.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Ra=function(){},ty.prototype.g=function(n,t){return new D1(n,t)},Hi(D1,Mi),D1.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;_2(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=ZF(n,null,n.V),Xv(n)},D1.prototype.close=function(){RS(this.g)},D1.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=CS(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Xv(t)},D1.prototype.M=function(){this.g.l=null,delete this.j,RS(this.g),delete this.g,D1.X.M.call(this)},Hi(QF,SS),Hi(JF,AS),Hi(q0,KF),q0.prototype.xa=function(){Li(this.g,"a")},q0.prototype.wa=function(n){Li(this.g,new QF(n))},q0.prototype.va=function(n){Li(this.g,new JF(n))},q0.prototype.ua=function(){Li(this.g,"b")},ty.prototype.createWebChannel=ty.prototype.g,D1.prototype.send=D1.prototype.u,D1.prototype.open=D1.prototype.m,D1.prototype.close=D1.prototype.close,Uv.NO_ERROR=0,Uv.TIMEOUT=8,Uv.HTTP_ERROR=6,dF.COMPLETE="complete",hF.EventType=f5,f5.OPEN="a",f5.CLOSE="b",f5.ERROR="c",f5.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.Oa,Ir.prototype.getLastErrorCode=Ir.prototype.Ea,Ir.prototype.getStatus=Ir.prototype.aa,Ir.prototype.getResponseJson=Ir.prototype.Sa,Ir.prototype.getResponseText=Ir.prototype.fa,Ir.prototype.send=Ir.prototype.da,Ir.prototype.setWithCredentials=Ir.prototype.Ka;var Vde=Pa.createWebChannelTransport=function(){return new ty},Hde=Pa.getStatEventTarget=function(){return Bv()},FS=Pa.ErrorCode=Uv,Lde=Pa.EventType=dF,zde=Pa.Event=cl,XF=Pa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},kde=Pa.FetchXmlHttpFactory=_5,ny=Pa.WebChannel=hF,Rde=Pa.XhrIo=Ir;const eB="@firebase/firestore";class wi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let Z0="9.12.1";const b3=new y3.Yd("@firebase/firestore");function BS(){return b3.logLevel}function Ge(n,...t){if(b3.logLevel<=y3.in.DEBUG){const e=t.map(US);b3.debug(`Firestore (${Z0}): ${n}`,...e)}}function Fr(n,...t){if(b3.logLevel<=y3.in.ERROR){const e=t.map(US);b3.error(`Firestore (${Z0}): ${n}`,...e)}}function fl(n,...t){if(b3.logLevel<=y3.in.WARN){const e=t.map(US);b3.warn(`Firestore (${Z0}): ${n}`,...e)}}function US(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const t=`FIRESTORE (${Z0}) INTERNAL ASSERTION FAILED: `+n;throw Fr(t),new Error(t)}function Ot(n,t){n||gt()}function rt(n,t){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends _n.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class tB{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Fde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(wi.UNAUTHENTICATED))}shutdown(){}}class Bde{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ude{constructor(t){this.t=t,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const a=_=>this.i!==i?(i=this.i,e(_)):Promise.resolve();let u=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ci,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=u;t.enqueueRetryable((0,De.Z)(function*(){yield _.promise,yield a(r.currentUser)}))},m=_=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ci)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new tB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new wi(t)}}class Gde{constructor(t,e,r,i){this.h=t,this.l=e,this.m=r,this.g=i,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ot(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jde{constructor(t,e,r,i){this.h=t,this.l=e,this.m=r,this.g=i}getToken(){return Promise.resolve(new Gde(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $de{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const r=a=>{null!=a.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),this.A=e.token,new nB(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wde(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class rB{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Wde(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<e&&(r+=t.charAt(i[a]%t.length))}return r}}function Wt(n,t){return n<t?-1:n>t?1:0}function Y0(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function iB(n){return n+"\0"}class _r{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return _r.fromMillis(Date.now())}static fromDate(t){return _r.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new _r(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Pt(t)}static min(){return new Pt(new _r(0,0))}static max(){return new Pt(new _r(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class x5{constructor(t,e,r){void 0===e?e=0:e>t.length&&gt(),void 0===r?r=t.length-e:r>t.length-e&&gt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===x5.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof x5?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const a=t.get(i),u=e.get(i);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class mn extends x5{construct(t,e,r){return new mn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new mn(e)}static emptyPath(){return new mn([])}}const qde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends x5{construct(t,e,r){return new Tr(t,e,r)}static isValidIdentifier(t){return qde.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;i<t.length;){const f=t[i];if("\\"===f){if(i+1===t.length)throw new Oe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Oe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Oe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Tr(e)}static emptyPath(){return new Tr([])}}class Xe{constructor(t){this.path=t}static fromPath(t){return new Xe(mn.fromString(t))}static fromName(t){return new Xe(mn.fromString(t).popFirst(5))}static empty(){return new Xe(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===mn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return mn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xe(new mn(t.slice()))}}class ry{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}}function GS(n){return n.fields.find(t=>2===t.kind)}function hl(n){return n.fields.filter(t=>2!==t.kind)}ry.UNKNOWN_ID=-1;class iy{constructor(t,e){this.fieldPath=t,this.kind=e}}class D5{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new D5(0,S1.min())}}function sB(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===r?new _r(e+1,0):new _r(e,r));return new S1(i,Xe.empty(),t)}function oB(n){return new S1(n.readTime,n.key,-1)}class S1{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new S1(Pt.min(),Xe.empty(),-1)}static max(){return new S1(Pt.max(),Xe.empty(),-1)}}function jS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Xe.comparator(n.documentKey,t.documentKey),0!==e?e:Wt(n.largestBatchId,t.largestBatchId))}const aB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function M3(n){return $S.apply(this,arguments)}function $S(){return $S=(0,De.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==aB)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),$S.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,r)=>{e(t)})}static reject(t){return new fe((e,r)=>{r(t)})}static waitFor(t){return new fe((e,r)=>{let i=0,a=0,u=!1;t.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&e()},m=>r(m))}),u=!0,a===i&&e()})}static or(t){let e=fe.resolve(!1);for(const r of t)e=e.next(i=>i?fe.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,a)=>{r.push(e.call(this,i,a))}),this.waitFor(r)}static mapArray(t,e){return new fe((r,i)=>{const a=t.length,u=new Array(a);let f=0;for(let m=0;m<a;m++){const _=m;e(t[_]).next(x=>{u[_]=x,++f,f===a&&r(u)},x=>i(x))}})}static doWhile(t,e){return new fe((r,i)=>{const a=()=>{!0===t()?e().next(()=>{a()},i):r()};a()})}}class sy{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new ci,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new S5(t,e.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=WS(r.target.error);this.P.reject(new S5(t,i))}}static open(t,e,r,i){try{return new sy(e,t.transaction(i,r))}catch(a){throw new S5(e,a)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Qde(e)}}class to{constructor(t,e,r){this.name=t,this.version=e,this.S=r,12.2===to.D((0,_n.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),pl(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,_n.hl)())return!1;if(to.N())return!0;const t=(0,_n.z$)(),e=to.D(t),r=0<e&&e<10,i=to.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(t){var e=this;return(0,De.Z)(function*(){return e.db||(Ge("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new S5(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Oe(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new S5(t,f))},a.onupgradeneeded=u=>{Ge("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=r=>e.B(r)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var a=this;return(0,De.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.F(t);const m=sy.open(a.db,t,u?"readonly":"readwrite",r),_=i(m).next(x=>(m.V(),x)).catch(x=>(m.abort(x),fe.reject(x))).toPromise();return _.catch(()=>{}),yield m.v,_}catch(m){const _=m,x="FirebaseError"!==_.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",_.message,"Retrying:",x),a.close(),!x)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Kde{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return pl(this.U.delete())}}class S5 extends Oe{constructor(t,e){super(ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function w3(n){return"IndexedDbTransactionError"===n.name}class Qde{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Ge("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),pl(r)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),pl(this.store.add(t))}get(t){return pl(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ge("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),pl(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),pl(this.store.count())}W(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new fe((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}J(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new fe((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(t,e){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,f)=>f.delete())}Z(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.H(i,e)}tt(t){const e=this.cursor({});return new fe((r,i)=>{e.onerror=a=>{const u=WS(a.target.error);i(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}H(t,e){const r=[];return new fe((i,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const m=new Kde(f),_=e(f.primaryKey,f.value,m);if(_ instanceof fe){const x=_.catch(A=>(m.done(),fe.reject(A)));r.push(x)}m.isDone?i():null===m.G?f.continue():f.continue(m.G)}}).next(()=>fe.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function pl(n){return new fe((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=WS(r.target.error);e(i)}})}let lB=!1;function WS(n){const t=to.D((0,_n.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lB||(lB=!0,setTimeout(()=>{throw r},0)),r}}return n}class Jde{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ge("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,De.Z)(function*(){e.task=null;try{Ge("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(r){w3(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield M3(r)}yield e.nt(6e4)}))}}class Xde{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,De.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.it(r,t))})()}it(t,e){const r=new Set;let i=e,a=!0;return fe.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!r.has(u))return Ge("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,i).next(f=>{i-=f,r.add(u)});a=!1})).next(()=>e-i)}rt(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(i,a)).next(f=>(Ge("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>u.size)}))}ot(t,e){let r=t;return e.changes.forEach((i,a)=>{const u=oB(a);jS(u,r)>0&&(r=u)}),new S1(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}class $2{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>e.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function uB(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function gl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function dB(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}$2.at=-1;class Vr{constructor(t,e){this.comparator=t,this.root=e||zi.EMPTY}insert(t,e){return new Vr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(t){return new Vr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oy(this.root,t,this.comparator,!1)}getReverseIterator(){return new oy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oy(this.root,t,this.comparator,!0)}}class oy{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?r(t.key,e):1,e&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zi{constructor(t,e,r,i,a){this.key=t,this.value=e,this.color=r??zi.RED,this.left=i??zi.EMPTY,this.right=a??zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,a){return new zi(t??this.key,e??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===a?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return zi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,t,e,r,i){return this}insert(n,t,e){return new zi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(t){this.comparator=t,this.data=new Vr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new fB(this.data.getIterator())}getIteratorFrom(t){return new fB(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Pn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pn(this.comparator);return e.data=t,e}}class fB{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function K0(n){return n.hasNext()?n.getNext():void 0}class A1{constructor(t){this.fields=t,t.sort(Tr.comparator)}static empty(){return new A1([])}unionWith(t){let e=new Pn(Tr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new A1(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Y0(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class li{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new li(e)}static fromUint8Array(t){const e=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(t);return new li(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}li.EMPTY_BYTE_STRING=new li("");const tfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function x3(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=tfe.exec(n);if(Ot(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Hr(n.seconds),nanos:Hr(n.nanos)}}function Hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ml(n){return"string"==typeof n?li.fromBase64String(n):li.fromUint8Array(n)}function qS(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function hB(n){const t=n.mapValue.fields.__previous_value__;return qS(t)?hB(t):t}function A5(n){const t=x3(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(t.seconds,t.nanos)}class nfe{constructor(t,e,r,i,a,u,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class D3{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new D3("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof D3&&t.projectId===this.projectId&&t.database===this.database}}function E5(n){return null==n}function N5(n){return 0===n&&1/n==-1/0}function pB(n){return"number"==typeof n&&Number.isInteger(n)&&!N5(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const S3={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ay={nullValue:"NULL_VALUE"};function vl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qS(n)?4:yB(n)?9007199254740991:10:gt()}function Fo(n,t){if(n===t)return!0;const e=vl(n);if(e!==vl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return A5(n).isEqual(A5(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=x3(r.timestampValue),u=x3(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,ml(n.bytesValue).isEqual(ml(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return Hr(r.geoPointValue.latitude)===Hr(i.geoPointValue.latitude)&&Hr(r.geoPointValue.longitude)===Hr(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Hr(r.integerValue)===Hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Hr(r.doubleValue),u=Hr(i.doubleValue);return a===u?N5(a)===N5(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return Y0(n.arrayValue.values||[],t.arrayValue.values||[],Fo);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(uB(a)!==uB(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Fo(a[f],u[f])))return!1;return!0}(n,t);default:return gt()}var i}function I5(n,t){return void 0!==(n.values||[]).find(e=>Fo(e,t))}function A3(n,t){if(n===t)return 0;const e=vl(n),r=vl(t);if(e!==r)return Wt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return function(i,a){const u=Hr(i.integerValue||i.doubleValue),f=Hr(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return gB(n.timestampValue,t.timestampValue);case 4:return gB(A5(n),A5(t));case 5:return Wt(n.stringValue,t.stringValue);case 6:return function(i,a){const u=ml(i),f=ml(a);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let m=0;m<u.length&&m<f.length;m++){const _=Wt(u[m],f[m]);if(0!==_)return _}return Wt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,a){const u=Wt(Hr(i.latitude),Hr(a.latitude));return 0!==u?u:Wt(Hr(i.longitude),Hr(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let m=0;m<u.length&&m<f.length;++m){const _=A3(u[m],f[m]);if(_)return _}return Wt(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,a){if(i===S3.mapValue&&a===S3.mapValue)return 0;if(i===S3.mapValue)return 1;if(a===S3.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),m=a.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let x=0;x<f.length&&x<_.length;++x){const A=Wt(f[x],_[x]);if(0!==A)return A;const z=A3(u[f[x]],m[_[x]]);if(0!==z)return z}return Wt(f.length,_.length)}(n.mapValue,t.mapValue);default:throw gt()}}function gB(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Wt(n,t);const e=x3(n),r=x3(t),i=Wt(e.seconds,r.seconds);return 0!==i?i:Wt(e.nanos,r.nanos)}function Q0(n){return ZS(n)}function ZS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=x3(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ml(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=ZS(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${ZS(r.fields[f])}`;return a+"}"}(n.mapValue):gt();var t}function yl(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function YS(n){return!!n&&"integerValue"in n}function T5(n){return!!n&&"arrayValue"in n}function mB(n){return!!n&&"nullValue"in n}function vB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cy(n){return!!n&&"mapValue"in n}function V5(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return gl(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=V5(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=V5(n.arrayValue.values[e]);return t}return Object.assign({},n)}function yB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rfe(n){return"nullValue"in n?ay:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yl(D3.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function ife(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yl(D3.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?S3:gt()}function _B(n,t){const e=A3(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function CB(n,t){const e=A3(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ki{constructor(t){this.value=t}static empty(){return new ki({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!cy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=V5(e)}setAll(t){let e=Tr.emptyPath(),r={},i=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,i),r={},i=[],e=f.popLast()}u?r[f.lastSegment()]=V5(u):i.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,r,i)}delete(t){const e=this.field(t.popLast());cy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];cy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){gl(e,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new ki(V5(this.value))}}function bB(n){const t=[];return gl(n.fields,(e,r)=>{const i=new Tr([e]);if(cy(r)){const a=bB(r.mapValue).fields;if(0===a.length)t.push(i);else for(const u of a)t.push(i.child(u))}else t.push(i)}),new A1(t)}class tr{constructor(t,e,r,i,a,u){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(t){return new tr(t,0,Pt.min(),Pt.min(),ki.empty(),0)}static newFoundDocument(t,e,r){return new tr(t,1,e,Pt.min(),r,0)}static newNoDocument(t,e){return new tr(t,2,e,Pt.min(),ki.empty(),0)}static newUnknownDocument(t,e){return new tr(t,3,e,Pt.min(),ki.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof tr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sfe{constructor(t,e=null,r=[],i=[],a=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.ht=null}}function MB(n,t=null,e=[],r=[],i=null,a=null,u=null){return new sfe(n,t,e,r,i,a,u)}function _l(n){const t=rt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Q0(i.value);var i}).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),E5(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Q0(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Q0(r)).join(",")),t.ht=e}return t.ht}function H5(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!pfe(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Fo(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!AB(n.startAt,t.startAt)&&AB(n.endAt,t.endAt)}function ly(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uy(n,t){return n.filters.filter(e=>e instanceof Ri&&e.field.isEqual(t))}function wB(n,t,e){let r=ay,i=!0;for(const a of uy(n,t)){let u=ay,f=!0;switch(a.op){case"<":case"<=":u=rfe(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=ay}_B({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];_B({value:r,inclusive:i},{value:u,inclusive:e.inclusive})<0&&(r=u,i=e.inclusive);break}return{value:r,inclusive:i}}function xB(n,t,e){let r=S3,i=!0;for(const a of uy(n,t)){let u=S3,f=!0;switch(a.op){case">=":case">":u=ife(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=S3}CB({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];CB({value:r,inclusive:i},{value:u,inclusive:e.inclusive})>0&&(r=u,i=e.inclusive);break}return{value:r,inclusive:i}}class Ri extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,r):new afe(t,e,r):"array-contains"===e?new ufe(t,r):"in"===e?new dfe(t,r):"not-in"===e?new ffe(t,r):"array-contains-any"===e?new hfe(t,r):new Ri(t,e,r)}static lt(t,e,r){return"in"===e?new cfe(t,r):new lfe(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(A3(e,this.value)):null!==e&&vl(this.value)===vl(e)&&this.ft(A3(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class afe extends Ri{constructor(t,e,r){super(t,e,r),this.key=Xe.fromName(r.referenceValue)}matches(t){const e=Xe.comparator(t.key,this.key);return this.ft(e)}}class cfe extends Ri{constructor(t,e){super(t,"in",e),this.keys=DB(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lfe extends Ri{constructor(t,e){super(t,"not-in",e),this.keys=DB(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function DB(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class ufe extends Ri{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return T5(e)&&I5(e.arrayValue,this.value)}}class dfe extends Ri{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&I5(this.value.arrayValue,e)}}class ffe extends Ri{constructor(t,e){super(t,"not-in",e)}matches(t){if(I5(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!I5(this.value.arrayValue,e)}}class hfe extends Ri{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!T5(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>I5(this.value.arrayValue,r))}}class E3{constructor(t,e){this.position=t,this.inclusive=e}}class J0{constructor(t,e="asc"){this.field=t,this.dir=e}}function pfe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function SB(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const a=t[i],u=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(u.referenceValue),e.key):A3(u,e.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function AB(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fo(n.position[e],t.position[e]))return!1;return!0}class Ua{constructor(t,e=null,r=[],i=[],a=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=m,this._t=null,this.wt=null}}function EB(n,t,e,r,i,a,u,f){return new Ua(n,t,e,r,i,a,u,f)}function X0(n){return new Ua(n)}function NB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function KS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function QS(n){for(const t of n.filters)if(t.dt())return t.field;return null}function JS(n){return null!==n.collectionGroup}function eu(n){const t=rt(n);if(null===t._t){t._t=[];const e=QS(t),r=KS(t);if(null!==e&&null===r)e.isKeyField()||t._t.push(new J0(e)),t._t.push(new J0(Tr.keyField(),"asc"));else{let i=!1;for(const a of t.explicitOrderBy)t._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new J0(Tr.keyField(),a))}}}return t._t}function C2(n){const t=rt(n);if(!t.wt)if("F"===t.limitType)t.wt=MB(t.path,t.collectionGroup,eu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of eu(t))e.push(new J0(a.field,"desc"===a.dir?"asc":"desc"));const r=t.endAt?new E3(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new E3(t.startAt.position,t.startAt.inclusive):null;t.wt=MB(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.wt}function dy(n,t,e){return new Ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function L5(n,t){return H5(C2(n),C2(t))&&n.limitType===t.limitType}function IB(n){return`${_l(C2(n))}|lt:${n.limitType}`}function XS(n){return`Query(target=${function ofe(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${Q0(r.value)}`;var r}).join(", ")}]`),E5(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Q0(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Q0(e)).join(",")),`Target(${t})`}(C2(n))}; limitType=${n.limitType})`}function eA(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):Xe.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(i,a,u){const f=SB(i,a,u);return i.inclusive?f<=0:f<0}(e.startAt,eu(e),r)||e.endAt&&!function(i,a,u){const f=SB(i,a,u);return i.inclusive?f>=0:f>0}(e.endAt,eu(e),r)));var e,r}function TB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VB(n){return(t,e)=>{let r=!1;for(const i of eu(n)){const a=gfe(i,t,e);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function gfe(n,t,e){const r=n.field.isKeyField()?Xe.comparator(t.key,e.key):function(i,a,u){const f=a.data.field(i),m=u.data.field(i);return null!==f&&null!==m?A3(f,m):gt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function HB(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:N5(t)?"-0":t}}function LB(n){return{integerValue:""+n}}function zB(n,t){return pB(t)?LB(t):HB(n,t)}class fy{constructor(){this._=void 0}}function mfe(n,t,e){return n instanceof tu?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(e,t):n instanceof Cl?RB(n,t):n instanceof bl?OB(n,t):function(r,i){const a=kB(r,i),u=PB(a)+PB(r.yt);return YS(a)&&YS(r.yt)?LB(u):HB(r.It,u)}(n,t)}function vfe(n,t,e){return n instanceof Cl?RB(n,t):n instanceof bl?OB(n,t):e}function kB(n,t){return n instanceof nu?YS(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class tu extends fy{}class Cl extends fy{constructor(t){super(),this.elements=t}}function RB(n,t){const e=FB(t);for(const r of n.elements)e.some(i=>Fo(i,r))||e.push(r);return{arrayValue:{values:e}}}class bl extends fy{constructor(t){super(),this.elements=t}}function OB(n,t){let e=FB(t);for(const r of n.elements)e=e.filter(i=>!Fo(i,r));return{arrayValue:{values:e}}}class nu extends fy{constructor(t,e){super(),this.It=t,this.yt=e}}function PB(n){return Hr(n.integerValue||n.doubleValue)}function FB(n){return T5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class z5{constructor(t,e){this.field=t,this.transform=e}}class _fe{constructor(t,e){this.version=t,this.transformResults=e}}class Cr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Cr}static exists(t){return new Cr(void 0,t)}static updateTime(t){return new Cr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hy(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class py{}function BB(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new iu(n.key,Cr.none()):new ru(n.key,n.data,Cr.none());{const e=n.data,r=ki.empty();let i=new Pn(Tr.comparator);for(let a of t.fields)if(!i.has(a)){let u=e.field(a);null===u&&a.length>1&&(a=a.popLast(),u=e.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new Ga(n.key,r,new A1(i.toArray()),Cr.none())}}function Cfe(n,t,e){n instanceof ru?function(r,i,a){const u=r.value.clone(),f=jB(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Ga?function(r,i,a){if(!hy(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=jB(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(GB(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function k5(n,t,e,r){return n instanceof ru?function(i,a,u,f){if(!hy(i.precondition,a))return u;const m=i.value.clone(),_=$B(i.fieldTransforms,f,a);return m.setAll(_),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,t,e,r):n instanceof Ga?function(i,a,u,f){if(!hy(i.precondition,a))return u;const m=$B(i.fieldTransforms,f,a),_=a.data;return _.setAll(GB(i)),_.setAll(m),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(n,t,e,r):(u=e,hy(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function bfe(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),a=kB(r.transform,i||null);null!=a&&(null===e&&(e=ki.empty()),e.set(r.field,a))}return e||null}function UB(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&Y0(e,r,(i,a)=>function yfe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Cl&&r instanceof Cl||e instanceof bl&&r instanceof bl?Y0(e.elements,r.elements,Fo):e instanceof nu&&r instanceof nu?Fo(e.yt,r.yt):e instanceof tu&&r instanceof tu);var e,r}(i,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class ru extends py{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ga extends py{constructor(t,e,r,i,a=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GB(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function jB(n,t,e){const r=new Map;Ot(n.length===e.length);for(let i=0;i<e.length;i++){const a=n[i],u=a.transform,f=t.data.field(a.field);r.set(a.field,vfe(u,f,e[i]))}return r}function $B(n,t,e){const r=new Map;for(const i of n){const a=i.transform,u=e.data.field(i.field);r.set(i.field,mfe(a,u,t))}return r}class iu extends py{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tA extends py{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mfe{constructor(t){this.count=t}}var Jr,vn;function WB(n){switch(n){default:return gt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function qB(n){if(void 0===n)return Fr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Jr.OK:return ve.OK;case Jr.CANCELLED:return ve.CANCELLED;case Jr.UNKNOWN:return ve.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return ve.INTERNAL;case Jr.UNAVAILABLE:return ve.UNAVAILABLE;case Jr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Jr.NOT_FOUND:return ve.NOT_FOUND;case Jr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Jr.ABORTED:return ve.ABORTED;case Jr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Jr.DATA_LOSS:return ve.DATA_LOSS;default:return gt()}}(vn=Jr||(Jr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class N3{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){gl(this.inner,(e,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return dB(this.inner)}size(){return this.innerSize}}const wfe=new Vr(Xe.comparator);function W2(){return wfe}const ZB=new Vr(Xe.comparator);function R5(...n){let t=ZB;for(const e of n)t=t.insert(e.key,e);return t}function YB(n){let t=ZB;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Bo(){return O5()}function KB(){return O5()}function O5(){return new N3(n=>n.toString(),(n,t)=>n.isEqual(t))}const xfe=new Vr(Xe.comparator),Dfe=new Pn(Xe.comparator);function Xt(...n){let t=Dfe;for(const e of n)t=t.add(e);return t}const Sfe=new Pn(Wt);function gy(){return Sfe}class P5{constructor(t,e,r,i,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,F5.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new P5(Pt.min(),i,gy(),W2(),Xt())}}class F5{constructor(t,e,r,i,a){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new F5(r,e,Xt(),Xt(),Xt())}}class my{constructor(t,e,r,i){this.Tt=t,this.removedTargetIds=e,this.key=r,this.Et=i}}class QB{constructor(t,e){this.targetId=t,this.At=e}}class JB{constructor(t,e,r=li.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class XB{constructor(){this.Rt=0,this.bt=tU(),this.Pt=li.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Xt(),e=Xt(),r=Xt();return this.bt.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new F5(this.Pt,this.vt,t,e,r)}Nt(){this.Vt=!1,this.bt=tU()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Afe{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=W2(),this.qt=eU(),this.Kt=new Pn(Wt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const r=this.zt(e);switch(t.state){case 0:this.Ht(e)&&r.Ct(t.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(t.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(r.$t(),r.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),r.Ct(t.resumeToken));break;default:gt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((r,i)=>{this.Ht(i)&&e(i)})}Yt(t){const e=t.targetId,r=t.At.count,i=this.Xt(e);if(i){const a=i.target;if(ly(a))if(0===r){const u=new Xe(a.path);this.jt(e,u,tr.newNoDocument(u,Pt.min()))}else Ot(1===r);else this.Zt(e)!==r&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((a,u)=>{const f=this.Xt(u);if(f){if(a.current&&ly(f.target)){const m=new Xe(f.target.path);null!==this.Ut.get(m)||this.ee(u,m)||this.jt(u,m,tr.newNoDocument(m,t))}a.Dt&&(e.set(u,a.xt()),a.Nt())}});let r=Xt();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(m=>{const _=this.Xt(m);return!_||2===_.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(t));const i=new P5(t,e,this.Kt,this.Ut,r);return this.Ut=W2(),this.qt=eU(),this.Kt=new Pn(Wt),i}Qt(t,e){if(!this.Ht(t))return;const r=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,r),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,r){if(!this.Ht(t))return;const i=this.zt(t);this.ee(t,e)?i.kt(e,1):i.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),r&&(this.Ut=this.Ut.insert(e,r))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new XB,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Pn(Wt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Ge("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new XB),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function eU(){return new Vr(Xe.comparator)}function tU(){return new Vr(Xe.comparator)}const Efe={asc:"ASCENDING",desc:"DESCENDING"},Nfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ife{constructor(t,e){this.databaseId=t,this.gt=e}}function B5(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nU(n,t){return n.gt?t.toBase64():t.toUint8Array()}function Tfe(n,t){return B5(n,t.toTimestamp())}function xi(n){return Ot(!!n),Pt.fromTimestamp(function(t){const e=x3(t);return new _r(e.seconds,e.nanos)}(n))}function nA(n,t){return(e=n,new mn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function rU(n){const t=mn.fromString(n);return Ot(dU(t)),t}function U5(n,t){return nA(n.databaseId,t.path)}function Uo(n,t){const e=rU(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Xe(sU(e))}function rA(n,t){return nA(n.databaseId,t)}function iU(n){const t=rU(n);return 4===t.length?mn.emptyPath():sU(t)}function G5(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sU(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function oU(n,t,e){return{name:U5(n,t),fields:e.value.mapValue.fields}}function aU(n,t,e){const r=Uo(n,t.name),i=xi(t.updateTime),a=new ki({mapValue:{fields:t.fields}}),u=tr.newFoundDocument(r,i,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function j5(n,t){let e;if(t instanceof ru)e={update:oU(n,t.key,t.value)};else if(t instanceof iu)e={delete:U5(n,t.key)};else if(t instanceof Ga)e={update:oU(n,t.key,t.data),updateMask:Ffe(t.fieldMask)};else{if(!(t instanceof tA))return gt();e={verify:U5(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof tu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof nu)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw gt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:Tfe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),e;var i}function iA(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?Cr.updateTime(xi(i.updateTime)):void 0!==i.exists?Cr.exists(i.exists):Cr.none():Cr.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(Ot("REQUEST_TIME"===u.setToServerValue),f=new tu):"appendMissingElements"in u?f=new Cl(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new bl(u.removeAllFromArray.values||[]):"increment"in u?f=new nu(a,u.increment):gt();const m=Tr.fromServerFormat(u.fieldPath);return new z5(m,f)}(n,i)):[];var i;if(t.update){const i=Uo(n,t.update.name),a=new ki({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new A1((t.updateMask.fieldPaths||[]).map(_=>Tr.fromServerFormat(_)));return new Ga(i,a,u,e,r)}return new ru(i,a,e,r)}if(t.delete){const i=Uo(n,t.delete);return new iu(i,e)}if(t.verify){const i=Uo(n,t.verify);return new tA(i,e)}return gt()}function cU(n,t){return{documents:[rA(n,t.path)]}}function sA(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=rA(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=rA(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const _=m.map(x=>function(A){if("=="===A.op){if(vB(A.value))return{unaryFilter:{field:su(A.field),op:"IS_NAN"}};if(mB(A.value))return{unaryFilter:{field:su(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(vB(A.value))return{unaryFilter:{field:su(A.field),op:"IS_NOT_NAN"}};if(mB(A.value))return{unaryFilter:{field:su(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(A.field),op:Rfe(A.op),value:A.value}}}(x));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);i&&(e.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(_=>{return{field:su((x=_).field),direction:kfe(x.dir)};var x})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(_=t.limit,n.gt||E5(_)?_:{value:_});var _,f,m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function lU(n){let t=iU(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Ot(1===r);const x=e.from[0];x.allDescendants?i=x.collectionId:t=t.child(x.collectionId)}let a=[];e.where&&(a=uU(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(x=>{return new J0(ou((A=x).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;e.limit&&(f=function(x){let A;return A="object"==typeof x?x.value:x,E5(A)?null:A}(e.limit));let m=null;var x;e.startAt&&(m=new E3((x=e.startAt).values||[],!!x.before));let _=null;return e.endAt&&(_=function(x){return new E3(x.values||[],!x.before)}(e.endAt)),EB(t,i,u,a,f,"F",m,_)}function uU(n){return n?void 0!==n.unaryFilter?[Pfe(n)]:void 0!==n.fieldFilter?[Ofe(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>uU(t)).reduce((t,e)=>t.concat(e)):gt():[]}function kfe(n){return Efe[n]}function Rfe(n){return Nfe[n]}function su(n){return{fieldPath:n.canonicalString()}}function ou(n){return Tr.fromServerFormat(n.fieldPath)}function Ofe(n){return Ri.create(ou(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Pfe(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ou(n.unaryFilter.field);return Ri.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ou(n.unaryFilter.field);return Ri.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ou(n.unaryFilter.field);return Ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ou(n.unaryFilter.field);return Ri.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}function Ffe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function dU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function b2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fU(t)),t=Bfe(n.get(e),t);return fU(t)}function Bfe(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function fU(n){return n+"\x01\x01"}function Go(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const e=t-2,r=[];let i="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&gt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:gt()}a=u+2}return new mn(r)}const hU=["userId","batchId"];function vy(n,t){return[n,b2(t)]}function pU(n,t,e){return[n,b2(t),e]}const Ufe={},Gfe=["prefixPath","collectionGroup","readTime","documentId"],jfe=["prefixPath","collectionGroup","documentId"],$fe=["collectionGroup","readTime","prefixPath","documentId"],Wfe=["canonicalId","targetId"],qfe=["targetId","path"],Zfe=["path","targetId"],Yfe=["collectionId","parent"],Kfe=["indexId","uid"],Qfe=["uid","sequenceNumber"],Jfe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xfe=["indexId","uid","orderedDocumentKey"],e5e=["userId","collectionPath","documentId"],t5e=["userId","collectionPath","largestBatchId"],n5e=["userId","collectionGroup","largestBatchId"],gU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r5e=[...gU,"documentOverlays"],mU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vU=mU,i5e=[...vU,"indexConfiguration","indexState","indexEntries"];class oA extends cB{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Di(n,t){const e=rt(n);return to.M(e.ie,t)}class aA{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&Cfe(a,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=k5(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=k5(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=KB();return this.mutations.forEach(i=>{const a=t.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=e.has(i.key)?null:f;const m=BB(u,f);null!==m&&r.set(i.key,m),u.isValidDocument()||u.convertToNoDocument(Pt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Xt())}isEqual(t){return this.batchId===t.batchId&&Y0(this.mutations,t.mutations,(e,r)=>UB(e,r))&&Y0(this.baseMutations,t.baseMutations,(e,r)=>UB(e,r))}}class cA{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Ot(t.mutations.length===r.length);let i=xfe;const a=t.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new cA(t,e,r,i)}}class lA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class I3{constructor(t,e,r,i,a=Pt.min(),u=Pt.min(),f=li.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new I3(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new I3(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new I3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class yU{constructor(t){this.re=t}}function _U(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:yy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:U5(i=n.re,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:B5(i,a.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:Ml(t.version)};else{if(!t.isUnknownDocument())return gt();r.unknownDocument={path:e.path.toArray(),version:Ml(t.version)}}var i,a;return r}function yy(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ml(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wl(n){const t=new _r(n.seconds,n.nanoseconds);return Pt.fromTimestamp(t)}function xl(n,t){const e=(t.baseMutations||[]).map(a=>iA(n.re,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const r=t.mutations.map(a=>iA(n.re,a)),i=_r.fromMillis(t.localWriteTimeMs);return new aA(t.batchId,i,e,r)}function $5(n){const t=wl(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?wl(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=C2(X0(iU(i.documents[0])))):r=C2(lU(n.query)),new I3(r,n.targetId,0,n.lastListenSequenceNumber,t,e,li.fromBase64String(n.resumeToken))}function CU(n,t){const e=Ml(t.snapshotVersion),r=Ml(t.lastLimboFreeSnapshotVersion);let i;i=ly(t.target)?cU(n.re,t.target):sA(n.re,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:_l(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uA(n){const t=lU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dy(t,t.limit,"L"):t}function dA(n,t){return new lA(t.largestBatchId,iA(n.re,t.overlayMutation))}function bU(n,t){const e=t.path.lastSegment();return[n,b2(t.path.popLast()),e]}function MU(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Ml(r.readTime),documentKey:b2(r.documentKey.path),largestBatchId:r.largestBatchId}}class o5e{getBundleMetadata(t,e){return wU(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:wl(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return wU(t).put({bundleId:(r=e).id,createTime:Ml(xi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return xU(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:uA(i.bundledQuery),readTime:wl(i.readTime)};var i})}saveNamedQuery(t,e){return xU(t).put({name:(r=e).name,readTime:Ml(xi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wU(n){return Di(n,"bundles")}function xU(n){return Di(n,"namedQueries")}class _y{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new _y(t,e.uid||"")}getOverlay(t,e){return W5(t).get(bU(this.userId,e)).next(r=>r?dA(this.It,r):null)}getOverlays(t,e){const r=Bo();return fe.forEach(e,i=>this.getOverlay(t,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(t,e,r){const i=[];return r.forEach((a,u)=>{const f=new lA(e,u);i.push(this.ue(t,f))}),fe.waitFor(i)}removeOverlaysForBatchId(t,e,r){const i=new Set;e.forEach(u=>i.add(b2(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(W5(t).Y("collectionPathOverlayIndex",f))}),fe.waitFor(a)}getOverlaysForCollection(t,e,r){const i=Bo(),a=b2(e),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return W5(t).W("collectionPathOverlayIndex",u).next(f=>{for(const m of f){const _=dA(this.It,m);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(t,e,r,i){const a=Bo();let u;const f=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return W5(t).Z({index:"collectionGroupOverlayIndex",range:f},(m,_,x)=>{const A=dA(this.It,_);a.size()<i||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):x.done()}).next(()=>a)}ue(t,e){return W5(t).put(function(r,i,a){const[u,f,m]=bU(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:j5(r.re,a.mutation)}}(this.It,this.userId,e))}}function W5(n){return Di(n,"documentOverlays")}class Dl{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Hr(t.integerValue));else if("doubleValue"in t){const r=Hr(t.doubleValue);isNaN(r)?this.le(e,13):(this.le(e,15),N5(r)?e.fe(0):e.fe(r))}else if("timestampValue"in t){const r=t.timestampValue;this.le(e,20),"string"==typeof r?e.de(r):(e.de(`${r.seconds||""}`),e.fe(r.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(ml(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.le(e,45),e.fe(r.latitude||0),e.fe(r.longitude||0)}else"mapValue"in t?yB(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):gt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const r=t.fields||{};this.le(e,55);for(const i of Object.keys(r))this._e(i,e),this.ae(r[i],e)}pe(t,e){const r=t.values||[];this.le(e,50);for(const i of r)this.ae(i,e)}ge(t,e){this.le(e,37),Xe.fromName(t).path.forEach(r=>{this.le(e,60),this.Ie(r,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function a5e(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function DU(n){const t=64-function(e){let r=0;for(let i=0;i<8;++i){const a=a5e(255&e[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(t/8)}Dl.Te=new Dl;class c5e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ae(r.value),r=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Pe(r.value),r=e.next();this.ve()}Ve(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=e.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=e.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(t){const e=this.Ce(t),r=DU(e);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=255&e[i]}Ne(t){const e=this.Ce(t),r=DU(e);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let i=1;i<e.length;++i)e[i]^=r?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class l5e{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class u5e{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class q5{constructor(){this.Be=new c5e,this.Le=new l5e(this.Be),this.Ue=new u5e(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Sl{constructor(t,e,r,i){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=i}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new Sl(this.indexId,this.documentKey,this.arrayValue,r)}}function Al(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=SU(n.arrayValue,t.arrayValue),0!==e?e:(e=SU(n.directionalValue,t.directionalValue),0!==e?e:Xe.comparator(n.documentKey,t.documentKey)))}function SU(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class d5e{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const r=e;r.dt()?this.je=r:this.Qe.push(r)}}We(t){const e=GS(t);if(void 0!==e&&!this.ze(e))return!1;const r=hl(t);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class f5e{constructor(){this.Ye=new fA}addToCollectionParentIndex(t,e){return this.Ye.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(S1.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(S1.min())}updateCollectionGroup(t,e,r){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class fA{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Pn(mn.comparator),a=!i.has(r);return this.index[e]=i.add(r),a}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Pn(mn.comparator)).toArray()}}const Cy=new Uint8Array(0);class h5e{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new fA,this.Ze=new N3(r=>_l(r),(r,i)=>H5(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const a={collectionId:r,parent:b2(i)};return AU(t).put(a)}return fe.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[iB(e),""],!1,!0);return AU(t).W(i).next(a=>{for(const u of a){if(u.collectionId!==e)break;r.push(Go(u.parent))}return r})}addFieldIndex(t,e){const r=by(t),i={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=r.add(i);if(e.indexState){const u=Y5(t);return a.next(f=>{u.put(MU(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const r=by(t),i=Y5(t),a=Z5(t);return r.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=Z5(t);let i=!0;const a=new Map;return fe.forEach(this.tn(e),u=>this.en(t,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=Xt();const f=[];return fe.forEach(a,(m,_)=>{var x;Ge("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${_l(e)}`);const A=function(Ze,qe){const je=GS(qe);if(void 0===je)return null;for(const Je of uy(Ze,je.fieldPath))switch(Je.op){case"array-contains-any":return Je.value.arrayValue.values||[];case"array-contains":return[Je.value]}return null}(_,m),z=function(Ze,qe){const je=new Map;for(const Je of hl(qe))for(const It of uy(Ze,Je.fieldPath))switch(It.op){case"==":case"in":je.set(Je.fieldPath.canonicalString(),It.value);break;case"not-in":case"!=":return je.set(Je.fieldPath.canonicalString(),It.value),Array.from(je.values())}return null}(_,m),P=function(Ze,qe){const je=[];let Je=!0;for(const It of hl(qe)){const an=0===It.kind?wB(Ze,It.fieldPath,Ze.startAt):xB(Ze,It.fieldPath,Ze.startAt);je.push(an.value),Je&&(Je=an.inclusive)}return new E3(je,Je)}(_,m),Y=function(Ze,qe){const je=[];let Je=!0;for(const It of hl(qe)){const an=0===It.kind?xB(Ze,It.fieldPath,Ze.endAt):wB(Ze,It.fieldPath,Ze.endAt);je.push(an.value),Je&&(Je=an.inclusive)}return new E3(je,Je)}(_,m),re=this.nn(m,_,P),ue=this.nn(m,_,Y),Ie=this.sn(m,_,z),Re=this.rn(m.indexId,A,re,P.inclusive,ue,Y.inclusive,Ie);return fe.forEach(Re,Ze=>r.J(Ze,e.limit).next(qe=>{qe.forEach(je=>{const Je=Xe.fromSegments(je.documentKey);u.has(Je)||(u=u.add(Je),f.push(Je))})}))}).next(()=>f)}return fe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,r,i,a,u,f){const m=(null!=e?e.length:1)*Math.max(r.length,a.length),_=m/(null!=e?e.length:1),x=[];for(let A=0;A<m;++A){const z=e?this.on(e[A/_]):Cy,P=this.un(t,z,r[A%_],i),Y=this.cn(t,z,a[A%_],u),re=f.map(ue=>this.un(t,z,ue,!0));x.push(...this.createRange(P,Y,re))}return x}un(t,e,r,i){const a=new Sl(t,Xe.empty(),e,r);return i?a:a.Ke()}cn(t,e,r,i){const a=new Sl(t,Xe.empty(),e,r);return i?a.Ke():a}en(t,e){const r=new d5e(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(a=>{let u=null;for(const f of a)r.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(t,e){let r=2;return fe.forEach(this.tn(e),i=>this.en(t,i).next(a=>{a?0!==r&&a.fields.length<function(u){let f=new Pn(Tr.comparator),m=!1;for(const _ of u.filters){const x=_;x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?m=!0:f=f.add(x.field))}for(const _ of u.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(m?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(t,e){const r=new q5;for(const i of hl(t)){const a=e.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);Dl.Te.ce(a,u)}return r.$e()}on(t){const e=new q5;return Dl.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const r=new q5;return Dl.Te.ce(yl(this.databaseId,e),r.qe(function(i){const a=hl(i);return 0===a.length?0:a[a.length-1].kind}(t))),r.$e()}sn(t,e,r){if(null===r)return[];let i=[];i.push(new q5);let a=0;for(const u of hl(t)){const f=r[a++];for(const m of i)if(this.ln(e,u.fieldPath)&&T5(f))i=this.fn(i,u,f);else{const _=m.qe(u.kind);Dl.Te.ce(f,_)}}return this.dn(i)}nn(t,e,r){return this.sn(t,e,r.position)}dn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].$e();return e}fn(t,e,r){const i=[...t],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const m=new q5;m.seed(f.$e()),Dl.Te.ce(u,m.qe(e.kind)),a.push(m)}return a}ln(t,e){return!!t.filters.find(r=>r instanceof Ri&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=by(t),i=Y5(t);return(e?r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.W()).next(a=>{const u=[];return fe.forEach(a,f=>i.get([f.indexId,this.uid]).next(m=>{u.push(function(_,x){const A=x?new D5(x.sequenceNumber,new S1(wl(x.readTime),new Xe(Go(x.documentKey)),x.largestBatchId)):D5.empty(),z=_.fields.map(([P,Y])=>new iy(Tr.fromServerFormat(P),Y));return new ry(_.indexId,_.collectionGroup,z,A)}(f,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Wt(r.collectionGroup,i.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const i=by(t),a=Y5(t);return this._n(t).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>fe.forEach(f,m=>a.put(MU(m.indexId,this.user,u,r)))))}updateIndexEntries(t,e){const r=new Map;return fe.forEach(e,(i,a)=>{const u=r.get(i.collectionGroup);return(u?fe.resolve(u):this.getFieldIndexes(t,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),fe.forEach(f,m=>this.wn(t,i,m).next(_=>{const x=this.mn(a,m);return _.isEqual(x)?fe.resolve():this.gn(t,a,m,_,x)}))))})}yn(t,e,r,i){return Z5(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,e.key),documentKey:e.key.path.toArray()})}pn(t,e,r,i){return Z5(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,e.key),e.key.path.toArray()])}wn(t,e,r){const i=Z5(t);let a=new Pn(Al);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,e)])},(u,f)=>{a=a.add(new Sl(r.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>a)}mn(t,e){let r=new Pn(Al);const i=this.an(e,t);if(null==i)return r;const a=GS(e);if(null!=a){const u=t.data.field(a.fieldPath);if(T5(u))for(const f of u.arrayValue.values||[])r=r.add(new Sl(e.indexId,t.key,this.on(f),i))}else r=r.add(new Sl(e.indexId,t.key,Cy,i));return r}gn(t,e,r,i,a){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(f,m,_,x,A){const z=f.getIterator(),P=m.getIterator();let Y=K0(z),re=K0(P);for(;Y||re;){let ue=!1,Ie=!1;if(Y&&re){const Re=_(Y,re);Re<0?Ie=!0:Re>0&&(ue=!0)}else null!=Y?Ie=!0:ue=!0;ue?(x(re),re=K0(P)):Ie?(A(Y),Y=K0(z)):(Y=K0(z),re=K0(P))}}(i,a,Al,f=>{u.push(this.yn(t,e,r,f))},f=>{u.push(this.pn(t,e,r,f))}),fe.waitFor(u)}_n(t){let e=1;return Y5(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((u,f)=>Al(u,f)).filter((u,f,m)=>!f||0!==Al(u,m[f-1]));const i=[];i.push(t);for(const u of r){const f=Al(u,t),m=Al(u,e);if(0===f)i[0]=t.Ke();else if(f>0&&m<0)i.push(u),i.push(u.Ke());else if(m>0)break}i.push(e);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Cy,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Cy,[]]));return a}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(EU)}getMinOffset(t,e){return fe.mapArray(this.tn(e),r=>this.en(t,r).next(i=>i||gt())).next(EU)}}function AU(n){return Di(n,"collectionParents")}function Z5(n){return Di(n,"indexEntries")}function by(n){return Di(n,"indexConfiguration")}function Y5(n){return Di(n,"indexState")}function EU(n){Ot(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;jS(i,t)<0&&(t=i),e<i.largestBatchId&&(e=i.largestBatchId)}return new S1(t.readTime,t.documentKey,e)}const NU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class q2{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new q2(t,q2.DEFAULT_COLLECTION_PERCENTILE,q2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function IU(n,t,e){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let f=0;const m=r.Z({range:u},(x,A,z)=>(f++,z.delete()));a.push(m.next(()=>{Ot(1===f)}));const _=[];for(const x of e.mutations){const A=pU(t,x.key.path,e.batchId);a.push(i.delete(A)),_.push(x.key)}return fe.waitFor(a).next(()=>_)}function My(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw gt();t=n.noDocument}return JSON.stringify(t).length}q2.DEFAULT_COLLECTION_PERCENTILE=10,q2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,q2.DEFAULT=new q2(41943040,q2.DEFAULT_COLLECTION_PERCENTILE,q2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),q2.DISABLED=new q2(-1,0,0);class wy{constructor(t,e,r,i){this.userId=t,this.It=e,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(t,e,r,i){Ot(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new wy(a,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return T3(t).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const a=au(t),u=T3(t);return u.add({}).next(f=>{Ot("number"==typeof f);const m=new aA(f,e,r,i),_=function(z,P,Y){const re=Y.baseMutations.map(Ie=>j5(z.re,Ie)),ue=Y.mutations.map(Ie=>j5(z.re,Ie));return{userId:P,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:re,mutations:ue}}(this.It,this.userId,m),x=[];let A=new Pn((z,P)=>Wt(z.canonicalString(),P.canonicalString()));for(const z of i){const P=pU(this.userId,z.key.path,f);A=A.add(z.key.path.popLast()),x.push(u.put(_)),x.push(a.put(P,Ufe))}return A.forEach(z=>{x.push(this.indexManager.addToCollectionParentIndex(t,z))}),t.addOnCommittedListener(()=>{this.In[f]=m.keys()}),fe.waitFor(x).next(()=>m)})}lookupMutationBatch(t,e){return T3(t).get(e).next(r=>r?(Ot(r.userId===this.userId),xl(this.It,r)):null)}Tn(t,e){return this.In[e]?fe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.In[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return T3(t).Z({index:"userMutationsIndex",range:i},(u,f,m)=>{f.userId===this.userId&&(Ot(f.batchId>=r),a=xl(this.It,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return T3(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return T3(t).W("userMutationsIndex",e).next(r=>r.map(i=>xl(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=vy(this.userId,e.path),i=IDBKeyRange.lowerBound(r),a=[];return au(t).Z({range:i},(u,f,m)=>{const[_,x,A]=u,z=Go(x);if(_===this.userId&&e.path.isEqual(z))return T3(t).get(A).next(P=>{if(!P)throw gt();Ot(P.userId===this.userId),a.push(xl(this.It,P))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pn(Wt);const i=[];return e.forEach(a=>{const u=vy(this.userId,a.path),f=IDBKeyRange.lowerBound(u),m=au(t).Z({range:f},(_,x,A)=>{const[z,P,Y]=_,re=Go(P);z===this.userId&&a.path.isEqual(re)?r=r.add(Y):A.done()});i.push(m)}),fe.waitFor(i).next(()=>this.En(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,a=vy(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new Pn(Wt);return au(t).Z({range:u},(m,_,x)=>{const[A,z,P]=m,Y=Go(z);A===this.userId&&r.isPrefixOf(Y)?Y.length===i&&(f=f.add(P)):x.done()}).next(()=>this.En(t,f))}En(t,e){const r=[],i=[];return e.forEach(a=>{i.push(T3(t).get(a).next(u=>{if(null===u)throw gt();Ot(u.userId===this.userId),r.push(xl(this.It,u))}))}),fe.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return IU(t.ie,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),fe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return au(t).Z({range:r},(a,u,f)=>{if(a[0]===this.userId){const m=Go(a[1]);i.push(m)}else f.done()}).next(()=>{Ot(0===i.length)})})}containsKey(t,e){return TU(t,this.userId,e)}Rn(t){return VU(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TU(n,t,e){const r=vy(t,e.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return au(n).Z({range:a,X:!0},(f,m,_)=>{const[x,A,z]=f;x===t&&A===i&&(u=!0),_.done()}).next(()=>u)}function T3(n){return Di(n,"mutations")}function au(n){return Di(n,"documentMutations")}function VU(n){return Di(n,"mutationQueues")}class El{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new El(0)}static vn(){return new El(-1)}}class p5e{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const r=new El(e.highestTargetId);return e.highestTargetId=r.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Pt.fromTimestamp(new _r(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.Vn(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Sn(t,i)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(r=>(r.targetCount+=1,this.Cn(e,r),this.Sn(t,r))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>cu(t).delete(e.targetId)).next(()=>this.Vn(t)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.Sn(t,r)))}removeTargets(t,e,r){let i=0;const a=[];return cu(t).Z((u,f)=>{const m=$5(f);m.sequenceNumber<=e&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(t,m)))}).next(()=>fe.waitFor(a)).next(()=>i)}forEachTarget(t,e){return cu(t).Z((r,i)=>{const a=$5(i);e(a)})}Vn(t){return HU(t).get("targetGlobalKey").next(e=>(Ot(null!==e),e))}Sn(t,e){return HU(t).put("targetGlobalKey",e)}Dn(t,e){return cu(t).put(CU(this.It,e))}Cn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=_l(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return cu(t).Z({range:i,index:"queryTargetsIndex"},(u,f,m)=>{const _=$5(f);H5(e,_.target)&&(a=_,m.done())}).next(()=>a)}addMatchingKeys(t,e,r){const i=[],a=V3(t);return e.forEach(u=>{const f=b2(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(t,r,u))}),fe.waitFor(i)}removeMatchingKeys(t,e,r){const i=V3(t);return fe.forEach(e,a=>{const u=b2(a.path);return fe.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(t,r,a)])})}removeMatchingKeysForTargetId(t,e){const r=V3(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=V3(t);let a=Xt();return i.Z({range:r,X:!0},(u,f,m)=>{const _=Go(u[1]),x=new Xe(_);a=a.add(x)}).next(()=>a)}containsKey(t,e){const r=b2(e.path),i=IDBKeyRange.bound([r],[iB(r)],!1,!0);let a=0;return V3(t).Z({index:"documentTargetsIndex",X:!0,range:i},([u,f],m,_)=>{0!==u&&(a++,_.done())}).next(()=>a>0)}se(t,e){return cu(t).get(e).next(r=>r?$5(r):null)}}function cu(n){return Di(n,"targets")}function HU(n){return Di(n,"targetGlobal")}function V3(n){return Di(n,"targetDocuments")}function LU([n,t],[e,r]){const i=Wt(n,e);return 0===i?Wt(t,r):i}class g5e{constructor(t){this.xn=t,this.buffer=new Pn(LU),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();LU(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class m5e{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,De.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){w3(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield M3(r)}yield e.Fn(3e5)}))}}class v5e{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return fe.resolve($2.at);const r=new g5e(e);return this.$n.forEachTarget(t,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(t,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.$n.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(NU)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NU):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let r,i,a,u,f,m,_;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(t,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(t,r,e))).next(A=>(a=A,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(A=>(_=Date.now(),BS()<=y3.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-x}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${A} documents in `+(_-m)+`ms\nTotal Duration: ${_-x}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class y5e{constructor(t,e){this.db=t,this.garbageCollector=new v5e(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}qn(t){let e=0;return this.Ln(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(r,i)=>e(i))}addReference(t,e,r){return xy(t,r)}removeReference(t,e,r){return xy(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return xy(t,e)}Gn(t,e){return function(r,i){let a=!1;return VU(r).tt(u=>TU(r,u,i).next(f=>(f&&(a=!0),fe.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(t,(u,f)=>{if(f<=e){const m=this.Gn(t,u).next(_=>{if(!_)return a++,r.getEntry(t,u).next(()=>(r.removeEntry(u,Pt.min()),V3(t).delete([0,b2(u.path)])))});i.push(m)}}).next(()=>fe.waitFor(i)).next(()=>r.apply(t)).next(()=>a)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return xy(t,e)}Kn(t,e){const r=V3(t);let i,a=$2.at;return r.Z({index:"documentTargetsIndex"},([u,f],{path:m,sequenceNumber:_})=>{0===u?(a!==$2.at&&e(new Xe(Go(i)),a),a=_,i=m):a=$2.at}).next(()=>{a!==$2.at&&e(new Xe(Go(i)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function xy(n,t){return V3(n).put((r=n.currentSequenceNumber,{targetId:0,path:b2(t.path),sequenceNumber:r}));var r}class zU{constructor(){this.changes=new N3(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?fe.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _5e{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Nl(t).put(r)}removeEntry(t,e,r){return Nl(t).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],yy(a),u[u.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Qn(t,r)))}getEntry(t,e){let r=tr.newInvalidDocument(e);return Nl(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(K5(e))},(i,a)=>{r=this.jn(e,a)}).next(()=>r)}Wn(t,e){let r={size:0,document:tr.newInvalidDocument(e)};return Nl(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(K5(e))},(i,a)=>{r={document:this.jn(e,a),size:My(a)}}).next(()=>r)}getEntries(t,e){let r=W2();return this.zn(t,e,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(t,e){let r=W2(),i=new Vr(Xe.comparator);return this.zn(t,e,(a,u)=>{const f=this.jn(a,u);r=r.insert(a,f),i=i.insert(a,My(u))}).next(()=>({documents:r,Jn:i}))}zn(t,e,r){if(e.isEmpty())return fe.resolve();let i=new Pn(PU);e.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(K5(i.first()),K5(i.last())),u=i.getIterator();let f=u.getNext();return Nl(t).Z({index:"documentKeyIndex",range:a},(m,_,x)=>{const A=Xe.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;f&&PU(f,A)<0;)r(f,null),f=u.getNext();f&&f.isEqual(A)&&(r(f,_),f=u.hasNext()?u.getNext():null),f?x.j(K5(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,r){const i=[e.popLast().toArray(),e.lastSegment(),yy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nl(t).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=W2();for(const m of u){const _=this.jn(Xe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);f=f.insert(_.key,_)}return f})}getAllFromCollectionGroup(t,e,r,i){let a=W2();const u=OU(e,r),f=OU(e,S1.max());return Nl(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(m,_,x)=>{const A=this.jn(Xe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);a=a.insert(A.key,A),a.size===i&&x.done()}).next(()=>a)}newChangeBuffer(t){return new C5e(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return RU(t).get("remoteDocumentGlobalKey").next(e=>(Ot(!!e),e))}Qn(t,e){return RU(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const r=function s5e(n,t){let e;if(t.document)e=aU(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Xe.fromSegments(t.noDocument.path),i=wl(t.noDocument.readTime);e=tr.newNoDocument(r,i),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return gt();{const r=Xe.fromSegments(t.unknownDocument.path),i=wl(t.unknownDocument.version);e=tr.newUnknownDocument(r,i)}}return t.readTime&&e.setReadTime(function(r){const i=new _r(r[0],r[1]);return Pt.fromTimestamp(i)}(t.readTime)),e}(this.It,e);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return tr.newInvalidDocument(t)}}function kU(n){return new _5e(n)}class C5e extends zU{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new N3(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Pn((a,u)=>Wt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Xn.get(a);if(e.push(this.Yn.removeEntry(t,a,f.readTime)),u.isValidDocument()){const m=_U(this.Yn.It,u);i=i.add(a.path.popLast()),r+=My(m)-f.size,e.push(this.Yn.addEntry(t,a,m))}else if(r-=f.size,this.trackRemovals){const m=_U(this.Yn.It,u.convertToNoDocument(Pt.min()));e.push(this.Yn.addEntry(t,a,m))}}),i.forEach(a=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.Yn.updateMetadata(t,r)),fe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(r=>(this.Xn.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function RU(n){return Di(n,"remoteDocumentGlobal")}function Nl(n){return Di(n,"remoteDocumentsV14")}function K5(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function OU(n,t){const e=t.documentKey.path.toArray();return[n,yy(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function PU(n,t){const e=n.path.toArray(),r=t.path.toArray();let i=0;for(let a=0;a<e.length-2&&a<r.length-2;++a)if(i=Wt(e[a],r[a]),i)return i;return i=Wt(e.length,r.length),i||(i=Wt(e[e.length-2],r[r.length-2]),i||Wt(e[e.length-1],r[r.length-1]))}class b5e{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class FU{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.getBaseDocument(t,e,r))).next(i=>(null!==r&&k5(r.mutation,i,A1.empty(),_r.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Xt()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Xt()){const i=Bo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(a=>{let u=R5();return a.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const r=Bo();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Xt()))}populateOverlays(t,e,r){const i=[];return r.forEach(a=>{e.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((u,f)=>{e.set(u,f)})})}computeViews(t,e,r,i){let a=W2();const u=O5(),f=O5();return e.forEach((m,_)=>{const x=r.get(_.key);i.has(_.key)&&(void 0===x||x.mutation instanceof Ga)?a=a.insert(_.key,_):void 0!==x&&(u.set(_.key,x.mutation.getFieldMask()),k5(x.mutation,_,x.mutation.getFieldMask(),_r.now()))}),this.recalculateAndSaveOverlays(t,a).next(m=>(m.forEach((_,x)=>u.set(_,x)),e.forEach((_,x)=>{var A;return f.set(_,new b5e(x,null!==(A=u.get(_))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(t,e){const r=O5();let i=new Vr((u,f)=>u-f),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const f of u)f.keys().forEach(m=>{const _=e.get(m);if(null===_)return;let x=r.get(m)||A1.empty();x=f.applyToLocalView(_,x),r.set(m,x);const A=(i.get(f.batchId)||Xt()).add(m);i=i.insert(f.batchId,A)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),_=m.key,x=m.value,A=KB();x.forEach(z=>{if(!a.has(z)){const P=BB(e.get(z),r.get(z));null!==P&&A.set(z,P),a=a.add(z)}}),u.push(this.documentOverlayCache.saveOverlays(t,_,A))}return fe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return Xe.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):JS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var i}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-a.size):fe.resolve(Bo());let f=-1,m=a;return u.next(_=>fe.forEach(_,(x,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(x)?fe.resolve():this.getBaseDocument(t,x,A).next(z=>{m=m.insert(x,z)}))).next(()=>this.populateOverlays(t,_,a)).next(()=>this.computeViews(t,m,_,Xt())).next(x=>({batchId:f,changes:YB(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xe(e)).next(r=>{let i=R5();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const i=e.collectionGroup;let a=R5();return this.indexManager.getCollectionParents(t,i).next(u=>fe.forEach(u,f=>{const m=(_=e,x=f.child(i),new Ua(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,x;return this.getDocumentsMatchingCollectionQuery(t,m,r).next(_=>{_.forEach((x,A)=>{a=a.insert(x,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,r){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId))).next(a=>{a.forEach((f,m)=>{const _=m.getKey();null===i.get(_)&&(i=i.insert(_,tr.newInvalidDocument(_)))});let u=R5();return i.forEach((f,m)=>{const _=a.get(f);void 0!==_&&k5(_.mutation,m,A1.empty(),_r.now()),eA(e,m)&&(u=u.insert(f,m))}),u})}getBaseDocument(t,e,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(t,e):fe.resolve(tr.newInvalidDocument(e))}}class M5e{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return fe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var r;return this.Zn.set(e.id,{id:(r=e).id,version:r.version,createTime:xi(r.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(r=e).name,query:uA(r.bundledQuery),readTime:xi(r.readTime)}),fe.resolve();var r}}class w5e{constructor(){this.overlays=new Vr(Xe.comparator),this.es=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Bo();return fe.forEach(e,i=>this.getOverlay(t,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,a)=>{this.ue(t,e,a)}),fe.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),fe.resolve()}getOverlaysForCollection(t,e,r){const i=Bo(),a=e.length+1,u=new Xe(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,_=m.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return fe.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let a=new Vr((_,x)=>_-x);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>r){let x=a.get(_.largestBatchId);null===x&&(x=Bo(),a=a.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const f=Bo(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,x)=>f.set(_,x)),!(f.size()>=i)););return fe.resolve(f)}ue(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new lA(e,r));let a=this.es.get(e);void 0===a&&(a=Xt(),this.es.set(e,a)),this.es.set(e,a.add(r.key))}}class hA{constructor(){this.ns=new Pn(Si.ss),this.rs=new Pn(Si.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const r=new Si(t,e);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.cs(new Si(t,e))}hs(t,e){t.forEach(r=>this.removeReference(r,e))}ls(t){const e=new Xe(new mn([])),r=new Si(e,t),i=new Si(e,t+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Xe(new mn([])),r=new Si(e,t),i=new Si(e,t+1);let a=Xt();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new Si(t,0),r=this.ns.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Si{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Xe.comparator(t.key,e.key)||Wt(t._s,e._s)}static os(t,e){return Wt(t._s,e._s)||Xe.comparator(t.key,e.key)}}class x5e{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Pn(Si.ss)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const a=this.ws;this.ws++;const u=new aA(a,e,r,i);this.mutationQueue.push(u);for(const f of i)this.gs=this.gs.add(new Si(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(t,e){return fe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.ps(e+1),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Si(e,0),i=new Si(e,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const f=this.ys(u._s);a.push(f)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pn(Wt);return e.forEach(i=>{const a=new Si(i,0),u=new Si(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],f=>{r=r.add(f._s)})}),fe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const u=new Si(new Xe(a),0);let f=new Pn(Wt);return this.gs.forEachWhile(m=>{const _=m.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(f=f.add(m._s)),!0)},u),fe.resolve(this.Is(f))}Is(t){const e=[];return t.forEach(r=>{const i=this.ys(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Ot(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return fe.forEach(e.mutations,i=>{const a=new Si(i.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.gs=r})}An(t){}containsKey(t,e){const r=new Si(e,0),i=this.gs.firstAfterOrEqual(r);return fe.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return fe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class D5e{constructor(t){this.Es=t,this.docs=new Vr(Xe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return fe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(e))}getEntries(t,e){let r=W2();return e.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():tr.newInvalidDocument(i))}),fe.resolve(r)}getAllFromCollection(t,e,r){let i=W2();const a=new Xe(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:m}}=u.getNext();if(!e.isPrefixOf(f.path))break;f.path.length>e.length+1||jS(oB(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(t,e,r,i){gt()}As(t,e){return fe.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new S5e(this)}getSize(t){return fe.resolve(this.size)}}class S5e extends zU{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(r)}),fe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class A5e{constructor(t){this.persistence=t,this.Rs=new N3(e=>_l(e),H5),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new hA,this.targetCount=0,this.vs=El.Pn()}forEachTarget(t,e){return this.Rs.forEach((r,i)=>e(i)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.bs&&(this.bs=e),fe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new El(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Dn(e),fe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,r){let i=0;const a=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const r=this.Rs.get(e)||null;return fe.resolve(r)}addMatchingKeys(t,e,r){return this.Ps.us(e,r),fe.resolve()}removeMatchingKeys(t,e,r){this.Ps.hs(e,r);const i=this.persistence.referenceDelegate,a=[];return i&&e.forEach(u=>{a.push(i.markPotentiallyOrphaned(t,u))}),fe.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Ps.ds(e);return fe.resolve(r)}containsKey(t,e){return fe.resolve(this.Ps.containsKey(e))}}class BU{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new $2(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new A5e(this),this.indexManager=new f5e,this.remoteDocumentCache=new D5e(r=>this.referenceDelegate.xs(r)),this.It=new yU(e),this.Ns=new M5e(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new w5e,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Vs[t.toKey()];return r||(r=new x5e(e,this.referenceDelegate),this.Vs[t.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,r){Ge("MemoryPersistence","Starting transaction:",t);const i=new E5e(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(t,e){return fe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(t,e)))}}class E5e extends cB{constructor(t){super(),this.currentSequenceNumber=t}}class Dy{constructor(t){this.persistence=t,this.Fs=new hA,this.$s=null}static Bs(t){return new Dy(t)}get Ls(){if(this.$s)return this.$s;throw gt()}addReference(t,e,r){return this.Fs.addReference(r,e),this.Ls.delete(r.toString()),fe.resolve()}removeReference(t,e,r){return this.Fs.removeReference(r,e),this.Ls.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ls,r=>{const i=Xe.fromPath(r);return this.Us(t,i).next(a=>{a||e.removeEntry(i,Pt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(r=>{r?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return fe.or([()=>fe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class N5e{constructor(t){this.It=t}$(t,e,r,i){const a=new sy("createOrUpgrade",e);var f;r<1&&i>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hU,{unique:!0}),f.createObjectStore("documentMutations"),UU(t),function(f){f.createObjectStore("remoteDocuments")}(t));let u=fe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),UU(t)),u=u.next(()=>function(f){const m=f.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,m){return m.store("mutations").W().next(_=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hU,{unique:!0});const x=m.store("mutations"),A=_.map(z=>x.put(z));return fe.waitFor(A)})}(t,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(t,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:e5e});m.createIndex("collectionPathOverlayIndex",t5e,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",n5e,{unique:!1})}(t)})),r<13&&i>=13&&(u=u.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:Gfe});m.createIndex("documentKeyIndex",jfe),m.createIndex("collectionGroupIndex",$fe)}(t)).next(()=>this.Ws(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(t,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Kfe}).createIndex("sequenceNumberIndex",Qfe,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Jfe}).createIndex("documentKeyIndex",Xfe,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((r,i)=>{e+=My(i)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.W().next(i=>fe.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(f=>fe.forEach(f,m=>{Ot(m.userId===a.userId);const _=xl(this.It,m);return IU(t,a.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,f)=>{const m=new mn(u),_=[0,b2(m)];a.push(e.get(_).next(x=>x?fe.resolve():e.put({targetId:0,path:b2(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>fe.waitFor(a))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:Yfe});const r=e.store("collectionParents"),i=new fA,a=u=>{if(i.add(u)){const f=u.lastSegment(),m=u.popLast();return r.put({collectionId:f,parent:b2(m)})}};return e.store("remoteDocuments").Z({X:!0},(u,f)=>{const m=new mn(u);return a(m.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,f,m],_)=>{const x=Go(f);return a(x.popLast())}))}js(t){const e=t.store("targets");return e.Z((r,i)=>{const a=$5(i),u=CU(this.It,a);return e.put(u)})}Ws(t,e){const r=e.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const f=e.store("remoteDocumentsV14"),m=(_=u,_.document?new Xe(mn.fromString(_.document.name).popFirst(5)):_.noDocument?Xe.fromSegments(_.noDocument.path):_.unknownDocument?Xe.fromSegments(_.unknownDocument.path):gt()).path.toArray();var _;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(x))}).next(()=>fe.waitFor(i))}zs(t,e){const r=e.store("mutations"),i=kU(this.It),a=new BU(Dy.Bs,this.It.re);return r.W().next(u=>{const f=new Map;return u.forEach(m=>{var _;let x=null!==(_=f.get(m.userId))&&void 0!==_?_:Xt();xl(this.It,m).keys().forEach(A=>x=x.add(A)),f.set(m.userId,x)}),fe.forEach(f,(m,_)=>{const x=new wi(_),A=_y.oe(this.It,x),z=a.getIndexManager(x),P=wy.oe(x,this.It,z,a.referenceDelegate);return new FU(i,P,A,z).recalculateAndSaveOverlaysForDocumentKeys(new oA(e,$2.at),m).next()})})}}function UU(n){n.createObjectStore("targetDocuments",{keyPath:qfe}).createIndex("documentTargetsIndex",Zfe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wfe,{unique:!0}),n.createObjectStore("targetGlobal")}const pA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gA{constructor(t,e,r,i,a,u,f,m,_,x,A=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Hs=a,this.window=u,this.document=f,this.Js=_,this.Ys=x,this.Xs=A,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=z=>Promise.resolve(),!gA.C())throw new Oe(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y5e(this,i),this.ii=e+"main",this.It=new yU(m),this.ri=new to(this.ii,this.Xs,new N5e(this.It)),this.Cs=new p5e(this.referenceDelegate,this.It),this.remoteDocumentCache=kU(this.It),this.Ns=new o5e,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===x&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ve.FAILED_PRECONDITION,pA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new $2(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var r=(0,De.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,De.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,De.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Sy(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(w3(t))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return Q5(t).get("owner").next(e=>fe.resolve(this.mi(e)))}gi(t){return Sy(t).delete(this.clientId)}yi(){var t=this;return(0,De.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Di(r,"clientMetadata");return i.W().next(a=>{const u=t.Ii(a,18e5),f=a.filter(m=>-1===u.indexOf(m));return fe.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(t.oi)for(const r of e)t.oi.removeItem(t.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?fe.resolve(!0):Q5(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Oe(ve.FAILED_PRECONDITION,pA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sy(t).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ge("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,De.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new oA(e,$2.at);return t._i(r).next(()=>t.gi(r))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(r=>this.pi(r.updateTimeMs,e)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>Sy(t).W().next(e=>this.Ii(e,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return wy.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new h5e(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return _y.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,r){Ge("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",a=15===(u=this.Xs)?i5e:14===u?vU:13===u?mU:12===u?r5e:11===u?gU:void gt();var u;let f;return this.ri.runTransaction(t,i,a,m=>(f=new oA(m,this.Ss?this.Ss.next():$2.at),"readwrite-primary"===e?this.fi(f).next(_=>!!_||this.di(f)).next(_=>{if(!_)throw Fr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(ve.FAILED_PRECONDITION,aB);return r(f)}).next(_=>this.wi(f).next(()=>_)):this.Vi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Vi(t){return Q5(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(ve.FAILED_PRECONDITION,pA)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Q5(t).put("owner",e)}static C(){return to.C()}_i(t){const e=Q5(t);return e.get("owner").next(r=>this.mi(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}pi(t,e){const r=Date.now();return!(t<r-e||t>r&&(Fr(`Detected an update time that is in the future: ${t} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_n.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const r=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ge("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Fr("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Q5(n){return Di(n,"owner")}function Sy(n){return Di(n,"clientMetadata")}function mA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class vA{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Si=r,this.Di=i}static Ci(t,e){let r=Xt(),i=Xt();for(const a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new vA(t,e.fromCache,r,i)}}class GU{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,r,i){return this.ki(t,e).next(a=>a||this.Oi(t,e,i,r)).next(a=>a||this.Mi(t,e))}ki(t,e){if(NB(e))return fe.resolve(null);let r=C2(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=dy(e,null,"F"),r=C2(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const u=Xt(...a);return this.Ni.getDocuments(t,u).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const _=this.Fi(e,f);return this.$i(e,_,u,m.readTime)?this.ki(t,dy(e,null,"F")):this.Bi(t,_,e,m)}))})))}Oi(t,e,r,i){return NB(e)||i.isEqual(Pt.min())?this.Mi(t,e):this.Ni.getDocuments(t,r).next(a=>{const u=this.Fi(e,a);return this.$i(e,u,r,i)?this.Mi(t,e):(BS()<=y3.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XS(e)),this.Bi(t,u,e,sB(i,-1)))})}Fi(t,e){let r=new Pn(VB(t));return e.forEach((i,a)=>{eA(t,a)&&(r=r.add(a))}),r}$i(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(t,e){return BS()<=y3.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",XS(e)),this.Ni.getDocumentsMatchingQuery(t,e,S1.min())}Bi(t,e,r,i){return this.Ni.getDocumentsMatchingQuery(t,r,i).next(a=>(e.forEach(u=>{a=a.insert(u.key,u)}),a))}}class I5e{constructor(t,e,r,i){this.persistence=t,this.Li=e,this.It=i,this.Ui=new Vr(Wt),this.qi=new N3(a=>_l(a),H5),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function jU(n,t,e,r){return new I5e(n,t,e,r)}function $U(n,t){return yA.apply(this,arguments)}function yA(){return yA=(0,De.Z)(function*(n,t){const e=rt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,e.Qi(t),e.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let m=Xt();for(const _ of i){u.push(_.batchId);for(const x of _.mutations)m=m.add(x.key)}for(const _ of a){f.push(_.batchId);for(const x of _.mutations)m=m.add(x.key)}return e.localDocuments.getDocuments(r,m).next(_=>({ji:_,removedBatchIds:u,addedBatchIds:f}))})})}),yA.apply(this,arguments)}function T5e(n,t){const e=rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,m,_){const x=m.batch,A=x.keys();let z=fe.resolve();return A.forEach(P=>{z=z.next(()=>_.getEntry(f,P)).next(Y=>{const re=m.docVersions.get(P);Ot(null!==re),Y.version.compareTo(re)<0&&(x.applyToRemoteDocument(Y,m),Y.isValidDocument()&&(Y.setReadTime(m.commitVersion),_.addEntry(Y)))})}),z.next(()=>u.mutationQueue.removeMutationBatch(f,x))}(e,r,t,a).next(()=>a.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Xt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function WU(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function V5e(n,t){const e=rt(n),r=t.snapshotVersion;let i=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});i=e.Ui;const f=[];t.targetChanges.forEach((x,A)=>{const z=i.get(A);if(!z)return;f.push(e.Cs.removeMatchingKeys(a,x.removedDocuments,A).next(()=>e.Cs.addMatchingKeys(a,x.addedDocuments,A)));let P=z.withSequenceNumber(a.currentSequenceNumber);var Y,re,ue;t.targetMismatches.has(A)?P=P.withResumeToken(li.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):x.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(x.resumeToken,r)),i=i.insert(A,P),re=P,ue=x,(0===(Y=z).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&f.push(e.Cs.updateTargetData(a,P))});let m=W2(),_=Xt();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,x))}),f.push(qU(a,u,t.documentUpdates).next(x=>{m=x.Wi,_=x.zi})),!r.isEqual(Pt.min())){const x=e.Cs.getLastRemoteSnapshotVersion(a).next(A=>e.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(x)}return fe.waitFor(f).next(()=>u.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,m,_)).next(()=>m)}).then(a=>(e.Ui=i,a))}function qU(n,t,e){let r=Xt(),i=Xt();return e.forEach(a=>r=r.add(a)),t.getEntries(n,r).next(a=>{let u=W2();return e.forEach((f,m)=>{const _=a.get(f);m.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(Pt.min())?(t.removeEntry(f,m.readTime),u=u.insert(f,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(m),u=u.insert(f,m)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",m.version)}),{Wi:u,zi:i}})}function H5e(n,t){const e=rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function lu(n,t){const e=rt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Cs.getTargetData(r,t).next(a=>a?(i=a,fe.resolve(i)):e.Cs.allocateTargetId(r).next(u=>(i=new I3(t,u,0,r.currentSequenceNumber),e.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(r.targetId,r),e.qi.set(t,r.targetId)),r})}function uu(n,t,e){return _A.apply(this,arguments)}function _A(){return _A=(0,De.Z)(function*(n,t,e){const r=rt(n),i=r.Ui.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!w3(u))throw u;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}r.Ui=r.Ui.remove(t),r.qi.delete(i.target)}),_A.apply(this,arguments)}function Ay(n,t,e){const r=rt(n);let i=Pt.min(),a=Xt();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,m,_){const x=rt(f),A=x.qi.get(_);return void 0!==A?fe.resolve(x.Ui.get(A)):x.Cs.getTargetData(m,_)}(r,u,C2(t)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,f.targetId).next(m=>{a=m})}).next(()=>r.Li.getDocumentsMatchingQuery(u,t,e?i:Pt.min(),e?a:Xt())).next(f=>(KU(r,TB(t),f),{documents:f,Hi:a})))}function ZU(n,t){const e=rt(n),r=rt(e.Cs),i=e.Ui.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",a=>r.se(a,t).next(u=>u?u.target:null))}function YU(n,t){const e=rt(n),r=e.Ki.get(t)||Pt.min();return e.persistence.runTransaction("Get new document changes","readonly",i=>e.Gi.getAllFromCollectionGroup(i,t,sB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(KU(e,t,i),i))}function KU(n,t,e){let r=n.Ki.get(t)||Pt.min();e.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(t,r)}function CA(){return CA=(0,De.Z)(function*(n,t,e,r){const i=rt(n);let a=Xt(),u=W2();for(const _ of e){const x=t.Ji(_.metadata.name);_.document&&(a=a.add(x));const A=t.Yi(_);A.setReadTime(t.Xi(_.metadata.readTime)),u=u.insert(x,A)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),m=yield lu(i,(_=r,C2(X0(mn.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>qU(_,f,u).next(x=>(f.apply(_),x)).next(x=>i.Cs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>i.Cs.addMatchingKeys(_,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,x.Wi,x.zi)).next(()=>x.Wi)))}),CA.apply(this,arguments)}function z5e(n,t){return bA.apply(this,arguments)}function bA(){return bA=(0,De.Z)(function*(n,t,e=Xt()){const r=yield lu(n,C2(uA(t.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=xi(t.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,t);const f=r.withResumeToken(li.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(a,f).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,e,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,t))})}),bA.apply(this,arguments)}function QU(n,t){return`firestore_clients_${n}_${t}`}function JU(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function MA(n,t){return`firestore_targets_${n}_${t}`}class Ey{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static Zi(t,e,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new Ey(t,e,i.state,a):(Fr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class J5{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Zi(t,e){const r=JSON.parse(e);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new J5(t,r.state,i):(Fr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ny{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=gy();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=pB(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new Ny(t,a):(Fr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wA{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wA(e.clientId,e.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class xA{constructor(){this.activeTargetIds=gy()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DA{constructor(t,e,r,i,a){this.window=t,this.Hs=e,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Vr(Wt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=QU(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new xA),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,De.Z)(function*(){const e=yield t.syncEngine.vi();for(const i of e){if(i===t.sr)continue;const a=t.getItem(QU(t.persistenceKey,i));if(a){const u=Ny.Zi(i,a);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const r=t.storage.getItem(t.wr);if(r){const i=t.yr(r);i&&t.pr(i)}for(const i of t.cr)t.rr(i);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,r){this.Tr(t,e,r),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(MA(this.persistenceKey,t));if(r){const i=J5.Zi(t,r);i&&(e=i.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(MA(this.persistenceKey,t))}updateQueryState(t,e,r){this.Rr(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.Er(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ge("SharedClientState","READ",t,e),e}setItem(t,e){Ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,De.Z)(function*(){if(e.started){if(null!==r.key)if(e.lr.test(r.key)){if(null==r.newValue){const i=e.vr(r.key);return e.Vr(i,null)}{const i=e.Sr(r.key,r.newValue);if(i)return e.Vr(i.clientId,i)}}else if(e.dr.test(r.key)){if(null!==r.newValue){const i=e.Dr(r.key,r.newValue);if(i)return e.Cr(i)}}else if(e._r.test(r.key)){if(null!==r.newValue){const i=e.Nr(r.key,r.newValue);if(i)return e.kr(i)}}else if(r.key===e.wr){if(null!==r.newValue){const i=e.yr(r.newValue);if(i)return e.pr(i)}}else if(r.key===e.hr){const i=function(a){let u=$2.at;if(null!=a)try{const f=JSON.parse(a);Ot("number"==typeof f),u=f}catch(f){Fr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==$2.at&&e.sequenceNumberHandler(i)}else if(r.key===e.mr){const i=e.Or(r.newValue);yield Promise.all(i.map(a=>e.syncEngine.Mr(a)))}}else e.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,r){const i=new Ey(this.currentUser,t,e,r),a=JU(this.persistenceKey,this.currentUser,t);this.setItem(a,i.tr())}Er(t){const e=JU(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,r){const i=MA(this.persistenceKey,t),a=new J5(t,e,r);this.setItem(i,a.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const r=this.vr(t);return Ny.Zi(r,e)}Dr(t,e){const r=this.dr.exec(t),i=Number(r[1]);return Ey.Zi(new wi(void 0!==r[2]?r[2]:null),i,e)}Nr(t,e){const r=this._r.exec(t),i=Number(r[1]);return J5.Zi(i,e)}yr(t){return wA.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,De.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const r=e?this.ur.insert(t,e):this.ur.remove(t),i=this.Ir(this.ur),a=this.Ir(r),u=[],f=[];return a.forEach(m=>{i.has(m)||u.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.Br(u,f).then(()=>{this.ur=r})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=gy();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class XU{constructor(){this.Lr=new xA,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,r){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new xA,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class k5e{qr(t){}shutdown(){}}class eG{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const R5e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O5e{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class P5e extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,r,i,a){const u=this.ho(t,e);Ge("RestConnection","Sending: ",u,r);const f={};return this.lo(f,i,a),this.fo(t,u,f,r).then(m=>(Ge("RestConnection","Received: ",m),m),m=>{throw fl("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",r),m})}_o(t,e,r,i,a,u){return this.ao(t,e,r,i,a)}lo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Z0,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}ho(t,e){return`${this.oo}/v1/${e}:${R5e[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,r,i){return new Promise((a,u)=>{const f=new Rde;f.setWithCredentials(!0),f.listenOnce(Lde.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case FS.NO_ERROR:const _=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(_)),a(_);break;case FS.TIMEOUT:Ge("Connection",'RPC "'+t+'" timed out'),u(new Oe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case FS.HTTP_ERROR:const x=f.getStatus();if(Ge("Connection",'RPC "'+t+'" failed with status:',x,"response text:",f.getResponseText()),x>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const z=function(P){const Y=P.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(Y)>=0?Y:ve.UNKNOWN}(A.status);u(new Oe(z,A.message))}else u(new Oe(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(ve.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Ge("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(i);f.send(e,"POST",m,r,15)})}wo(t,e,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Vde(),u=Hde(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new kde({})),this.lo(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const m=i.join("");Ge("Connection","Creating WebChannel: "+m,f);const _=a.createWebChannel(m,f);let x=!1,A=!1;const z=new O5e({Hr:Y=>{A?Ge("Connection","Not sending because WebChannel is closed:",Y):(x||(Ge("Connection","Opening WebChannel transport."),_.open(),x=!0),Ge("Connection","WebChannel sending:",Y),_.send(Y))},Jr:()=>_.close()}),P=(Y,re,ue)=>{Y.listen(re,Ie=>{try{ue(Ie)}catch(Re){setTimeout(()=>{throw Re},0)}})};return P(_,ny.EventType.OPEN,()=>{A||Ge("Connection","WebChannel transport opened.")}),P(_,ny.EventType.CLOSE,()=>{A||(A=!0,Ge("Connection","WebChannel transport closed"),z.io())}),P(_,ny.EventType.ERROR,Y=>{A||(A=!0,fl("Connection","WebChannel transport errored:",Y),z.io(new Oe(ve.UNAVAILABLE,"The operation could not be completed")))}),P(_,ny.EventType.MESSAGE,Y=>{var re;if(!A){const ue=Y.data[0];Ot(!!ue);const Ie=ue,Re=Ie.error||(null===(re=Ie[0])||void 0===re?void 0:re.error);if(Re){Ge("Connection","WebChannel received error:",Re);const Ze=Re.status;let qe=function(Je){const It=Jr[Je];if(void 0!==It)return qB(It)}(Ze),je=Re.message;void 0===qe&&(qe=ve.INTERNAL,je="Unknown error status: "+Ze+" with message "+Re.message),A=!0,z.io(new Oe(qe,je)),_.close()}else Ge("Connection","WebChannel received:",ue),z.ro(ue)}}),P(u,zde.STAT_EVENT,Y=>{Y.stat===XF.PROXY?Ge("Connection","Detected buffering proxy"):Y.stat===XF.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.so()},0),z}}function tG(){return typeof window<"u"?window:null}function Iy(){return typeof document<"u"?document:null}function X5(n){return new Ife(n,!0)}class SA{constructor(t,e,r=1e3,i=1.5,a=6e4){this.Hs=t,this.timerId=e,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,e-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class nG{constructor(t,e,r,i,a,u,f,m){this.Hs=t,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new SA(t,e)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,De.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,De.Z)(function*(){if(t.Oo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var r=this;return(0,De.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==t?r.No.reset():e&&e.code===ve.RESOURCE_EXHAUSTED?(Fr(e.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):e&&e.code===ve.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Zr(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===e&&this.Qo(r,i)},r=>{t(()=>{const i=new Oe(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(t,e){const r=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var t=this;this.state=5,this.No.Ro((0,De.Z)(function*(){t.state=0,t.start()}))}jo(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Hs.enqueueAndForget(()=>this.Do===t?e():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F5e extends nG{constructor(t,e,r,i,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,u),this.It=a}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function Hfe(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:gt(),i=t.targetChange.targetIds||[],a=function(m,_){return m.gt?(Ot(void 0===_||"string"==typeof _),li.fromBase64String(_||"")):(Ot(void 0===_||_ instanceof Uint8Array),li.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(m){const _=void 0===m.code?ve.UNKNOWN:qB(m.code);return new Oe(_,m.message||"")}(u);e=new JB(r,i,a,f||null)}else if("documentChange"in t){const r=t.documentChange,i=Uo(n,r.document.name),a=xi(r.document.updateTime),u=new ki({mapValue:{fields:r.document.fields}}),f=tr.newFoundDocument(i,a,u);e=new my(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const r=t.documentDelete,i=Uo(n,r.document),a=r.readTime?xi(r.readTime):Pt.min(),u=tr.newNoDocument(i,a);e=new my([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const r=t.documentRemove,i=Uo(n,r.document);e=new my([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return gt();{const r=t.filter,a=new Mfe(r.count||0);e=new QB(r.targetId,a)}}var m;return e}(this.It,t),r=function(i){if(!("targetChange"in i))return Pt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?xi(a.readTime):Pt.min()}(t);return this.listener.zo(e,r)}Ho(t){const e={};e.database=G5(this.It),e.addTarget=function(i,a){let u;const f=a.target;return u=ly(f)?{documents:cU(i,f)}:{query:sA(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=nU(i,a.resumeToken):a.snapshotVersion.compareTo(Pt.min())>0&&(u.readTime=B5(i,a.snapshotVersion.toTimestamp())),u}(this.It,t);const r=function zfe(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Lo(e)}Jo(t){const e={};e.database=G5(this.It),e.removeTarget=t,this.Lo(e)}}class B5e extends nG{constructor(t,e,r,i,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,u),this.It=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function Lfe(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(r,i){let a=xi(r.updateTime?r.updateTime:i);return a.isEqual(Pt.min())&&(a=xi(i)),new _fe(a,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=xi(t.commitTime);return this.listener.tu(r,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=G5(this.It),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>j5(this.It,r))};this.Lo(e)}}class U5e extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.ao(t,e,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(ve.UNKNOWN,i.toString())})}_o(t,e,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.So._o(t,e,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(ve.UNKNOWN,a.toString())})}terminate(){this.su=!0}}class j5e{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.au("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.au(t)}au(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Fr(e),this.uu=!1):Ge("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class $5e{constructor(t,e,r,i,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr(f=>{r.enqueueAndForget((0,De.Z)(function*(){var m;ja(u)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,De.Z)(function*(_){const x=rt(_);x.wu.add(4),yield du(x),x.yu.set("Unknown"),x.wu.delete(4),yield e7(x)}),function(_){return m.apply(this,arguments)})(u))}))}),this.yu=new j5e(r,i)}}function e7(n){return EA.apply(this,arguments)}function EA(){return EA=(0,De.Z)(function*(n){if(ja(n))for(const t of n.mu)yield t(!0)}),EA.apply(this,arguments)}function du(n){return NA.apply(this,arguments)}function NA(){return NA=(0,De.Z)(function*(n){for(const t of n.mu)yield t(!1)}),NA.apply(this,arguments)}function Ty(n,t){const e=rt(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),VA(e)?TA(e):hu(e).Oo()&&IA(e,t))}function t7(n,t){const e=rt(n),r=hu(e);e._u.delete(t),r.Oo()&&rG(e,t),0===e._u.size&&(r.Oo()?r.$o():ja(e)&&e.yu.set("Unknown"))}function IA(n,t){n.pu.Mt(t.targetId),hu(n).Ho(t)}function rG(n,t){n.pu.Mt(t),hu(n).Jo(t)}function TA(n){n.pu=new Afe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n._u.get(t)||null}),hu(n).start(),n.yu.cu()}function VA(n){return ja(n)&&!hu(n).ko()&&n._u.size>0}function ja(n){return 0===rt(n).wu.size}function iG(n){n.pu=void 0}function W5e(n){return HA.apply(this,arguments)}function HA(){return HA=(0,De.Z)(function*(n){n._u.forEach((t,e)=>{IA(n,t)})}),HA.apply(this,arguments)}function q5e(n,t){return LA.apply(this,arguments)}function LA(){return LA=(0,De.Z)(function*(n,t){iG(n),VA(n)?(n.yu.lu(t),TA(n)):n.yu.set("Unknown")}),LA.apply(this,arguments)}function Z5e(n,t,e){return zA.apply(this,arguments)}function zA(){return zA=(0,De.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof JB&&2===t.state&&t.cause)try{yield(r=(0,De.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i._u.delete(f),i.pu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,t)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield Vy(n,r)}else if(t instanceof my?n.pu.Gt(t):t instanceof QB?n.pu.Yt(t):n.pu.Wt(t),!e.isEqual(Pt.min()))try{const r=yield WU(n.localStore);e.compareTo(r)>=0&&(yield function(i,a){const u=i.pu.te(a);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=i._u.get(m);_&&i._u.set(m,_.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const m=i._u.get(f);if(!m)return;i._u.set(f,m.withResumeToken(li.EMPTY_BYTE_STRING,m.snapshotVersion)),rG(i,f);const _=new I3(m.target,f,1,m.sequenceNumber);IA(i,_)}),i.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield Vy(n,r)}var r}),zA.apply(this,arguments)}function Vy(n,t,e){return kA.apply(this,arguments)}function kA(){return kA=(0,De.Z)(function*(n,t,e){if(!w3(t))throw t;n.wu.add(1),yield du(n),n.yu.set("Offline"),e||(e=()=>WU(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield e7(n)}))}),kA.apply(this,arguments)}function sG(n,t){return t().catch(e=>Vy(n,e,t))}function fu(n){return RA.apply(this,arguments)}function RA(){return RA=(0,De.Z)(function*(n){const t=rt(n),e=H3(t);let r=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;Y5e(t);)try{const i=yield H5e(t.localStore,r);if(null===i){0===t.du.length&&e.$o();break}r=i.batchId,K5e(t,i)}catch(i){yield Vy(t,i)}oG(t)&&aG(t)}),RA.apply(this,arguments)}function Y5e(n){return ja(n)&&n.du.length<10}function K5e(n,t){n.du.push(t);const e=H3(n);e.Oo()&&e.Xo&&e.Zo(t.mutations)}function oG(n){return ja(n)&&!H3(n).ko()&&n.du.length>0}function aG(n){H3(n).start()}function Q5e(n){return OA.apply(this,arguments)}function OA(){return OA=(0,De.Z)(function*(n){H3(n).nu()}),OA.apply(this,arguments)}function J5e(n){return PA.apply(this,arguments)}function PA(){return PA=(0,De.Z)(function*(n){const t=H3(n);for(const e of n.du)t.Zo(e.mutations)}),PA.apply(this,arguments)}function X5e(n,t,e){return FA.apply(this,arguments)}function FA(){return FA=(0,De.Z)(function*(n,t,e){const r=n.du.shift(),i=cA.from(r,t,e);yield sG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield fu(n)}),FA.apply(this,arguments)}function e7e(n,t){return BA.apply(this,arguments)}function BA(){return BA=(0,De.Z)(function*(n,t){var e;t&&H3(n).Xo&&(yield(e=(0,De.Z)(function*(r,i){if(WB(a=i.code)&&a!==ve.ABORTED){const u=r.du.shift();H3(r).Fo(),yield sG(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield fu(r)}var a}),function(r,i){return e.apply(this,arguments)})(n,t)),oG(n)&&aG(n)}),BA.apply(this,arguments)}function cG(n,t){return UA.apply(this,arguments)}function UA(){return UA=(0,De.Z)(function*(n,t){const e=rt(n);e.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=ja(e);e.wu.add(3),yield du(e),r&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield e7(e)}),UA.apply(this,arguments)}function GA(n,t){return jA.apply(this,arguments)}function jA(){return jA=(0,De.Z)(function*(n,t){const e=rt(n);t?(e.wu.delete(2),yield e7(e)):t||(e.wu.add(2),yield du(e),e.yu.set("Unknown"))}),jA.apply(this,arguments)}function hu(n){return n.Iu||(n.Iu=function(t,e,r){const i=rt(t);return i.iu(),new F5e(e,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:W5e.bind(null,n),Zr:q5e.bind(null,n),zo:Z5e.bind(null,n)}),n.mu.push(function(){var t=(0,De.Z)(function*(e){e?(n.Iu.Fo(),VA(n)?TA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),iG(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function H3(n){return n.Tu||(n.Tu=function(t,e,r){const i=rt(t);return i.iu(),new B5e(e,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Q5e.bind(null,n),Zr:e7e.bind(null,n),eu:J5e.bind(null,n),tu:X5e.bind(null,n)}),n.mu.push(function(){var t=(0,De.Z)(function*(e){e?(n.Tu.Fo(),yield fu(n)):(yield n.Tu.stop(),n.du.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class $A{constructor(t,e,r,i,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,r,i,a){const u=Date.now()+r,f=new $A(t,e,u,i,a);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pu(n,t){if(Fr("AsyncQueue",`${t}: ${n}`),w3(n))return new Oe(ve.UNAVAILABLE,`${t}: ${n}`);throw n}class gu{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Xe.comparator(e.key,r.key):(e,r)=>Xe.comparator(e.key,r.key),this.keyedMap=R5(),this.sortedSet=new Vr(this.comparator)}static emptySet(t){return new gu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof gu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new gu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class lG{constructor(){this.Eu=new Vr(Xe.comparator)}track(t){const e=t.doc.key,r=this.Eu.get(e);r?0!==t.type&&3===r.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==r.type?this.Eu=this.Eu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Eu=this.Eu.remove(e):1===t.type&&2===r.type?this.Eu=this.Eu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):gt():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,r)=>{t.push(r)}),t}}class mu{constructor(t,e,r,i,a,u,f,m,_){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(t,e,r,i,a){const u=[];return e.forEach(f=>{u.push({type:0,doc:f})}),new mu(t,e,gu.emptySet(e),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&L5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class t7e{constructor(){this.Ru=void 0,this.listeners=[]}}class n7e{constructor(){this.queries=new N3(t=>IB(t),L5),this.onlineState="Unknown",this.bu=new Set}}function WA(n,t){return qA.apply(this,arguments)}function qA(){return qA=(0,De.Z)(function*(n,t){const e=rt(n),r=t.query;let i=!1,a=e.queries.get(r);if(a||(i=!0,a=new t7e),i)try{a.Ru=yield e.onListen(r)}catch(u){const f=pu(u,`Initialization of query '${XS(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,a),a.listeners.push(t),t.Pu(e.onlineState),a.Ru&&t.vu(a.Ru)&&KA(e)}),qA.apply(this,arguments)}function ZA(n,t){return YA.apply(this,arguments)}function YA(){return YA=(0,De.Z)(function*(n,t){const e=rt(n),r=t.query;let i=!1;const a=e.queries.get(r);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)}),YA.apply(this,arguments)}function r7e(n,t){const e=rt(n);let r=!1;for(const i of t){const u=e.queries.get(i.query);if(u){for(const f of u.listeners)f.vu(i)&&(r=!0);u.Ru=i}}r&&KA(e)}function i7e(n,t,e){const r=rt(n),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(e);r.queries.delete(t)}function KA(n){n.bu.forEach(t=>{t.next()})}class QA{constructor(t,e,r){this.query=t,this.Vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new mu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Su?this.Cu(t)&&(this.Vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.Vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||(!this.options.ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=mu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Su=!0,this.Vu.next(t)}}class s7e{constructor(t,e){this.payload=t,this.byteLength=e}Ou(){return"metadata"in this.payload}}class uG{constructor(t){this.It=t}Ji(t){return Uo(this.It,t)}Yi(t){return t.metadata.exists?aU(this.It,t.document,!1):tr.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return xi(t)}}class o7e{constructor(t,e,r){this.Mu=t,this.localStore=e,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dG(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const r=mn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,r=new uG(this.It);for(const i of t)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const f=(e.get(u)||Xt()).add(a);e.set(u,f)}}return e}complete(){var t=this;return(0,De.Z)(function*(){const e=yield function L5e(n,t,e,r){return CA.apply(this,arguments)}(t.localStore,new uG(t.It),t.documents,t.Mu.id),r=t.$u(t.documents);for(const i of t.queries)yield z5e(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function dG(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class fG{constructor(t){this.key=t}}class hG{constructor(t){this.key=t}}class pG{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Xt(),this.mutatedKeys=Xt(),this.Gu=VB(t),this.Qu=new gu(this.Gu)}get ju(){return this.Uu}Wu(t,e){const r=e?e.zu:new lG,i=e?e.Qu:this.Qu;let a=e?e.mutatedKeys:this.mutatedKeys,u=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((x,A)=>{const z=i.get(x),P=eA(this.query,A)?A:null,Y=!!z&&this.mutatedKeys.has(z.key),re=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ue=!1;z&&P?z.data.isEqual(P.data)?Y!==re&&(r.track({type:3,doc:P}),ue=!0):this.Hu(z,P)||(r.track({type:2,doc:P}),ue=!0,(m&&this.Gu(P,m)>0||_&&this.Gu(P,_)<0)&&(f=!0)):!z&&P?(r.track({type:0,doc:P}),ue=!0):z&&!P&&(r.track({type:1,doc:z}),ue=!0,(m||_)&&(f=!0)),ue&&(P?(u=u.add(P),a=re?a.add(x):a.delete(x)):(u=u.delete(x),a=a.delete(x)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const x="F"===this.query.limitType?u.last():u.first();u=u.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{Qu:u,zu:r,$i:f,mutatedKeys:a}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const a=t.zu.Au();a.sort((_,x)=>function(A,z){const P=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return P(A)-P(z)}(_.type,x.type)||this.Gu(_.doc,x.doc)),this.Ju(r);const u=e?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,m=f!==this.qu;return this.qu=f,0!==a.length||m?{snapshot:new mu(this.query,t.Qu,i,a,t.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new lG,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Xt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const e=[];return t.forEach(r=>{this.Ku.has(r)||e.push(new hG(r))}),this.Ku.forEach(r=>{t.has(r)||e.push(new fG(r))}),e}tc(t){this.Uu=t.Hi,this.Ku=Xt();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return mu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class a7e{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class c7e{constructor(t){this.key=t,this.nc=!1}}class l7e{constructor(t,e,r,i,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new N3(f=>IB(f),L5),this.rc=new Map,this.oc=new Set,this.uc=new Vr(Xe.comparator),this.cc=new Map,this.ac=new hA,this.hc={},this.lc=new Map,this.fc=El.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function u7e(n,t){return JA.apply(this,arguments)}function JA(){return JA=(0,De.Z)(function*(n,t){const e=bE(n);let r,i;const a=e.ic.get(t);if(a)r=a.targetId,e.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield lu(e.localStore,C2(t));e.isPrimaryClient&&Ty(e.remoteStore,u);const f=e.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield XA(e,t,r,"current"===f,u.resumeToken)}return i}),JA.apply(this,arguments)}function XA(n,t,e,r,i){return eE.apply(this,arguments)}function eE(){return eE=(0,De.Z)(function*(n,t,e,r,i){n._c=(A,z,P)=>{return(Y=(0,De.Z)(function*(re,ue,Ie,Re){let Ze=ue.view.Wu(Ie);Ze.$i&&(Ze=yield Ay(re.localStore,ue.query,!1).then(({documents:Je})=>ue.view.Wu(Je,Ze)));const qe=Re&&Re.targetChanges.get(ue.targetId),je=ue.view.applyChanges(Ze,re.isPrimaryClient,qe);return uE(re,ue.targetId,je.Xu),je.snapshot}),function(re,ue,Ie,Re){return Y.apply(this,arguments)})(n,A,z,P);var Y};const a=yield Ay(n.localStore,t,!0),u=new pG(t,a.Hi),f=u.Wu(a.documents),m=F5.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,i),_=u.applyChanges(f,n.isPrimaryClient,m);uE(n,e,_.Xu);const x=new a7e(t,e,u);return n.ic.set(t,x),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),_.snapshot}),eE.apply(this,arguments)}function d7e(n,t){return tE.apply(this,arguments)}function tE(){return tE=(0,De.Z)(function*(n,t){const e=rt(n),r=e.ic.get(t),i=e.rc.get(r.targetId);if(i.length>1)return e.rc.set(r.targetId,i.filter(a=>!L5(a,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uu(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),t7(e.remoteStore,r.targetId),vu(e,r.targetId)}).catch(M3))):(vu(e,r.targetId),yield uu(e.localStore,r.targetId,!0))}),tE.apply(this,arguments)}function nE(){return nE=(0,De.Z)(function*(n,t,e){const r=ME(n);try{const i=yield function(a,u){const f=rt(a),m=_r.now(),_=u.reduce((z,P)=>z.add(P.key),Xt());let x,A;return f.persistence.runTransaction("Locally write mutations","readwrite",z=>{let P=W2(),Y=Xt();return f.Gi.getEntries(z,_).next(re=>{P=re,P.forEach((ue,Ie)=>{Ie.isValidDocument()||(Y=Y.add(ue))})}).next(()=>f.localDocuments.getOverlayedDocuments(z,P)).next(re=>{x=re;const ue=[];for(const Ie of u){const Re=bfe(Ie,x.get(Ie.key).overlayedDocument);null!=Re&&ue.push(new Ga(Ie.key,Re,bB(Re.value.mapValue),Cr.exists(!0)))}return f.mutationQueue.addMutationBatch(z,m,ue,u)}).next(re=>{A=re;const ue=re.applyToLocalDocumentSet(x,Y);return f.documentOverlayCache.saveOverlays(z,re.batchId,ue)})}).then(()=>({batchId:A.batchId,changes:YB(x)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let m=a.hc[a.currentUser.toKey()];m||(m=new Vr(Wt)),m=m.insert(u,f),a.hc[a.currentUser.toKey()]=m}(r,i.batchId,e),yield $a(r,i.changes),yield fu(r.remoteStore)}catch(i){const a=pu(i,"Failed to persist write");e.reject(a)}}),nE.apply(this,arguments)}function gG(n,t){return rE.apply(this,arguments)}function rE(){return rE=(0,De.Z)(function*(n,t){const e=rt(n);try{const r=yield V5e(e.localStore,t);t.targetChanges.forEach((i,a)=>{const u=e.cc.get(a);u&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Ot(u.nc):i.removedDocuments.size>0&&(Ot(u.nc),u.nc=!1))}),yield $a(e,r,t)}catch(r){yield M3(r)}}),rE.apply(this,arguments)}function mG(n,t,e){const r=rt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.ic.forEach((a,u)=>{const f=u.view.Pu(t);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=rt(a);f.onlineState=u;let m=!1;f.queries.forEach((_,x)=>{for(const A of x.listeners)A.Pu(u)&&(m=!0)}),m&&KA(f)}(r.eventManager,t),i.length&&r.sc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function h7e(n,t,e){return iE.apply(this,arguments)}function iE(){return iE=(0,De.Z)(function*(n,t,e){const r=rt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.cc.get(t),a=i&&i.key;if(a){let u=new Vr(Xe.comparator);u=u.insert(a,tr.newNoDocument(a,Pt.min()));const f=Xt().add(a),m=new P5(Pt.min(),new Map,new Pn(Wt),u,f);yield gG(r,m),r.uc=r.uc.remove(a),r.cc.delete(t),dE(r)}else yield uu(r.localStore,t,!1).then(()=>vu(r,t,e)).catch(M3)}),iE.apply(this,arguments)}function p7e(n,t){return sE.apply(this,arguments)}function sE(){return sE=(0,De.Z)(function*(n,t){const e=rt(n),r=t.batch.batchId;try{const i=yield T5e(e.localStore,t);lE(e,r,null),cE(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield $a(e,i)}catch(i){yield M3(i)}}),sE.apply(this,arguments)}function g7e(n,t,e){return oE.apply(this,arguments)}function oE(){return oE=(0,De.Z)(function*(n,t,e){const r=rt(n);try{const i=yield function(a,u){const f=rt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,u).next(x=>(Ot(null!==x),_=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(r.localStore,t);lE(r,t,e),cE(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield $a(r,i)}catch(i){yield M3(i)}}),oE.apply(this,arguments)}function aE(){return aE=(0,De.Z)(function*(n,t){const e=rt(n);ja(e.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=rt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===r)return void t.resolve();const i=e.lc.get(r)||[];i.push(t),e.lc.set(r,i)}catch(r){const i=pu(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),aE.apply(this,arguments)}function cE(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function lE(n,t,e){const r=rt(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(e?a.reject(e):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function vu(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.rc.get(t))n.ic.delete(r),e&&n.sc.wc(r,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(r=>{n.ac.containsKey(r)||vG(n,r)})}function vG(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(t7(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),dE(n))}function uE(n,t,e){for(const r of e)r instanceof fG?(n.ac.addReference(r.key,t),v7e(n,r)):r instanceof hG?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,t),n.ac.containsKey(r.key)||vG(n,r.key)):gt()}function v7e(n,t){const e=t.key,r=e.path.canonicalString();n.uc.get(e)||n.oc.has(r)||(Ge("SyncEngine","New document in limbo: "+e),n.oc.add(r),dE(n))}function dE(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Xe(mn.fromString(t)),r=n.fc.next();n.cc.set(r,new c7e(e)),n.uc=n.uc.insert(e,r),Ty(n.remoteStore,new I3(C2(X0(e.path)),r,2,$2.at))}}function $a(n,t,e){return fE.apply(this,arguments)}function fE(){return fE=(0,De.Z)(function*(n,t,e){const r=rt(n),i=[],a=[],u=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,m)=>{u.push(r._c(m,t,e).then(_=>{if((_||e)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const x=vA.Ci(m.targetId,_);a.push(x)}}))}),yield Promise.all(u),r.sc.zo(i),yield(f=(0,De.Z)(function*(m,_){const x=rt(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>fe.forEach(_,z=>fe.forEach(z.Si,P=>x.persistence.referenceDelegate.addReference(A,z.targetId,P)).next(()=>fe.forEach(z.Di,P=>x.persistence.referenceDelegate.removeReference(A,z.targetId,P)))))}catch(A){if(!w3(A))throw A;Ge("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const z=A.targetId;if(!A.fromCache){const P=x.Ui.get(z),re=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);x.Ui=x.Ui.insert(z,re)}}}),function(m,_){return f.apply(this,arguments)})(r.localStore,a))}),fE.apply(this,arguments)}function y7e(n,t){return hE.apply(this,arguments)}function hE(){return hE=(0,De.Z)(function*(n,t){const e=rt(n);if(!e.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const r=yield $U(e.localStore,t);e.currentUser=t,(i=e).lc.forEach(u=>{u.forEach(f=>{f.reject(new Oe(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield $a(e,r.ji)}var i}),hE.apply(this,arguments)}function _7e(n,t){const e=rt(n),r=e.cc.get(t);if(r&&r.nc)return Xt().add(r.key);{let i=Xt();const a=e.rc.get(t);if(!a)return i;for(const u of a){const f=e.ic.get(u);i=i.unionWith(f.view.ju)}return i}}function C7e(n,t){return pE.apply(this,arguments)}function pE(){return pE=(0,De.Z)(function*(n,t){const e=rt(n),r=yield Ay(e.localStore,t.query,!0),i=t.view.tc(r);return e.isPrimaryClient&&uE(e,t.targetId,i.Xu),i}),pE.apply(this,arguments)}function b7e(n,t){return gE.apply(this,arguments)}function gE(){return gE=(0,De.Z)(function*(n,t){const e=rt(n);return YU(e.localStore,t).then(r=>$a(e,r))}),gE.apply(this,arguments)}function M7e(n,t,e,r){return mE.apply(this,arguments)}function mE(){return mE=(0,De.Z)(function*(n,t,e,r){const i=rt(n),a=yield function(u,f){const m=rt(u),_=rt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>_.Tn(x,f).next(A=>A?m.localDocuments.getDocuments(x,A):fe.resolve(null)))}(i.localStore,t);var f;null!==a?("pending"===e?yield fu(i.remoteStore):"acknowledged"===e||"rejected"===e?(lE(i,t,r||null),cE(i,t),f=t,rt(rt(i.localStore).mutationQueue).An(f)):gt(),yield $a(i,a)):Ge("SyncEngine","Cannot apply mutation batch with id: "+t)}),mE.apply(this,arguments)}function vE(){return vE=(0,De.Z)(function*(n,t){const e=rt(n);if(bE(e),ME(e),!0===t&&!0!==e.dc){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield yG(e,r.toArray());e.dc=!0,yield GA(e.remoteStore,!0);for(const a of i)Ty(e.remoteStore,a)}else if(!1===t&&!1!==e.dc){const r=[];let i=Promise.resolve();e.rc.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(vu(e,u),uu(e.localStore,u,!0))),t7(e.remoteStore,u)}),yield i,yield yG(e,r),function(a){const u=rt(a);u.cc.forEach((f,m)=>{t7(u.remoteStore,m)}),u.ac.fs(),u.cc=new Map,u.uc=new Vr(Xe.comparator)}(e),e.dc=!1,yield GA(e.remoteStore,!1)}}),vE.apply(this,arguments)}function yG(n,t,e){return yE.apply(this,arguments)}function yE(){return yE=(0,De.Z)(function*(n,t,e){const r=rt(n),i=[],a=[];for(const u of t){let f;const m=r.rc.get(u);if(m&&0!==m.length){f=yield lu(r.localStore,C2(m[0]));for(const _ of m){const x=r.ic.get(_),A=yield C7e(r,x);A.snapshot&&a.push(A.snapshot)}}else{const _=yield ZU(r.localStore,u);f=yield lu(r.localStore,_),yield XA(r,_G(_),u,!1,f.resumeToken)}i.push(f)}return r.sc.zo(a),i}),yE.apply(this,arguments)}function _G(n){return EB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function x7e(n){const t=rt(n);return rt(rt(t.localStore).persistence).vi()}function D7e(n,t,e,r){return _E.apply(this,arguments)}function _E(){return _E=(0,De.Z)(function*(n,t,e,r){const i=rt(n);if(i.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield YU(i.localStore,TB(a[0])),f=P5.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,li.EMPTY_BYTE_STRING);yield $a(i,u,f);break}case"rejected":yield uu(i.localStore,t,!0),vu(i,t,r);break;default:gt()}}),_E.apply(this,arguments)}function S7e(n,t,e){return CE.apply(this,arguments)}function CE(){return CE=(0,De.Z)(function*(n,t,e){const r=bE(n);if(r.dc){for(const i of t){if(r.rc.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const a=yield ZU(r.localStore,i),u=yield lu(r.localStore,a);yield XA(r,_G(a),u.targetId,!1,u.resumeToken),Ty(r.remoteStore,u)}for(const i of e)r.rc.has(i)&&(yield uu(r.localStore,i,!1).then(()=>{t7(r.remoteStore,i),vu(r,i)}).catch(M3))}}),CE.apply(this,arguments)}function bE(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_7e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h7e.bind(null,t),t.sc.zo=r7e.bind(null,t.eventManager),t.sc.wc=i7e.bind(null,t.eventManager),t}function ME(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p7e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=g7e.bind(null,t),t}class CG{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,De.Z)(function*(){e.It=X5(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return jU(this.persistence,new GU,t.initialUser,this.It)}yc(t){return new BU(Dy.Bs,this.It)}gc(t){return new XU}terminate(){var t=this;return(0,De.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class bG extends CG{constructor(t,e,r){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield e().call(r,t),yield r.Ac.initialize(r,t),yield ME(r.Ac.syncEngine),yield fu(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return jU(this.persistence,new GU,t.initialUser,this.It)}Tc(t,e){return new m5e(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const r=new Xde(e,this.persistence);return new Jde(t.asyncQueue,r)}yc(t){const e=mA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?q2.withCacheSize(this.cacheSizeBytes):q2.DEFAULT;return new gA(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,tG(),Iy(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new XU}}class E7e extends bG{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield e().call(r,t);const i=r.Ac.syncEngine;r.sharedClientState instanceof DA&&(r.sharedClientState.syncEngine={Fr:M7e.bind(null,i),$r:D7e.bind(null,i),Br:S7e.bind(null,i),vi:x7e.bind(null,i),Mr:b7e.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,De.Z)(function*(u){yield function w7e(n,t){return vE.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(t){const e=tG();if(!DA.C(e))throw new Oe(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new DA(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class wE{initialize(t,e){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=y7e.bind(null,r.syncEngine),yield GA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new n7e}createDatastore(t){const e=X5(t.databaseInfo.databaseId),r=new P5e(t.databaseInfo);return new U5e(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,a=f=>mG(this.syncEngine,f,0),u=eG.C()?new eG:new k5e,new $5e(e,r,i,a,u);var e,r,i,a,u}createSyncEngine(t,e){return function(r,i,a,u,f,m,_){const x=new l7e(r,i,a,u,f,m);return _&&(x.dc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,De.Z)(function*(e){const r=rt(e);Ge("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield du(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function xE(n,t,e){if(!e)throw new Oe(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function MG(n,t,e,r){if(!0===t&&!0===r)throw new Oe(ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wG(n){if(!Xe.isDocumentKey(n))throw new Oe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xG(n){if(Xe.isDocumentKey(n))throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":gt()}function ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hy(n);throw new Oe(ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function DG(n,t){if(t<=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const SG=new Map;class AG{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,MG("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n7{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AG(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Fde;switch(e.type){case"gapi":return new jde(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oe(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=SG.get(t);e&&(Ge("ComponentProvider","Removing Datastore"),SG.delete(t),e.terminate())}(this),Promise.resolve()}}function EG(n,t,e,r={}){var i;const a=(n=ln(n,n7))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&fl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=wi.MOCK_USER;else{u=(0,_n.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Oe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new wi(m)}n._authCredentials=new Bde(new tB(u,f))}}class dr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dr(this.firestore,t,this._key)}}class Yi{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yi(this.firestore,t,this._query)}}class jo extends Yi{constructor(t,e,r){super(t,e,X0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dr(this.firestore,null,new Xe(t))}withConverter(t){return new jo(this.firestore,t,this._path)}}function NG(n,t,...e){if(n=(0,_n.m9)(n),xE("collection","path",t),n instanceof n7){const r=mn.fromString(t,...e);return xG(r),new jo(n,null,r)}{if(!(n instanceof dr||n instanceof jo))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(t,...e));return xG(r),new jo(n.firestore,null,r)}}function Ly(n,t,...e){if(n=(0,_n.m9)(n),1===arguments.length&&(t=rB.R()),xE("doc","path",t),n instanceof n7){const r=mn.fromString(t,...e);return wG(r),new dr(n,null,new Xe(r))}{if(!(n instanceof dr||n instanceof jo))throw new Oe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(t,...e));return wG(r),new dr(n.firestore,n instanceof jo?n.converter:null,new Xe(r))}}function IG(n,t){return n=(0,_n.m9)(n),t=(0,_n.m9)(t),(n instanceof dr||n instanceof jo)&&(t instanceof dr||t instanceof jo)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function DE(n,t){return n=(0,_n.m9)(n),t=(0,_n.m9)(t),n instanceof Yi&&t instanceof Yi&&n.firestore===t.firestore&&L5(n._query,t._query)&&n.converter===t.converter}function TG(n,t=10240){let e=0;return{read:()=>(0,De.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zy{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Fr("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class I7e{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new ci,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,De.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,De.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const r=t.vc.decode(e),i=Number(r);isNaN(i)&&t.Dc(`length string (${r}) is not valid number`);const a=yield t.Cc(i);return new s7e(JSON.parse(a),e.length+i)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,De.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}Cc(t){var e=this;return(0,De.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const r=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class H7e{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,De.Z)(function*(a,u){const f=rt(a),m=G5(f.It)+"/documents",_={documents:u.map(P=>U5(f.It,P))},x=yield f._o("BatchGetDocuments",m,_,u.length),A=new Map;x.forEach(P=>{const Y=function Vfe(n,t){return"found"in t?function(e,r){Ot(!!r.found);const i=Uo(e,r.found.name),a=xi(r.found.updateTime),u=new ki({mapValue:{fields:r.found.fields}});return tr.newFoundDocument(i,a,u)}(n,t):"missing"in t?function(e,r){Ot(!!r.missing),Ot(!!r.readTime);const i=Uo(e,r.missing),a=xi(r.readTime);return tr.newNoDocument(i,a)}(n,t):gt()}(f.It,P);A.set(Y.key.toString(),Y)});const z=[];return u.forEach(P=>{const Y=A.get(P.toString());Ot(!!Y),z.push(Y)}),z}),function(a,u){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new iu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const a=Xe.fromPath(i);t.mutations.push(new tA(a,t.precondition(a)))}),yield(r=(0,De.Z)(function*(i,a){const u=rt(i),f=G5(u.It)+"/documents",m={writes:a.map(_=>j5(u.It,_))};yield u.ao("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw gt();e=Pt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Oe(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Pt.min())?Cr.exists(!1):Cr.updateTime(e):Cr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pt.min()))throw new Oe(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(e)}return Cr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class L7e{constructor(t,e,r,i,a){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new SA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.No.Ro((0,De.Z)(function*(){const e=new H7e(t.datastore),r=t.Mc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(a=>{t.Fc(a)}))}).catch(i=>{t.Fc(i)})}))}Mc(t){try{const e=this.updateFunction(t);return!E5(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!WB(e)}return!1}}class z7e{constructor(t,e,r,i){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=rB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,De.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,De.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=pu(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function VG(n,t){return SE.apply(this,arguments)}function SE(){return SE=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,De.Z)(function*(a){r.isEqual(a)||(yield $U(t.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),SE.apply(this,arguments)}function HG(n,t){return AE.apply(this,arguments)}function AE(){return AE=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield EE(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>cG(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>cG(t.remoteStore,a)),n.onlineComponents=t}),AE.apply(this,arguments)}function EE(n){return NE.apply(this,arguments)}function NE(){return NE=(0,De.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield VG(n,new CG)),n.offlineComponents}),NE.apply(this,arguments)}function ky(n){return IE.apply(this,arguments)}function IE(){return IE=(0,De.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield HG(n,new wE)),n.onlineComponents}),IE.apply(this,arguments)}function LG(n){return EE(n).then(t=>t.persistence)}function Ry(n){return EE(n).then(t=>t.localStore)}function TE(n){return ky(n).then(t=>t.remoteStore)}function VE(n){return ky(n).then(t=>t.syncEngine)}function yu(n){return HE.apply(this,arguments)}function HE(){return HE=(0,De.Z)(function*(n){const t=yield ky(n),e=t.eventManager;return e.onListen=u7e.bind(null,t.syncEngine),e.onUnlisten=d7e.bind(null,t.syncEngine),e}),HE.apply(this,arguments)}function kG(n,t,e={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,a,u,f,m){const _=new zy({next:A=>{a.enqueueAndForget(()=>ZA(i,x));const z=A.docs.has(u);!z&&A.fromCache?m.reject(new Oe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&A.fromCache&&f&&"server"===f.source?m.reject(new Oe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),x=new QA(X0(u.path),_,{includeMetadataChanges:!0,ku:!0});return WA(i,x)}(yield yu(n),n.asyncQueue,t,e,r)})),r.promise}function RG(n,t,e={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,a,u,f,m){const _=new zy({next:A=>{a.enqueueAndForget(()=>ZA(i,x)),A.fromCache&&"server"===f.source?m.reject(new Oe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),x=new QA(u,_,{includeMetadataChanges:!0,ku:!0});return WA(i,x)}(yield yu(n),n.asyncQueue,t,e,r)})),r.promise}class G7e{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new SA(this,"async_queue_retry"),this.Wc=()=>{const e=Iy();e&&Ge("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=Iy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=Iy();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new ci;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,De.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.No.reset()}catch(e){if(!w3(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.No.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(r=>{throw this.Kc=r,this.Gc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=e,e}enqueueAfterDelay(t,e,r){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const i=$A.createAndSchedule(this,t,e,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&gt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,De.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function LE(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class j7e{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class fr extends n7{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new G7e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OG(this),this._firestoreClient.terminate()}}function W7e(n,t){const e="object"==typeof n?n:(0,Oa.getApp)(),r="string"==typeof n?n:t||"(default)",i=(0,Oa._getProvider)(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,_n.P0)("firestore");a&&EG(i,...a)}return i}function Br(n){return n._firestoreClient||OG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function OG(n){var t;const e=n._freezeSettings(),r=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new nfe(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new z7e(n._authCredentials,n._appCheckCredentials,n._queue,r)}function PG(n,t,e){const r=new ci;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield VG(n,e),yield HG(n,t),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===ve.FAILED_PRECONDITION||u.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;fl("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function FG(n){if(n._initialized||n._terminated)throw new Oe(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $o{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $o(li.fromBase64String(t))}catch(e){throw new Oe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new $o(li.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Wa{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Il{constructor(t){this._methodName=t}}class Oy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}}const the=/^__.*__$/;class nhe{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Ga(t,this.data,this.fieldMask,e,this.fieldTransforms):new ru(t,this.data,e,this.fieldTransforms)}}class BG{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Ga(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function UG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Py{constructor(t,e,r,i,a,u){this.settings=t,this.databaseId=e,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new Py(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:r,oa:!1});return i.ua(t),i}ca(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:r,oa:!1});return i.na(),i}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Uy(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(UG(this.sa)&&the.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class rhe{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=r||X5(t)}da(t,e,r,i=!1){return new Py({sa:t,methodName:e,fa:r,path:Tr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Tl(n){const t=n._freezeSettings(),e=X5(n._databaseId);return new rhe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Fy(n,t,e,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,t,e,i);OE("Data must be an object, but it was:",u,r);const f=$G(r,u);let m,_;if(a.merge)m=new A1(u.fieldMask),_=u.fieldTransforms;else if(a.mergeFields){const x=[];for(const A of a.mergeFields){const z=PE(t,A,e);if(!u.contains(z))throw new Oe(ve.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);qG(x,z)||x.push(z)}m=new A1(x),_=u.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,_=u.fieldTransforms;return new nhe(new ki(f),m,_)}class r7 extends Il{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof r7}}function GG(n,t,e){return new Py({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class zE extends Il{_toFieldTransform(t){return new z5(t.path,new tu)}isEqual(t){return t instanceof zE}}class ihe extends Il{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=GG(this,t,!0),r=this._a.map(a=>Vl(a,e)),i=new Cl(r);return new z5(t.path,i)}isEqual(t){return this===t}}class she extends Il{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=GG(this,t,!0),r=this._a.map(a=>Vl(a,e)),i=new bl(r);return new z5(t.path,i)}isEqual(t){return this===t}}class ohe extends Il{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new nu(t.It,zB(t.It,this.wa));return new z5(t.path,e)}isEqual(t){return this===t}}function kE(n,t,e,r){const i=n.da(1,t,e);OE("Data must be an object, but it was:",i,r);const a=[],u=ki.empty();gl(r,(m,_)=>{const x=By(t,m,e);_=(0,_n.m9)(_);const A=i.ca(x);if(_ instanceof r7)a.push(x);else{const z=Vl(_,A);null!=z&&(a.push(x),u.set(x,z))}});const f=new A1(a);return new BG(u,f,i.fieldTransforms)}function RE(n,t,e,r,i,a){const u=n.da(1,t,e),f=[PE(t,r,e)],m=[i];if(a.length%2!=0)throw new Oe(ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<a.length;z+=2)f.push(PE(t,a[z])),m.push(a[z+1]);const _=[],x=ki.empty();for(let z=f.length-1;z>=0;--z)if(!qG(_,f[z])){const P=f[z];let Y=m[z];Y=(0,_n.m9)(Y);const re=u.ca(P);if(Y instanceof r7)_.push(P);else{const ue=Vl(Y,re);null!=ue&&(_.push(P),x.set(P,ue))}}const A=new A1(_);return new BG(x,A,u.fieldTransforms)}function jG(n,t,e,r=!1){return Vl(e,n.da(r?4:3,t))}function Vl(n,t){if(WG(n=(0,_n.m9)(n)))return OE("Unsupported field value:",t,n),$G(n,t);if(n instanceof Il)return function(e,r){if(!UG(r.sa))throw r.ha(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,r){const i=[];let a=0;for(const u of e){let f=Vl(u,r.aa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,_n.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zB(r.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=_r.fromDate(e);return{timestampValue:B5(r.It,i)}}if(e instanceof _r){const i=new _r(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:B5(r.It,i)}}if(e instanceof Oy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $o)return{bytesValue:nU(r.It,e._byteString)};if(e instanceof dr){const i=r.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nA(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.ha(`Unsupported field value: ${Hy(e)}`)}(n,t)}function $G(n,t){const e={};return dB(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gl(n,(r,i)=>{const a=Vl(i,t.ra(r));null!=a&&(e[r]=a)}),{mapValue:{fields:e}}}function WG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof Oy||n instanceof $o||n instanceof dr||n instanceof Il)}function OE(n,t,e){if(!WG(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Hy(e);throw t.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function PE(n,t,e){if((t=(0,_n.m9)(t))instanceof Wa)return t._internalPath;if("string"==typeof t)return By(n,t);throw Uy("Field path arguments must be of type string or ",n,!1,void 0,e)}const ahe=new RegExp("[~\\*/\\[\\]]");function By(n,t,e){if(t.search(ahe)>=0)throw Uy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Wa(...t.split("."))._internalPath}catch{throw Uy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Uy(n,t,e,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${i}`),m+=")"),new Oe(ve.INVALID_ARGUMENT,f+n+m)}function qG(n,t){return n.some(e=>e.isEqual(t))}class i7{constructor(t,e,r,i,a){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new che(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Gy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class che extends i7{data(){return super.data()}}function Gy(n,t){return"string"==typeof t?By(n,t):t instanceof Wa?t._internalPath:t._delegate._internalPath}function ZG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s7{}function L3(n,...t){for(const e of t)n=e._apply(n);return n}class lhe extends s7{constructor(t,e,r){super(),this.ma=t,this.ga=e,this.ya=r,this.type="where"}_apply(t){const e=Tl(t.firestore),r=function(i,a,u,f,m,_,x){let A;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){ej(x,_);const P=[];for(const Y of x)P.push(XG(f,i,Y));A={arrayValue:{values:P}}}else A=XG(f,i,x)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||ej(x,_),A=jG(u,"where",x,"in"===_||"not-in"===_);const z=Ri.create(m,_,A);return function(P,Y){if(Y.dt()){const ue=QS(P);if(null!==ue&&!ue.isEqual(Y.field))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ue.toString()}' and '${Y.field.toString()}'`);const Ie=KS(P);null!==Ie&&tj(0,Y.field,Ie)}const re=function(ue,Ie){for(const Re of ue.filters)if(Ie.indexOf(Re.op)>=0)return Re.op;return null}(P,function(ue){switch(ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==re)throw new Oe(ve.INVALID_ARGUMENT,re===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${re.toString()}' filters.`)}(i,z),z}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new Yi(t.firestore,t.converter,function(i,a){const u=i.filters.concat([a]);return new Ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class dhe extends s7{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(r,i,a){if(null!==r.startAt)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new J0(i,a);return function(f,m){if(null===KS(f)){const _=QS(f);null!==_&&tj(0,_,m.field)}}(r,u),u}(t._query,this.ma,this.pa);return new Yi(t.firestore,t.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ua(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class YG extends s7{constructor(t,e,r){super(),this.type=t,this.Ia=e,this.Ta=r}_apply(t){return new Yi(t.firestore,t.converter,dy(t._query,this.Ia,this.Ta))}}class KG extends s7{constructor(t,e,r){super(),this.type=t,this.Ea=e,this.Aa=r}_apply(t){const e=JG(t,this.type,this.Ea,this.Aa);return new Yi(t.firestore,t.converter,(i=e,new Ua((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class QG extends s7{constructor(t,e,r){super(),this.type=t,this.Ea=e,this.Aa=r}_apply(t){const e=JG(t,this.type,this.Ea,this.Aa);return new Yi(t.firestore,t.converter,(i=e,new Ua((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function JG(n,t,e,r){if(e[0]=(0,_n.m9)(e[0]),e[0]instanceof i7)return function(i,a,u,f,m){if(!f)throw new Oe(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const _=[];for(const x of eu(i))if(x.field.isKeyField())_.push(yl(a,f.key));else{const A=f.data.field(x.field);if(qS(A))throw new Oe(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const z=x.field.canonicalString();throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}_.push(A)}return new E3(_,m)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=Tl(n.firestore);return function(a,u,f,m,_,x){const A=a.explicitOrderBy;if(_.length>A.length)throw new Oe(ve.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let P=0;P<_.length;P++){const Y=_[P];if(A[P].field.isKeyField()){if("string"!=typeof Y)throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof Y}`);if(!JS(a)&&-1!==Y.indexOf("/"))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${Y}' contains a slash.`);const re=a.path.child(mn.fromString(Y));if(!Xe.isDocumentKey(re))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const ue=new Xe(re);z.push(yl(u,ue))}else{const re=jG(f,m,Y);z.push(re)}}return new E3(z,x)}(n._query,n.firestore._databaseId,i,t,e,r)}}function XG(n,t,e){if("string"==typeof(e=(0,_n.m9)(e))){if(""===e)throw new Oe(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(t)&&-1!==e.indexOf("/"))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(mn.fromString(e));if(!Xe.isDocumentKey(r))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yl(n,new Xe(r))}if(e instanceof dr)return yl(n,e._key);throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hy(e)}.`)}function ej(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(ve.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function tj(n,t,e){if(!e.isEqual(t))throw new Oe(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class FE{convertValue(t,e="none"){switch(vl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ml(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw gt()}}convertObject(t,e){const r={};return gl(t.fields,(i,a)=>{r[i]=this.convertValue(a,e)}),r}convertGeoPoint(t){return new Oy(Hr(t.latitude),Hr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=hB(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(A5(t));default:return null}}convertTimestamp(t){const e=x3(t);return new _r(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=mn.fromString(t);Ot(dU(r));const i=new D3(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(e)||Fr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function jy(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class _he extends FE{constructor(t){super(),this.firestore=t}convertBytes(t){return new $o(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new dr(this.firestore,null,e)}}class Hl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qa extends i7{constructor(t,e,r,i,a,u){super(t,e,r,i,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new o7(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Gy("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class o7 extends qa{data(t={}){return super.data(t)}}class z3{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new o7(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new o7(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Hl(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new o7(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Hl(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return 0!==u.type&&(m=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),_=a.indexOf(u.doc.key)),{type:Che(u.type),doc:f,oldIndex:m,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Che(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function nj(n,t){return n instanceof qa&&t instanceof qa?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof z3&&t instanceof z3&&n._firestore===t._firestore&&DE(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class k3 extends FE{constructor(t){super(),this.firestore=t}convertBytes(t){return new $o(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new dr(this.firestore,null,e)}}function rj(n,t,e){n=ln(n,dr);const r=ln(n.firestore,fr),i=jy(n.converter,t,e);return _u(r,[Fy(Tl(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,Cr.none())])}function ij(n,t,e,...r){n=ln(n,dr);const i=ln(n.firestore,fr),a=Tl(i);let u;return u="string"==typeof(t=(0,_n.m9)(t))||t instanceof Wa?RE(a,"updateDoc",n._key,t,e,r):kE(a,"updateDoc",n._key,t),_u(i,[u.toMutation(n._key,Cr.exists(!0))])}function sj(n,...t){var e,r,i;n=(0,_n.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||LE(t[u])||(a=t[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(LE(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),t[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,_,x;if(n instanceof dr)_=ln(n.firestore,fr),x=X0(n._key.path),m={next:A=>{t[u]&&t[u](BE(_,n,A))},error:t[u+1],complete:t[u+2]};else{const A=ln(n,Yi);_=ln(A.firestore,fr),x=A._query;const z=new k3(_);m={next:P=>{t[u]&&t[u](new z3(_,z,A,P))},error:t[u+1],complete:t[u+2]},ZG(n._query)}return function(A,z,P,Y){const re=new zy(Y),ue=new QA(z,re,P);return A.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return WA(yield yu(A),ue)})),()=>{re.bc(),A.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return ZA(yield yu(A),ue)}))}}(Br(_),x,f,m)}function _u(n,t){return function(e,r){const i=new ci;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function f7e(n,t,e){return nE.apply(this,arguments)}(yield VE(e),r,i)})),i.promise}(Br(n),t)}function BE(n,t,e){const r=e.docs.get(t._key),i=new k3(n);return new qa(n,i,t._key,r,new Hl(e.hasPendingWrites,e.fromCache),t.converter)}const Ihe={maxAttempts:5};class oj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Tl(t)}set(t,e,r){this._verifyNotCommitted();const i=R3(t,this._firestore),a=jy(i.converter,e,r),u=Fy(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Cr.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const a=R3(t,this._firestore);let u;return u="string"==typeof(e=(0,_n.m9)(e))||e instanceof Wa?RE(this._dataReader,"WriteBatch.update",a._key,e,r,i):kE(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,Cr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=R3(t,this._firestore);return this._mutations=this._mutations.concat(new iu(e._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function R3(n,t){if((n=(0,_n.m9)(n)).firestore!==t)throw new Oe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class The extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Tl(t)}get(t){const e=R3(t,this._firestore),r=new _he(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return gt();const a=i[0];if(a.isFoundDocument())return new i7(this._firestore,r,a.key,a,e.converter);if(a.isNoDocument())return new i7(this._firestore,r,e._key,null,e.converter);throw gt()})}set(t,e,r){const i=R3(t,this._firestore),a=jy(i.converter,e,r),u=Fy(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(t,e,r,...i){const a=R3(t,this._firestore);let u;return u="string"==typeof(e=(0,_n.m9)(e))||e instanceof Wa?RE(this._dataReader,"Transaction.update",a._key,e,r,i):kE(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=R3(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=R3(t,this._firestore),r=new k3(this._firestore);return super.get(t).then(i=>new qa(this._firestore,r,e._key,i._document,new Hl(!1,!1),e.converter))}}function UE(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function cj(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function lj(){if(!function efe(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Z0=Oa.SDK_VERSION,(0,Oa._registerComponent)(new Mv.wA("firestore",(e,{instanceIdentifier:r,options:i})=>{const a=e.getProvider("app").getImmediate(),u=new fr(new Ude(e.getProvider("auth-internal")),new $de(e.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new D3(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Oa.registerVersion)(eB,"3.7.1",n),(0,Oa.registerVersion)(eB,"3.7.1","esm2017")}();class a7{constructor(t){this._delegate=t}static fromBase64String(t){return lj(),new a7($o.fromBase64String(t))}static fromUint8Array(t){return cj(),new a7($o.fromUint8Array(t))}toBase64(){return lj(),this._delegate.toBase64()}toUint8Array(){return cj(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GE(n){return function Fhe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class Bhe{enableIndexedDbPersistence(t,e){return function q7e(n,t){FG(n=ln(n,fr));const e=Br(n),r=n._freezeSettings(),i=new wE;return PG(e,i,new bG(i,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Z7e(n){FG(n=ln(n,fr));const t=Br(n),e=n._freezeSettings(),r=new wE;return PG(t,r,new E7e(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Y7e(n){if(n._initialized&&!n._terminated)throw new Oe(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(e=(0,De.Z)(function*(r){if(!to.C())return Promise.resolve();const i=r+"main";yield to.delete(i)}),function(r){return e.apply(this,arguments)})(mA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class uj{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof D3||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&fl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){EG(this._delegate,t,e,r)}enableNetwork(){return function Q7e(n){return function k7e(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield LG(n),e=yield TE(n);return t.setNetworkEnabled(!0),function(r){const i=rt(r);return i.wu.delete(0),e7(i)}(e)}))}(Br(n=ln(n,fr)))}(this._delegate)}disableNetwork(){return function J7e(n){return function R7e(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield LG(n),e=yield TE(n);return t.setNetworkEnabled(!1),(r=(0,De.Z)(function*(i){const a=rt(i);a.wu.add(0),yield du(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(Br(n=ln(n,fr)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,MG("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function K7e(n){return function(t){const e=new ci;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function m7e(n,t){return aE.apply(this,arguments)}(yield VE(t),e)})),e.promise}(Br(n=ln(n,fr)))}(this._delegate)}onSnapshotsInSync(t){return function Nhe(n,t){return function F7e(n,t){const e=new zy(t);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield yu(n),i=e,rt(r).bu.add(i),void i.next();var r,i})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield yu(n),i=e,void rt(r).bu.delete(i);var r,i}))}}(Br(n=ln(n,fr)),LE(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Cu(this,NG(this._delegate,t))}catch(e){throw M2(e,"collection()","Firestore.collection()")}}doc(t){try{return new gs(this,Ly(this._delegate,t))}catch(e){throw M2(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new w2(this,function N7e(n,t){if(n=ln(n,n7),xE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(e=t,new Ua(mn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw M2(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Vhe(n,t,e){n=ln(n,fr);const r=Object.assign(Object.assign({},Ihe),e);return function(i){if(i.maxAttempts<1)throw new Oe(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const f=new ci;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const m=yield function zG(n){return ky(n).then(t=>t.datastore)}(i);new L7e(i.asyncQueue,m,u,a,f).run()})),f.promise}(Br(n),i=>t(new The(n,i)),r)}(this._delegate,e=>t(new dj(this,e)))}batch(){return Br(this._delegate),new fj(new oj(this._delegate,t=>_u(this._delegate,t)))}loadBundle(t){return function X7e(n,t){const e=Br(n=ln(n,fr)),r=new j7e;return function B7e(n,t,e,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,_){if(m instanceof Uint8Array)return TG(m,_);if(m instanceof ArrayBuffer)return TG(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new I7e(m,u);var m}(e,X5(t));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function A7e(n,t,e){const r=rt(n);var i;(i=(0,De.Z)(function*(a,u,f){try{const m=yield u.getMetadata();if(yield function(z,P){const Y=rt(z),re=xi(P.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",ue=>Y.Ns.getBundleMetadata(ue,P.id)).then(ue=>!!ue&&ue.createTime.compareTo(re)>=0)}(a.localStore,m))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(z=m).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);f._updateProgress(dG(m));const _=new o7e(m,a.localStore,u.It);let x=yield u.mc();for(;x;){const z=yield _.Fu(x);z&&f._updateProgress(z),x=yield u.mc()}const A=yield _.complete();return yield $a(a,A.Lu,void 0),yield function(z,P){const Y=rt(z);return Y.persistence.runTransaction("Save bundle","readwrite",re=>Y.Ns.saveBundleMetadata(re,P))}(a.localStore,m),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(m){return fl("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var z}),function(a,u,f){return i.apply(this,arguments)})(r,t,e).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield VE(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function ehe(n,t){return function U7e(n,t){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(e,r){const i=rt(e);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield Ry(n),t)}))}(Br(n=ln(n,fr)),t).then(e=>e?new Yi(n,null,e.query):null)}(this._delegate,t).then(e=>e?new w2(this,e):null)}}class $y extends FE{constructor(t){super(),this.firestore=t}convertBytes(t){return new a7(new $o(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return gs.forKey(e,this.firestore,null)}}class dj{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new $y(t)}get(t){const e=zl(t);return this._delegate.get(e).then(r=>new c7(this._firestore,new qa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=zl(t);return r?(UE("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const a=zl(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(t){const e=zl(t);return this._delegate.delete(e),this}}class fj{constructor(t){this._delegate=t}set(t,e,r){const i=zl(t);return r?(UE("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const a=zl(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(t){const e=zl(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ll{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new o7(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new l7(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Ll.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let a=i.get(e);return a||(a=new Ll(t,new $y(t),e),i.set(e,a)),a}}Ll.INSTANCES=new WeakMap;class gs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $y(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new gs(e,new dr(e._delegate,r,new Xe(t)))}static forKey(t,e,r){return new gs(e,new dr(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Cu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Cu(this.firestore,NG(this._delegate,t))}catch(e){throw M2(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,_n.m9)(t))instanceof dr&&IG(this._delegate,t)}set(t,e){e=UE("DocumentReference.set",e);try{return e?rj(this._delegate,t,e):rj(this._delegate,t)}catch(r){throw M2(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?ij(this._delegate,t):ij(this._delegate,t,e,...r)}catch(i){throw M2(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Ahe(n){return _u(ln(n.firestore,fr),[new iu(n._key,Cr.none())])}(this._delegate)}onSnapshot(...t){const e=hj(t),r=pj(t,i=>new c7(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sj(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function Mhe(n){n=ln(n,dr);const t=ln(n.firestore,fr),e=Br(t),r=new k3(t);return function O7e(n,t){const e=new ci;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,a,u){try{const f=yield function(m,_){const x=rt(m);return x.persistence.runTransaction("read document","readonly",A=>x.localDocuments.getDocument(A,_))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=pu(f,`Failed to get document '${a} from cache`);u.reject(m)}}),function(i,a,u){return r.apply(this,arguments)})(yield Ry(n),t,e);var r})),e.promise}(e,n._key).then(i=>new qa(t,r,n._key,i,new Hl(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function whe(n){n=ln(n,dr);const t=ln(n.firestore,fr);return kG(Br(t),n._key,{source:"server"}).then(e=>BE(t,n,e))}(this._delegate):function bhe(n){n=ln(n,dr);const t=ln(n.firestore,fr);return kG(Br(t),n._key).then(e=>BE(t,n,e))}(this._delegate),e.then(r=>new c7(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new gs(this.firestore,this._delegate.withConverter(t?Ll.getInstance(this.firestore,t):null))}}function M2(n,t,e){return n.message=n.message.replace(t,e),n}function hj(n){for(const t of n)if("object"==typeof t&&!GE(t))return t;return{}}function pj(n,t){var e,r;let i;return i=GE(n[0])?n[0]:GE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(t(a))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class c7{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return nj(this._delegate,t._delegate)}}class l7 extends c7{data(t){const e=this._delegate.data(t);return function Pde(n,t){n||gt()}(void 0!==e),e}}class w2{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $y(t)}where(t,e,r){try{return new w2(this.firestore,L3(this._delegate,function uhe(n,t,e){const r=t,i=Gy("where",n);return new lhe(i,r,e)}(t,e,r)))}catch(i){throw M2(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new w2(this.firestore,L3(this._delegate,function fhe(n,t="asc"){const e=t,r=Gy("orderBy",n);return new dhe(r,e)}(t,e)))}catch(r){throw M2(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new w2(this.firestore,L3(this._delegate,function hhe(n){return DG("limit",n),new YG("limit",n,"F")}(t)))}catch(e){throw M2(e,"limit()","Query.limit()")}}limitToLast(t){try{return new w2(this.firestore,L3(this._delegate,function phe(n){return DG("limitToLast",n),new YG("limitToLast",n,"L")}(t)))}catch(e){throw M2(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new w2(this.firestore,L3(this._delegate,function ghe(...n){return new KG("startAt",n,!0)}(...t)))}catch(e){throw M2(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new w2(this.firestore,L3(this._delegate,function mhe(...n){return new KG("startAfter",n,!1)}(...t)))}catch(e){throw M2(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new w2(this.firestore,L3(this._delegate,function vhe(...n){return new QG("endBefore",n,!1)}(...t)))}catch(e){throw M2(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new w2(this.firestore,L3(this._delegate,function yhe(...n){return new QG("endAt",n,!0)}(...t)))}catch(e){throw M2(e,"endAt()","Query.endAt()")}}isEqual(t){return DE(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Dhe(n){n=ln(n,Yi);const t=ln(n.firestore,fr),e=Br(t),r=new k3(t);return function P7e(n,t){const e=new ci;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,a,u){try{const f=yield Ay(i,a,!0),m=new pG(a,f.Hi),_=m.Wu(f.documents),x=m.applyChanges(_,!1);u.resolve(x.snapshot)}catch(f){const m=pu(f,`Failed to execute query '${a} against cache`);u.reject(m)}}),function(i,a,u){return r.apply(this,arguments)})(yield Ry(n),t,e);var r})),e.promise}(e,n._query).then(i=>new z3(t,r,n,i))}(this._delegate):"server"===t?.source?function She(n){n=ln(n,Yi);const t=ln(n.firestore,fr),e=Br(t),r=new k3(t);return RG(e,n._query,{source:"server"}).then(i=>new z3(t,r,n,i))}(this._delegate):function xhe(n){n=ln(n,Yi);const t=ln(n.firestore,fr),e=Br(t),r=new k3(t);return ZG(n._query),RG(e,n._query).then(i=>new z3(t,r,n,i))}(this._delegate),e.then(r=>new jE(this.firestore,new z3(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=hj(t),r=pj(t,i=>new jE(this.firestore,new z3(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sj(this._delegate,e,r)}withConverter(t){return new w2(this.firestore,this._delegate.withConverter(t?Ll.getInstance(this.firestore,t):null))}}class Ghe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new l7(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jE{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new w2(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new l7(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Ghe(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new l7(this._firestore,r))})}isEqual(t){return nj(this._delegate,t._delegate)}}class Cu extends w2{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new gs(this.firestore,t):null}doc(t){try{return new gs(this.firestore,void 0===t?Ly(this._delegate):Ly(this._delegate,t))}catch(e){throw M2(e,"doc()","CollectionReference.doc()")}}add(t){return function Ehe(n,t){const e=ln(n.firestore,fr),r=Ly(n),i=jy(n.converter,t);return _u(e,[Fy(Tl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new gs(this.firestore,e))}isEqual(t){return IG(this._delegate,t._delegate)}withConverter(t){return new Cu(this.firestore,this._delegate.withConverter(t?Ll.getInstance(this.firestore,t):null))}}function zl(n){return ln(n,dr)}class $E{constructor(...t){this._delegate=new Wa(...t)}static documentId(){return new $E(Tr.keyField().canonicalString())}isEqual(t){return(t=(0,_n.m9)(t))instanceof Wa&&this._delegate._internalPath.isEqual(t._internalPath)}}class kl{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Lhe(){return new zE("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new kl(t)}static delete(){const t=function Hhe(){return new r7("deleteField")}();return t._methodName="FieldValue.delete",new kl(t)}static arrayUnion(...t){const e=function zhe(...n){return new ihe("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new kl(e)}static arrayRemove(...t){const e=function khe(...n){return new she("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new kl(e)}static increment(t){const e=function Rhe(n){return new ohe("increment",n)}(t);return e._methodName="FieldValue.increment",new kl(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const jhe={Firestore:uj,GeoPoint:Oy,Timestamp:_r,Blob:a7,Transaction:dj,WriteBatch:fj,DocumentReference:gs,DocumentSnapshot:c7,Query:w2,QueryDocumentSnapshot:l7,QuerySnapshot:jE,CollectionReference:Cu,FieldPath:$E,FieldValue:kl,setLogLevel:function Uhe(n){!function Ode(n){b3.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Whe(n){(function $he(n,t){n.INTERNAL.registerComponent(new Mv.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},jhe)))})(n,(t,e)=>new uj(t,e,new Bhe)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(L8e.Z);var Wy=k(5363),qhe=k(6063);class Zhe extends bn.x{constructor(t=1/0,e=1/0,r=qhe.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;e||(r.push(t),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!t.closed;u+=r?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=e.now();let f=0;for(let m=1;m<r.length&&r[m]<=u;m+=2)f=m;f&&r.splice(0,f+1)}}}function gj(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,(0,qk.B)({connector:()=>new Zhe(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function mj(n,t){return(0,Rr.m)(t)?jn(()=>n,t):jn(()=>n)}var WE=k(9468);k(127);const vj=new l.OlP("angularfire2.auth.use-emulator"),yj=new l.OlP("angularfire2.auth.settings"),_j=new l.OlP("angularfire2.auth.tenant-id"),Cj=new l.OlP("angularfire2.auth.langugage-code"),bj=new l.OlP("angularfire2.auth.use-device-language"),Mj=new l.OlP("angularfire.auth.persistence"),wj=(n,t,e,r,i,a,u,f)=>(0,eo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),u)for(const[_,x]of Object.entries(u))m.settings[_]=x;return f&&m.setPersistence(f),m},[e,r,i,a,u,f]);let qE=(()=>{class n{constructor(e,r,i,a,u,f,m,_,x,A,z,P){const Y=new bn.x,re=dt(void 0).pipe((0,Wy.Q)(u.outsideAngular),jn(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,ot.U)(()=>(0,eo.on)(e,a,r)),(0,ot.U)(ue=>wj(ue,a,f,_,x,A,m,z)),gj({bufferSize:1,refCount:!1}));if(mi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{re.pipe(K()).subscribe();const Ie=re.pipe(jn(qe=>qe.getRedirectResult().then(je=>je,()=>null)),Nn.iC,gj({bufferSize:1,refCount:!1})),Re=re.pipe(jn(qe=>new zn.y(je=>({unsubscribe:a.runOutsideAngular(()=>qe.onAuthStateChanged(Je=>je.next(Je),Je=>je.error(Je),()=>je.complete()))})))),Ze=re.pipe(jn(qe=>new zn.y(je=>({unsubscribe:a.runOutsideAngular(()=>qe.onIdTokenChanged(Je=>je.next(Je),Je=>je.error(Je),()=>je.complete()))}))));this.authState=Ie.pipe(mj(Re),(0,WE.R)(u.outsideAngular),(0,Wy.Q)(u.insideAngular)),this.user=Ie.pipe(mj(Ze),(0,WE.R)(u.outsideAngular),(0,Wy.Q)(u.insideAngular)),this.idToken=this.user.pipe(jn(qe=>qe?(0,un.D)(qe.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(jn(qe=>qe?(0,un.D)(qe.getIdTokenResult()):dt(null))),this.credential=(0,N4.T)(Ie,Y,this.authState.pipe(wn(qe=>!qe))).pipe((0,ot.U)(qe=>qe?.user?qe:null),(0,WE.R)(u.outsideAngular),(0,Wy.Q)(u.insideAngular))}return(0,eo.pX)(this,re,a,{spy:{apply:(ue,Ie,Re)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&Re.then(Ze=>Y.next(Ze))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(eo.Dh),l.LFG(eo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Nn.HU),l.LFG(vj,8),l.LFG(yj,8),l.LFG(_j,8),l.LFG(Cj,8),l.LFG(bj,8),l.LFG(Mj,8),l.LFG(s5,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function xj(n,t){return function Khe(n,t=kx.z){return new zn.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function ZE(n,t){return xj(n,t).pipe((0,ot.U)(e=>({payload:e,type:"query"})))}function qy(n,t){return ZE(n,t).pipe(ji(void 0),eS(),(0,ot.U)(([e,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const m=i.find(x=>x.doc.ref.isEqual(u.ref)),_=e?.payload.docs.find(x=>x.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function Dj(n,t,e){return qy(n,e).pipe(Tt((r,i)=>function Jhe(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function Xhe(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return YE(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return YE(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return YE(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),t),[]),function Gm(n,t=V2.y){return n=n??Uce,(0,Mn.e)((e,r)=>{let i,a=!0;e.subscribe((0,Vn.x)(r,u=>{const f=t(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}(),(0,ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function YE(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function Sj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Aj{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=qy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ot.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(ji(void 0),eS(),wn(([r,i])=>i.length>0||!r),(0,ot.U)(([r,i])=>i),Nn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Tt((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=Sj(t);return Dj(this.query,e,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}valueChanges(t={}){return ZE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),Nn.iC)}get(t){return(0,un.D)(this.query.get(t)).pipe(Nn.iC)}add(t){return this.ref.add(t)}doc(t){return new Ej(this.ref.doc(t),this.afs)}}class Ej{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:a}=Nj(r,e);return new Aj(i,a,this.afs)}snapshotChanges(){return function Qhe(n,t){return xj(n,t).pipe(ji(void 0),eS(),(0,ot.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,un.D)(this.ref.get(t)).pipe(Nn.iC)}}class e9e{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),wn(e=>e.length>0),Nn.iC):qy(this.query,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Tt((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=Sj(t);return Dj(this.query,e,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}valueChanges(t={}){return ZE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),Nn.iC)}get(t){return(0,un.D)(this.query.get(t)).pipe(Nn.iC)}}const t9e=new l.OlP("angularfire2.enableFirestorePersistence"),n9e=new l.OlP("angularfire2.firestore.persistenceSettings"),r9e=new l.OlP("angularfire2.firestore.settings"),i9e=new l.OlP("angularfire2.firestore.use-emulator");function Nj(n,t=(e=>e)){return{query:t(n),ref:n}}let s9e=(()=>{class n{constructor(e,r,i,a,u,f,m,_,x,A,z,P,Y,re,ue,Ie,Re){this.schedulers=m;const Ze=(0,eo.on)(e,f,r),qe=x;A&&wj(Ze,f,z,Y,re,ue,P,Ie),[this.firestore,this.persistenceEnabled$]=(0,eo.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const je=f.runOutsideAngular(()=>Ze.firestore());if(a&&je.settings(a),qe&&je.useEmulator(...qe),i&&!mi(u)){const Je=()=>{try{return(0,un.D)(je.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(It){return typeof console<"u"&&console.warn(It),dt(!1)}};return[je,f.runOutsideAngular(Je)]}return[je,dt(!1)]},[a,qe,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=Nj(i,r),f=this.schedulers.ngZone.run(()=>a);return new Aj(f,u,this)}collectionGroup(e,r){const i=r||(u=>u),a=this.firestore.collectionGroup(e);return new e9e(i(a),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new Ej(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(eo.Dh),l.LFG(eo.xv,8),l.LFG(t9e,8),l.LFG(r9e,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Nn.HU),l.LFG(n9e,8),l.LFG(i9e,8),l.LFG(qE,8),l.LFG(vj,8),l.LFG(yj,8),l.LFG(_j,8),l.LFG(Cj,8),l.LFG(bj,8),l.LFG(Mj,8),l.LFG(s5,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ij=(()=>{class n{constructor(e,r,i){this.auth=e,this.frestore=r,this.firebaseAuth=i}getUsers(){return console.log("Get users"),this.frestore.collection("users").valueChanges()}createUser(e){}loginUser(e,r){return H8e(this.auth,e,r).then(i=>{})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nv),l.LFG(s9e),l.LFG(qE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o9e(n,t){if(1&n&&(l.TgZ(0,"tr")(1,"th",4),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._UZ(4,"ngb-highlight",5),l.qZA(),l.TgZ(5,"td"),l._UZ(6,"ngb-highlight",5),l.ALo(7,"number"),l.qZA(),l.TgZ(8,"td"),l._UZ(9,"ngb-highlight",5),l.qZA(),l.TgZ(10,"td"),l._UZ(11,"ngb-highlight",5),l.qZA(),l.TgZ(12,"td")(13,"button",6),l._uU(14,"Edit"),l.qZA(),l.TgZ(15,"button",6),l._uU(16,"X"),l.qZA()()()),2&n){const e=t.$implicit,r=t.index,i=l.oxw();l.xp6(2),l.Oqu(r+1),l.xp6(2),l.Q6J("result",e.name+" "+e.surname)("term",i.filter.value),l.xp6(2),l.Q6J("result",l.lcZ(7,9,e.age))("term",i.filter.value),l.xp6(3),l.Q6J("result",e.email)("term",i.filter.value),l.xp6(2),l.Q6J("result",e.role)("term",i.filter.value)}}const a9e=[{path:"signup",component:hP},{path:"home",component:B6},{path:"users",component:(()=>{class n{constructor(e,r){this.userService=r,this.filter=new Y4("",{nonNullable:!0}),this.users$=r.getUsers()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(s2),l.Y36(Ij))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-users"]],decls:19,vars:3,consts:[["id","users-container"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"result","term"],[1,"btn","btn-primary","action-btn"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),l._uU(5,"#"),l.qZA(),l.TgZ(6,"th",2),l._uU(7,"Fullname"),l.qZA(),l.TgZ(8,"th",2),l._uU(9,"Age"),l.qZA(),l.TgZ(10,"th",2),l._uU(11,"Email"),l.qZA(),l.TgZ(12,"th",2),l._uU(13,"Role"),l.qZA(),l.TgZ(14,"th",2),l._uU(15,"Action"),l.qZA()()(),l.TgZ(16,"tbody"),l.YNc(17,o9e,17,11,"tr",3),l.ALo(18,"async"),l.qZA()()()),2&e&&(l.xp6(17),l.Q6J("ngForOf",l.lcZ(18,1,r.users$)))},dependencies:[qr,D6e,U3,s2],styles:["#users-container[_ngcontent-%COMP%]{margin-left:9rem;margin-right:9rem;margin-top:5%}#search-input[_ngcontent-%COMP%]{width:auto}.action-btn[_ngcontent-%COMP%]{margin:1px}"]}),n})()},{path:"**",component:B6}];let c9e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oh.forRoot(a9e),oh]}),n})(),l9e=(()=>{class n{constructor(e){this.formBuilder=e,this.loginForm=this.formBuilder.group({email:[""],password:[""]})}ngOnInit(){}onSubmit(){}onQuickAccess(e,r){let a=e;a+=r+"@vallejo-clinic.utn",this.loginForm.controls.email.setValue(a),this.loginForm.controls.password.setValue("testingUser")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Fk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:1,consts:[["fxLAyout","row","fxLayoutAlign","center center","id","quick-access"],["type","submit",1,"btn","btn-outlined",3,"click"],["fxLAyout","row","fxLayoutAlign","center center","id","form-container"],[2,"width","20rem",3,"formGroup","ngSubmit"],["for","email"],["type","email","name","email","formControlName","email","required","",1,"form-control"],["for","password"],["type","password","name","password","formControlName","password","required","",1,"form-control"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(){return r.onQuickAccess("patient","1")}),l._uU(2,"PATIENT 1"),l.qZA(),l.TgZ(3,"button",1),l.NdJ("click",function(){return r.onQuickAccess("patient","2")}),l._uU(4,"PATIENT 2"),l.qZA(),l.TgZ(5,"button",1),l.NdJ("click",function(){return r.onQuickAccess("patient","3")}),l._uU(6,"PATIENT 3"),l.qZA()(),l.TgZ(7,"div",0)(8,"button",1),l.NdJ("click",function(){return r.onQuickAccess("specialist","1")}),l._uU(9,"SPECIALIST 1"),l.qZA(),l.TgZ(10,"button",1),l.NdJ("click",function(){return r.onQuickAccess("specialist","2")}),l._uU(11,"SECIALIST 2"),l.qZA()(),l.TgZ(12,"div",0)(13,"button",1),l.NdJ("click",function(){return r.onQuickAccess("admin","")}),l._uU(14,"ADMIN"),l.qZA()(),l.TgZ(15,"div",2)(16,"form",3),l.NdJ("ngSubmit",function(){return r.onSubmit()}),l.TgZ(17,"label",4),l._uU(18,"Email"),l.qZA(),l._UZ(19,"input",5),l.TgZ(20,"label",6),l._uU(21,"Password"),l.qZA(),l._UZ(22,"input",7),l.qZA()()),2&e&&(l.xp6(16),l.Q6J("formGroup",r.loginForm))},dependencies:[Tx,Df,Cx,bx,Vf,Tf,Fm,Wc]}),n})();const u9e=["content"],d9e=["*"];let f9e=(()=>{class n{constructor(e){this.dialogService=e,this.templateref=void 0,this.title="",this.isOkButtonEnabled=!1}onCrossMarkPressed(){this.dialogService.setDialog(Qr.crossClick)}onCancelButtonPressed(){this.dialogService.setDialog(Qr.cancel)}onOkButtonPressed(){this.dialogService.setDialog(Qr.ok)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(sD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dialog-template"]],viewQuery:function(e,r){if(1&e&&l.Gf(u9e,5),2&e){let i;l.iGM(i=l.CRH())&&(r.templateref=i.first)}},inputs:{title:"title",isOkButtonEnabled:"isOkButtonEnabled"},outputs:{templateref:"templateref"},ngContentSelectors:d9e,decls:11,vars:2,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-clinic-secondary",3,"disabled","click"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"div",0)(1,"h4",1),l._uU(2),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return r.onCrossMarkPressed()}),l.qZA()(),l.TgZ(4,"div",3),l.Hsn(5),l.qZA(),l.TgZ(6,"div",4)(7,"button",5),l.NdJ("click",function(){return r.onCancelButtonPressed()}),l._uU(8,"CANCEL"),l.qZA(),l.TgZ(9,"button",6),l.NdJ("click",function(){return r.onOkButtonPressed()}),l._uU(10,"OK"),l.qZA()()),2&e&&(l.xp6(2),l.Oqu(r.title),l.xp6(7),l.Q6J("disabled",!r.isOkButtonEnabled))},styles:[".modal{border-radius:0}  .modal .modal-dialog{width:-moz-fit-content;width:fit-content}.modal-body[_ngcontent-%COMP%]{height:30rem;max-height:30rem}.modal-footer[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:.2rem}.modal-header[_ngcontent-%COMP%]{border-color:#24252a;background-color:#24252a;color:#fff;border-top-left-radius:0;border-top-right-radius:0}  .modal-header .btn-close{color:#fff!important;opacity:1}"]}),n})();function h9e(n,t){1&n&&(l.TgZ(0,"app-dialog-template",13),l._UZ(1,"app-login"),l.qZA()),2&n&&l.Q6J("title","Login")("isOkButtonEnabled",!0)}function p9e(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-dialog-template",13)(1,"app-sing-up",14),l.NdJ("isFormValid",function(i){l.CHM(e);const a=l.oxw();return l.KtG(a.onSignUpFormChange(i))}),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("title","Sign up")("isOkButtonEnabled",e.isSignUpOkButtonEnabled)}}let g9e=(()=>{class n{constructor(e,r){this.dialogService=e,this.router=r,this.nurseIcon=_z,this.nurseIconSize="3x",this.isSignUpOkButtonEnabled=!1,this.dialogService.actionTaken.subscribe(i=>{(i==Qr.cancel||i==Qr.crossClick||i==Qr.close)&&(this.isSignUpOkButtonEnabled=!1)})}redirectToSignUp(){this.router.navigateByUrl("/signup")}redirectToHome(){this.router.navigateByUrl("/home")}redirectToUsers(){this.router.navigateByUrl("/users")}onSignUpFormChange(e){this.isSignUpOkButtonEnabled=e,console.log("Form valid? "+e)}showLoginForm(e){this.dialogService.setDialog(Qr.open,e)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(sD),l.Y36(Or))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:22,vars:2,consts:[[2,"height","-webkit-fill-available"],["fxLayout","row","fxLayoutAlign","space-between center",1,"nav-container"],["id","logo","fxLayout","row","fxLayoutAlign","start center"],[1,"clickeable",2,"background-color","#B10F2E","padding","1rem",3,"icon","size"],[1,"clickeable",3,"click"],[1,"vertical-line"],["type","button",1,"btn","btn","btn-light",2,"text-decoration","none",3,"click"],["type","button",1,"btn","btn","btn-link",2,"text-decoration","none"],["fxLayout","row","fxLayoutAlign","end center",2,"margin","1rem"],["type","button",1,"btn","btn-clinic-secondary",3,"click"],["type","button",1,"btn","btn-clinic-secondary",2,"margin-left","1rem",3,"click"],["loginForm",""],["signUp",""],[3,"title","isOkButtonEnabled"],[3,"isFormValid"]],template:function(e,r){if(1&e){const i=l.EpF();l.TgZ(0,"header",0)(1,"div",1)(2,"div",2),l._UZ(3,"fa-icon",3),l.TgZ(4,"h1",4),l.NdJ("click",function(){return r.redirectToHome()}),l._uU(5,"Clinic"),l.qZA(),l._UZ(6,"div",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return r.redirectToUsers()}),l._uU(8,"Users"),l.qZA(),l.TgZ(9,"button",7),l._uU(10,"Patients"),l.qZA(),l.TgZ(11,"button",7),l._uU(12,"Calendar"),l.qZA()(),l.TgZ(13,"div",8)(14,"button",9),l.NdJ("click",function(){return r.redirectToSignUp()}),l._uU(15,"Sign Up"),l.qZA(),l.TgZ(16,"button",10),l.NdJ("click",function(){l.CHM(i);const u=l.MAs(19);return l.KtG(r.showLoginForm(u))}),l._uU(17,"Log In"),l.qZA(),l.YNc(18,h9e,2,2,"ng-template",null,11,l.W1O),l.YNc(20,p9e,2,2,"ng-template",null,12,l.W1O),l.qZA()()()}2&e&&(l.xp6(3),l.Q6J("icon",r.nurseIcon)("size",r.nurseIconSize))},dependencies:[B2,Wc,fP,hP,l9e,f9e],styles:[".nav-container[_ngcontent-%COMP%]{background-color:#24252a;height:-webkit-fill-available}#logo[_ngcontent-%COMP%]{margin-left:1rem}h1[_ngcontent-%COMP%]{color:#fff}fa-icon[_ngcontent-%COMP%]{color:#fff;margin-right:1rem}div.vertical-line[_ngcontent-%COMP%]{width:1px;background-color:#fff;height:100%;float:left;height:3rem;margin:1rem}"]}),n})(),m9e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:13,vars:0,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"footer-container"],["id","copyright-container","fxLayout","row","fxLayoutAlign","start center"],["placement","top","ngbTooltip","Clinic v1.0.0"],[1,"vertical-line"],["fxLayout","row","fxLayoutAlign","end center"],["type","button",1,"btn","btn-link",2,"text-decoration","none"]],template:function(e,r){1&e&&(l.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"small",2),l._uU(4,"Powered by Juan Marcos Vallejo"),l.qZA(),l._UZ(5,"div",3),l.qZA(),l.TgZ(6,"div",4)(7,"button",5),l._uU(8,"Legal"),l.qZA(),l.TgZ(9,"button",5),l._uU(10,"FAQs"),l.qZA(),l.TgZ(11,"button",5),l._uU(12,"Contact us"),l.qZA()()()())},dependencies:[B2,Wc,x6e],styles:["footer[_ngcontent-%COMP%]{height:-webkit-fill-available}.nav-container[_ngcontent-%COMP%]{background-color:#24252a}h1[_ngcontent-%COMP%]{color:#fff}fa-icon[_ngcontent-%COMP%]{color:#fff;margin-right:1rem}small[_ngcontent-%COMP%]{color:#fff}div.vertical-line[_ngcontent-%COMP%]{width:1px;background-color:#fff;height:100%;height:3rem;margin:1rem}.footer-container[_ngcontent-%COMP%]{background-color:#24252a;height:-webkit-fill-available}#copyright-container[_ngcontent-%COMP%]{margin-left:1rem}"]}),n})();const v9e=["*"];let y9e=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-template"]],ngContentSelectors:v9e,decls:6,vars:0,consts:[["id","header"],["id","content"],["id","footer"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"div",0),l._UZ(1,"app-navbar"),l.qZA(),l.TgZ(2,"div",1),l.Hsn(3),l.qZA(),l.TgZ(4,"div",2),l._UZ(5,"app-footer"),l.qZA())},dependencies:[g9e,m9e]}),n})(),_9e=(()=>{class n{constructor(){this.title="clinica-vallejo"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(l.TgZ(0,"app-template"),l._UZ(1,"router-outlet"),l.qZA())},dependencies:[ya,y9e],styles:[".btn-clinic-secondary{background-color:#b10f2e;border-color:#b10f2e;color:#fff}  .btn-clinic-secondary:disabled{background-color:#9b2b3f;border-color:#b10f2e;color:#ccc}  .btn-clinic-secondary:hover{background-color:#8b041d;color:#fff}  .btn-clinic-secondary:active:after{background-color:#8b041d;color:#fff}  .btn-clinic-secondary:after{background-color:#8b041d;color:#fff}"]}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[No]}),n})(),jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[No]}),n})(),oge=(()=>{class n{constructor(e,r){mi(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:_1,useValue:{...Fc,...e}},{provide:f8,useValue:r,multi:!0},{provide:wa,useValue:!0}]:[{provide:_1,useValue:{...Fc,...e}},{provide:f8,useValue:r,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(wa),l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H4,kj,jj,H4,kj,jj]}),n})();const QE_firebaseConfig={apiKey:"AIzaSyDQEwQ8fz6r6ZBW4-RlAiiNs8qy2HD9kEM",authDomain:"vallejo-entrega.firebaseapp.com",projectId:"vallejo-entrega",storageBucket:"vallejo-entrega.appspot.com",messagingSenderId:"795509111467",appId:"1:795509111467:web:1506c1d9671c0fd5e395ee"};class JE{constructor(t){return t}}const $j="firestore",XE=new l.OlP("angularfire2.firestore-instances");function lge(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new JE(r)}}const uge={provide:class age{constructor(){return(0,Nn.vb)($j)}},deps:[[new l.FiY,XE]]},dge={provide:JE,useFactory:function cge(n,t){const e=(0,Nn.JM)($j,n,t);return e&&new JE(e)},deps:[[new l.FiY,XE],U0]};let fge=(()=>{class n{constructor(){(0,v3.KN)("angularfire",Nn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dge,uge]}),n})();function hge(n,...t){return{ngModule:fge,providers:[{provide:XE,useFactory:lge(n),multi:!0,deps:[l.R0b,l.zs3,Nn.HU,LD,[new l.FiY,OP],[new l.FiY,s5],...t]}]}}const pge=(0,Nn.u3)(W7e,!0);let gge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[_9e]}),n.\u0275inj=l.cJS({providers:[s2,Ij],imports:[W1,c9e,Rk,oge,Cue,eo.hO.initializeApp(QE_firebaseConfig),zue(()=>kue(QE_firebaseConfig)),hge(()=>pge()),T8e(()=>V8e()),E6e]}),n})();(0,l.G48)(),zs().bootstrapModule(gge).catch(n=>console.error(n))},5867:(pt,Ae,k)=>{k.d(Ae,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(9681);(0,l.registerVersion)("firebase","9.12.1","app")},127:(pt,Ae,k)=>{k.d(Ae,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(pt,Ae,k)=>{k.r(Ae);var l=k(5861),U=k(3942),H=k(7573),se=k(2090),le=(k(9681),k(1877),k(4859));function he(){return window}function j(){return(j=(0,l.Z)(function*(B,T,O){var ne;const{BuildInfo:ze}=he();(0,H.aq)(T.sessionId,"AuthEvent did not contain a session ID");const lt=yield ge(T.sessionId),ut={};return(0,H.ar)()?ut.ibi=ze.packageName:(0,H.as)()?ut.apn=ze.packageName:(0,H.at)(B,"operation-not-supported-in-this-environment"),ze.displayName&&(ut.appDisplayName=ze.displayName),ut.sessionId=lt,(0,H.au)(B,O,T.type,void 0,null!==(ne=T.eventId)&&void 0!==ne?ne:void 0,ut)})).apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(B){const{BuildInfo:T}=he(),O={};(0,H.ar)()?O.iosBundleId=T.packageName:(0,H.as)()?O.androidPackageName=T.packageName:(0,H.at)(B,"operation-not-supported-in-this-environment"),yield(0,H.av)(B,O)})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(B,T,O){const{cordova:ne}=he();let ze=()=>{};try{yield new Promise((lt,ut)=>{let Ee=null;function Pe(){var kt;lt();const hn=null===(kt=ne.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof hn&&hn(),"function"==typeof O?.close&&O.close()}function Ht(){Ee||(Ee=window.setTimeout(()=>{ut((0,H.aw)(B,"redirect-cancelled-by-user"))},2e3))}function fn(){"visible"===document?.visibilityState&&Ht()}T.addPassiveListener(Pe),document.addEventListener("resume",Ht,!1),(0,H.as)()&&document.addEventListener("visibilitychange",fn,!1),ze=()=>{T.removePassiveListener(Pe),document.removeEventListener("resume",Ht,!1),document.removeEventListener("visibilitychange",fn,!1),Ee&&window.clearTimeout(Ee)}})}finally{ze()}})).apply(this,arguments)}function ge(B){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(B){const T=et(B),O=yield crypto.subtle.digest("SHA-256",T);return Array.from(new Uint8Array(O)).map(ze=>ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(B){if((0,H.aq)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const T=new ArrayBuffer(B.length),O=new Uint8Array(T);for(let ne=0;ne<B.length;ne++)O[ne]=B.charCodeAt(ne);return O}class Ve extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(T=>{this.resolveInialized=T})}addPassiveListener(T){this.passiveListeners.add(T)}removePassiveListener(T){this.passiveListeners.delete(T)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(T){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(T)),super.onEvent(T)}initialized(){var T=this;return(0,l.Z)(function*(){yield T.initPromise})()}}function ie(B){return de.apply(this,arguments)}function de(){return(de=(0,l.Z)(function*(B){const T=yield X()._get(pe(B));return T&&(yield X()._remove(pe(B))),T})).apply(this,arguments)}function Q(){const B=[],T="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<20;O++){const ne=Math.floor(Math.random()*T.length);B.push(T.charAt(ne))}return B.join("")}function X(){return(0,H.ay)(H.b)}function pe(B){return(0,H.az)("authEvent",B.config.apiKey,B.name)}function Be(B){if(!B?.includes("?"))return{};const[T,...O]=B.split("?");return(0,se.zd)(O.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function qt(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function Lr(B=(0,se.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()&&"capacitor:"!==qt()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qi(){try{const B=self.localStorage,T=H.aI();if(B)return B.setItem(T,"1"),B.removeItem(T),!function Ki(B=(0,se.z$)()){return function jr(){return(0,se.w1)()&&11===document?.documentMode}()||function Rn(B=(0,se.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,se.hl)()}catch{return $r()&&(0,se.hl)()}return!1}function $r(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function Ut(){return"http:"===qt()||"https:"===qt()}()||(0,se.ru)()||Lr())&&!function Oi(){return(0,se.b$)()||(0,se.UG)()}()&&Qi()&&!$r()}function Ai(){return Lr()&&typeof document<"u"}function tt(){return(tt=(0,l.Z)(function*(){return!!Ai()&&new Promise(B=>{const T=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(T),B(!0)})})})).apply(this,arguments)}const Zn={LOCAL:"local",NONE:"none",SESSION:"session"},Cn=H.ax,br="persistence";function Dn(B){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(B){yield B._initializationPromise;const T=mt(),O=H.az(br,B.config.apiKey,B.name);T&&T.setItem(O,B._getPersistence())})).apply(this,arguments)}function mt(){var B;try{return(null===(B=function nr(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const vt=H.ax;class Vt{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class sn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(T){var O=this;return(0,l.Z)(function*(){const ne=T._key();let ze=O.eventManagers.get(ne);return ze||(ze=new Ve(T),O.eventManagers.set(ne,ze),O.attachCallbackListeners(T,ze)),ze})()}_openPopup(T){(0,H.at)(T,"operation-not-supported-in-this-environment")}_openRedirect(T,O,ne,ze){var lt=this;return(0,l.Z)(function*(){!function be(B){var T,O,ne,ze,lt,ut,Ee,Pe,Ht,fn;const kt=he();(0,H.ax)("function"==typeof(null===(T=kt?.universalLinks)||void 0===T?void 0:T.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(O=kt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(lt=null===(ze=null===(ne=kt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===lt?void 0:lt.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Pe=null===(Ee=null===(ut=kt?.cordova)||void 0===ut?void 0:ut.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Pe?void 0:Pe.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(fn=null===(Ht=kt?.cordova)||void 0===Ht?void 0:Ht.InAppBrowser)||void 0===fn?void 0:fn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(T);const ut=yield lt._initialize(T);yield ut.initialized(),ut.resetRedirect(),(0,H.aD)(),yield lt._originValidation(T);const Ee=function Me(B,T,O=null){return{type:T,eventId:O,urlResponse:null,sessionId:Q(),postBody:null,tenantId:B.tenantId,error:(0,H.aw)(B,"no-auth-event")}}(T,ne,ze);yield function Ye(B,T){return X()._set(pe(B),T)}(T,Ee);const Pe=yield function W(B,T,O){return j.apply(this,arguments)}(T,Ee,O),Ht=yield function Le(B){const{cordova:T}=he();return new Promise(O=>{T.plugins.browsertab.isAvailable(ne=>{let ze=null;ne?T.plugins.browsertab.openUrl(B):ze=T.InAppBrowser.open(B,(0,H.ap)()?"_blank":"_system","location=yes"),O(ze)})})}(Pe);return function xe(B,T,O){return at.apply(this,arguments)}(T,ut,Ht)})()}_isIframeWebStorageSupported(T,O){throw new Error("Method not implemented.")}_originValidation(T){const O=T._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function J(B){return Ue.apply(this,arguments)}(T)),this.originValidationPromises[O]}attachCallbackListeners(T,O){const{universalLinks:ne,handleOpenURL:ze,BuildInfo:lt}=he(),ut=setTimeout((0,l.Z)(function*(){yield ie(T),O.onEvent(Ke())}),500),Ee=function(){var fn=(0,l.Z)(function*(kt){clearTimeout(ut);const hn=yield ie(T);let Xi=null;hn&&kt?.url&&(Xi=function _e(B,T){var O,ne;const ze=function Fe(B){const T=Be(B),O=T.link?decodeURIComponent(T.link):void 0,ne=Be(O).link,ze=T.deep_link_id?decodeURIComponent(T.deep_link_id):void 0;return Be(ze).link||ze||ne||O||B}(T);if(ze.includes("/__/auth/callback")){const lt=Be(ze),ut=lt.firebaseError?function oe(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,Ee=null===(ne=null===(O=ut?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ne?void 0:ne[1],Pe=Ee?(0,H.aw)(Ee):null;return Pe?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:ze,postBody:null}}return null}(hn,kt.url)),O.onEvent(Xi||Ke())});return function(hn){return fn.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,Ee);const Pe=ze,Ht=`${lt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var fn=(0,l.Z)(function*(kt){if(kt.toLowerCase().startsWith(Ht)&&Ee({url:kt}),"function"==typeof Pe)try{Pe(kt)}catch(hn){console.error(hn)}});return function(kt){return fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(T){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(T)})()}_openPopup(T,O,ne,ze){var lt=this;return(0,l.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(T,O,ne,ze)})()}_openRedirect(T,O,ne,ze){var lt=this;return(0,l.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(T,O,ne,ze)})()}_isIframeWebStorageSupported(T,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(T,O)}_originValidation(T){return this.assertedUnderlyingResolver._originValidation(T)}get _shouldInitProactively(){return Ai()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var T=this;return(0,l.Z)(function*(){if(T.underlyingResolver)return;const O=yield function Ji(){return tt.apply(this,arguments)}();T.underlyingResolver=O?T.cordovaResolver:T.browserResolver})()}}function Xr(B){return B.unwrap()}function zr(B){return Wr(B)}function Wr(B){const{_tokenResponse:T}=B instanceof se.ZR?B.customData:B;if(!T)return null;if(!(B instanceof se.ZR)&&"temporaryProof"in T&&"phoneNumber"in T)return H.P.credentialFromResult(B);const O=T.providerId;if(!O||O===H.o.PASSWORD)return null;let ne;switch(O){case H.o.GOOGLE:ne=H.Q;break;case H.o.FACEBOOK:ne=H.N;break;case H.o.GITHUB:ne=H.T;break;case H.o.TWITTER:ne=H.W;break;default:const{oauthIdToken:ze,oauthAccessToken:lt,oauthTokenSecret:ut,pendingToken:Ee,nonce:Pe}=T;return lt||ut||ze||Ee?Ee?O.startsWith("saml.")?H.aL._create(O,Ee):H.J._fromParams({providerId:O,signInMethod:O,pendingToken:Ee,idToken:ze,accessToken:lt}):new H.U(O).credential({idToken:ze,accessToken:lt,rawNonce:Pe}):null}return B instanceof se.ZR?ne.credentialFromError(B):ne.credentialFromResult(B)}function Ft(B,T){return T.catch(O=>{throw O instanceof se.ZR&&function Et(B,T){var O,ne;const ze=null===(O=T.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ne=T)||void 0===ne?void 0:ne.code))T.resolver=new hr(B,H.an(B,T));else if(ze){const lt=Wr(T),ut=T;lt&&(ut.credential=lt,ut.tenantId=ze.tenantId||void 0,ut.email=ze.email||void 0,ut.phoneNumber=ze.phoneNumber||void 0)}}(B,O),O}).then(O=>{const ze=O.user;return{operationType:O.operationType,credential:zr(O),additionalUserInfo:H.al(O),user:In.getOrCreate(ze)}})}function ui(B,T){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(B,T){const O=yield T;return{verificationId:O.verificationId,confirm:ne=>Ft(B,O.confirm(ne))}})).apply(this,arguments)}class hr{constructor(T,O){this.resolver=O,this.auth=function rr(B){return B.wrapped()}(T)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(T){return Ft(Xr(this.auth),this.resolver.resolveSignIn(T))}}class In{constructor(T){this._delegate=T,this.multiFactor=H.ao(T)}static getOrCreate(T){return In.USER_MAP.has(T)||In.USER_MAP.set(T,new In(T)),In.USER_MAP.get(T)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(T){return this._delegate.getIdTokenResult(T)}getIdToken(T){return this._delegate.getIdToken(T)}linkAndRetrieveDataWithCredential(T){return this.linkWithCredential(T)}linkWithCredential(T){var O=this;return(0,l.Z)(function*(){return Ft(O.auth,H.Z(O._delegate,T))})()}linkWithPhoneNumber(T,O){var ne=this;return(0,l.Z)(function*(){return ui(ne.auth,H.l(ne._delegate,T,O))})()}linkWithPopup(T){var O=this;return(0,l.Z)(function*(){return Ft(O.auth,H.d(O._delegate,T,Vt))})()}linkWithRedirect(T){var O=this;return(0,l.Z)(function*(){return yield Dn(H.aE(O.auth)),H.g(O._delegate,T,Vt)})()}reauthenticateAndRetrieveDataWithCredential(T){return this.reauthenticateWithCredential(T)}reauthenticateWithCredential(T){var O=this;return(0,l.Z)(function*(){return Ft(O.auth,H._(O._delegate,T))})()}reauthenticateWithPhoneNumber(T,O){return ui(this.auth,H.r(this._delegate,T,O))}reauthenticateWithPopup(T){return Ft(this.auth,H.e(this._delegate,T,Vt))}reauthenticateWithRedirect(T){var O=this;return(0,l.Z)(function*(){return yield Dn(H.aE(O.auth)),H.h(O._delegate,T,Vt)})()}sendEmailVerification(T){return H.ab(this._delegate,T)}unlink(T){var O=this;return(0,l.Z)(function*(){return yield H.ak(O._delegate,T),O})()}updateEmail(T){return H.ag(this._delegate,T)}updatePassword(T){return H.ah(this._delegate,T)}updatePhoneNumber(T){return H.u(this._delegate,T)}updateProfile(T){return H.af(this._delegate,T)}verifyBeforeUpdateEmail(T,O){return H.ac(this._delegate,T,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}In.USER_MAP=new WeakMap;const it=H.ax;let Se=(()=>{class B{constructor(O,ne){if(this.app=O,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=O.options;it(ze,"invalid-api-key",{appName:O.name}),it(ze,"invalid-api-key",{appName:O.name});const lt=typeof window<"u"?Vt:void 0;this._delegate=ne.initialize({options:{persistence:xt(ze,O.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?In.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ne){H.G(this._delegate,O,ne)}applyActionCode(O){return H.a2(this._delegate,O)}checkActionCode(O){return H.a3(this._delegate,O)}confirmPasswordReset(O,ne){return H.a1(this._delegate,O,ne)}createUserWithEmailAndPassword(O,ne){var ze=this;return(0,l.Z)(function*(){return Ft(ze._delegate,H.a5(ze._delegate,O,ne))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return H.aa(this._delegate,O)}isSignInWithEmailLink(O){return H.a8(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){it(qn(),O._delegate,"operation-not-supported-in-this-environment");const ne=yield H.j(O._delegate,Vt);return ne?Ft(O._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function dn(B,T){(0,H.aE)(B)._logFramework(T)}(this._delegate,O)}onAuthStateChanged(O,ne,ze){const{next:lt,error:ut,complete:Ee}=st(O,ne,ze);return this._delegate.onAuthStateChanged(lt,ut,Ee)}onIdTokenChanged(O,ne,ze){const{next:lt,error:ut,complete:Ee}=st(O,ne,ze);return this._delegate.onIdTokenChanged(lt,ut,Ee)}sendSignInLinkToEmail(O,ne){return H.a7(this._delegate,O,ne)}sendPasswordResetEmail(O,ne){return H.a0(this._delegate,O,ne||void 0)}setPersistence(O){var ne=this;return(0,l.Z)(function*(){let ze;switch(function Z2(B,T){Cn(Object.values(Zn).includes(T),B,"invalid-persistence-type"),(0,se.b$)()?Cn(T!==Zn.SESSION,B,"unsupported-persistence-type"):(0,se.UG)()?Cn(T===Zn.NONE,B,"unsupported-persistence-type"):$r()?Cn(T===Zn.NONE||T===Zn.LOCAL&&(0,se.hl)(),B,"unsupported-persistence-type"):Cn(T===Zn.NONE||Qi(),B,"unsupported-persistence-type")}(ne._delegate,O),O){case Zn.SESSION:ze=H.a;break;case Zn.LOCAL:ze=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case Zn.NONE:ze=H.L;break;default:return H.at("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Ft(this._delegate,H.X(this._delegate))}signInWithCredential(O){return Ft(this._delegate,H.Y(this._delegate,O))}signInWithCustomToken(O){return Ft(this._delegate,H.$(this._delegate,O))}signInWithEmailAndPassword(O,ne){return Ft(this._delegate,H.a6(this._delegate,O,ne))}signInWithEmailLink(O,ne){return Ft(this._delegate,H.a9(this._delegate,O,ne))}signInWithPhoneNumber(O,ne){return ui(this._delegate,H.s(this._delegate,O,ne))}signInWithPopup(O){var ne=this;return(0,l.Z)(function*(){return it(qn(),ne._delegate,"operation-not-supported-in-this-environment"),Ft(ne._delegate,H.c(ne._delegate,O,Vt))})()}signInWithRedirect(O){var ne=this;return(0,l.Z)(function*(){return it(qn(),ne._delegate,"operation-not-supported-in-this-environment"),yield Dn(ne._delegate),H.f(ne._delegate,O,Vt)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return H.a4(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=Zn,B})();function st(B,T,O){let ne=B;"function"!=typeof B&&({next:ne,error:T,complete:O}=B);const ze=ne;return{next:ut=>ze(ut&&In.getOrCreate(ut)),error:T,complete:O}}function xt(B,T){const O=function yn(B,T){const O=mt();if(!O)return[];const ne=H.az(br,B,T);switch(O.getItem(ne)){case Zn.NONE:return[H.L];case Zn.LOCAL:return[H.i,H.a];case Zn.SESSION:return[H.a];default:return[]}}(B,T);if(typeof self<"u"&&!O.includes(H.i)&&O.push(H.i),typeof window<"u")for(const ne of[H.b,H.a])O.includes(ne)||O.push(ne);return O.includes(H.L)||O.push(H.L),O}class St{constructor(){this.providerId="phone",this._delegate=new H.P(Xr(U.Z.auth()))}static credential(T,O){return H.P.credential(T,O)}verifyPhoneNumber(T,O){return this._delegate.verifyPhoneNumber(T,O)}unwrap(){return this._delegate}}St.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,St.PROVIDER_ID=H.P.PROVIDER_ID;const en=H.ax;class ${constructor(T,O,ne=U.Z.app()){var ze;en(null===(ze=ne.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new H.R(T,O,ne.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(B){B.INTERNAL.registerComponent(new le.wA("auth-compat",T=>{const O=T.getProvider("app-compat").getImmediate(),ne=T.getProvider("auth");return new Se(O,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:St,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:$,TwitterAuthProvider:H.W,Auth:Se,AuthCredential:H.H,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.2.23")}(U.Z)},9751:(pt,Ae,k)=>{k.d(Ae,{y:()=>he});var l=k(930),U=k(727),H=k(8822),se=k(9635),ce=k(2416),me=k(576),le=k(2806);let he=(()=>{class J{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const xe=new J;return xe.source=this,xe.operator=Le,xe}subscribe(Le,xe,at){const be=function j(J){return J&&J instanceof l.Lv||function W(J){return J&&(0,me.m)(J.next)&&(0,me.m)(J.error)&&(0,me.m)(J.complete)}(J)&&(0,U.Nn)(J)}(Le)?Le:new l.Hp(Le,xe,at);return(0,le.x)(()=>{const{operator:ge,source:nt}=this;be.add(ge?ge.call(be,nt):nt?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Le){try{return this._subscribe(Le)}catch(xe){Le.error(xe)}}forEach(Le,xe){return new(xe=ye(xe))((at,be)=>{const ge=new l.Hp({next:nt=>{try{Le(nt)}catch(et){be(et),ge.unsubscribe()}},error:be,complete:at});this.subscribe(ge)})}_subscribe(Le){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Le)}[H.L](){return this}pipe(...Le){return(0,se.U)(Le)(this)}toPromise(Le){return new(Le=ye(Le))((xe,at)=>{let be;this.subscribe(ge=>be=ge,ge=>at(ge),()=>xe(be))})}}return J.create=Ue=>new J(Ue),J})();function ye(J){var Ue;return null!==(Ue=J??ce.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(pt,Ae,k)=>{k.d(Ae,{x:()=>le});var l=k(9751),U=k(727);const se=(0,k(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=k(8737),me=k(2806);let le=(()=>{class ye extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const J=new he(this,this);return J.operator=j,J}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(j)}})}error(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:J}=this;for(;J.length;)J.shift().error(j)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:J,isStopped:Ue,observers:Le}=this;return J||Ue?U.Lc:(this.currentObservers=null,Le.push(j),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(Le,j)}))}_checkFinalizedStatuses(j){const{hasError:J,thrownError:Ue,isStopped:Le}=this;J?j.error(Ue):Le&&j.complete()}asObservable(){const j=new l.y;return j.source=this,j}}return ye.create=(W,j)=>new he(W,j),ye})();class he extends le{constructor(W,j){super(),this.destination=W,this.source=j}next(W){var j,J;null===(J=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===J||J.call(j,W)}error(W){var j,J;null===(J=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===J||J.call(j,W)}complete(){var W,j;null===(j=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===j||j.call(W)}_subscribe(W){var j,J;return null!==(J=null===(j=this.source)||void 0===j?void 0:j.subscribe(W))&&void 0!==J?J:U.Lc}}},930:(pt,Ae,k)=>{k.d(Ae,{Hp:()=>at,Lv:()=>J});var l=k(576),U=k(727),H=k(2416),se=k(7849),ce=k(5032);const me=ye("C",void 0,void 0);function ye(ke,Ve,Me){return{kind:ke,value:Ve,error:Me}}var W=k(3410),j=k(2806);class J extends U.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,U.Nn)(Ve)&&Ve.add(this)):this.destination=et}static create(Ve,Me,Ye){return new at(Ve,Me,Ye)}next(Ve){this.isStopped?nt(function he(ke){return ye("N",ke,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?nt(function le(ke){return ye("E",void 0,ke)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?nt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Le(ke,Ve){return Ue.call(ke,Ve)}class xe{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Ve)}catch(Ye){be(Ye)}}error(Ve){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Ve)}catch(Ye){be(Ye)}else be(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(Me){be(Me)}}}class at extends J{constructor(Ve,Me,Ye){let ie;if(super(),(0,l.m)(Ve)||!Ve)ie={next:Ve??void 0,error:Me??void 0,complete:Ye??void 0};else{let de;this&&H.v.useDeprecatedNextContext?(de=Object.create(Ve),de.unsubscribe=()=>this.unsubscribe(),ie={next:Ve.next&&Le(Ve.next,de),error:Ve.error&&Le(Ve.error,de),complete:Ve.complete&&Le(Ve.complete,de)}):ie=Ve}this.destination=new xe(ie)}}function be(ke){H.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(ke):(0,se.h)(ke)}function nt(ke,Ve){const{onStoppedNotification:Me}=H.v;Me&&W.z.setTimeout(()=>Me(ke,Ve))}const et={closed:!0,next:ce.Z,error:function ge(ke){throw ke},complete:ce.Z}},727:(pt,Ae,k)=>{k.d(Ae,{Lc:()=>me,w0:()=>ce,Nn:()=>le});var l=k(576);const H=(0,k(3888).d)(ye=>function(j){ye(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((J,Ue)=>`${Ue+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=k(8737);class ce{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Le of j)Le.remove(this);else j.remove(this);const{initialTeardown:J}=this;if((0,l.m)(J))try{J()}catch(Le){W=Le instanceof H?Le.errors:[Le]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Le of Ue)try{he(Le)}catch(xe){W=W??[],xe instanceof H?W=[...W,...xe.errors]:W.push(xe)}}if(W)throw new H(W)}}add(W){var j;if(W&&W!==this)if(this.closed)he(W);else{if(W instanceof ce){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(W)}}_hasParent(W){const{_parentage:j}=this;return j===W||Array.isArray(j)&&j.includes(W)}_addParent(W){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(W),j):j?[j,W]:W}_removeParent(W){const{_parentage:j}=this;j===W?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,W)}remove(W){const{_finalizers:j}=this;j&&(0,se.P)(j,W),W instanceof ce&&W._removeParent(this)}}ce.EMPTY=(()=>{const ye=new ce;return ye.closed=!0,ye})();const me=ce.EMPTY;function le(ye){return ye instanceof ce||ye&&"closed"in ye&&(0,l.m)(ye.remove)&&(0,l.m)(ye.add)&&(0,l.m)(ye.unsubscribe)}function he(ye){(0,l.m)(ye)?ye():ye.unsubscribe()}},2416:(pt,Ae,k)=>{k.d(Ae,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ae,k)=>{k.d(Ae,{E:()=>U});const U=new(k(9751).y)(ce=>ce.complete())},8996:(pt,Ae,k)=>{k.d(Ae,{D:()=>Ve});var l=k(8421),U=k(5363),H=k(9468),me=k(9751),he=k(2202),ye=k(576),W=k(9672);function J(Me,Ye){if(!Me)throw new Error("Iterable cannot be null");return new me.y(ie=>{(0,W.f)(ie,Ye,()=>{const de=Me[Symbol.asyncIterator]();(0,W.f)(ie,Ye,()=>{de.next().then(_e=>{_e.done?ie.complete():ie.next(_e.value)})},0,!0)})})}var Ue=k(3670),Le=k(8239),xe=k(1144),at=k(6495),be=k(2206),ge=k(4532),nt=k(3260);function Ve(Me,Ye){return Ye?function ke(Me,Ye){if(null!=Me){if((0,Ue.c)(Me))return function se(Me,Ye){return(0,l.Xf)(Me).pipe((0,H.R)(Ye),(0,U.Q)(Ye))}(Me,Ye);if((0,xe.z)(Me))return function le(Me,Ye){return new me.y(ie=>{let de=0;return Ye.schedule(function(){de===Me.length?ie.complete():(ie.next(Me[de++]),ie.closed||this.schedule())})})}(Me,Ye);if((0,Le.t)(Me))return function ce(Me,Ye){return(0,l.Xf)(Me).pipe((0,H.R)(Ye),(0,U.Q)(Ye))}(Me,Ye);if((0,be.D)(Me))return J(Me,Ye);if((0,at.T)(Me))return function j(Me,Ye){return new me.y(ie=>{let de;return(0,W.f)(ie,Ye,()=>{de=Me[he.h](),(0,W.f)(ie,Ye,()=>{let _e,Q;try{({value:_e,done:Q}=de.next())}catch(X){return void ie.error(X)}Q?ie.complete():ie.next(_e)},0,!0)}),()=>(0,ye.m)(de?.return)&&de.return()})}(Me,Ye);if((0,nt.L)(Me))return function et(Me,Ye){return J((0,nt.Q)(Me),Ye)}(Me,Ye)}throw(0,ge.z)(Me)}(Me,Ye):(0,l.Xf)(Me)}},8421:(pt,Ae,k)=>{k.d(Ae,{Xf:()=>Ue});var l=k(655),U=k(1144),H=k(8239),se=k(9751),ce=k(3670),me=k(2206),le=k(4532),he=k(6495),ye=k(3260),W=k(576),j=k(7849),J=k(8822);function Ue(ke){if(ke instanceof se.y)return ke;if(null!=ke){if((0,ce.c)(ke))return function Le(ke){return new se.y(Ve=>{const Me=ke[J.L]();if((0,W.m)(Me.subscribe))return Me.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,U.z)(ke))return function xe(ke){return new se.y(Ve=>{for(let Me=0;Me<ke.length&&!Ve.closed;Me++)Ve.next(ke[Me]);Ve.complete()})}(ke);if((0,H.t)(ke))return function at(ke){return new se.y(Ve=>{ke.then(Me=>{Ve.closed||(Ve.next(Me),Ve.complete())},Me=>Ve.error(Me)).then(null,j.h)})}(ke);if((0,me.D)(ke))return ge(ke);if((0,he.T)(ke))return function be(ke){return new se.y(Ve=>{for(const Me of ke)if(Ve.next(Me),Ve.closed)return;Ve.complete()})}(ke);if((0,ye.L)(ke))return function nt(ke){return ge((0,ye.Q)(ke))}(ke)}throw(0,le.z)(ke)}function ge(ke){return new se.y(Ve=>{(function et(ke,Ve){var Me,Ye,ie,de;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Me=(0,l.KL)(ke);!(Ye=yield Me.next()).done;)if(Ve.next(Ye.value),Ve.closed)return}catch(_e){ie={error:_e}}finally{try{Ye&&!Ye.done&&(de=Me.return)&&(yield de.call(Me))}finally{if(ie)throw ie.error}}Ve.complete()})})(ke,Ve).catch(Me=>Ve.error(Me))})}},6451:(pt,Ae,k)=>{k.d(Ae,{T:()=>me});var l=k(8189),U=k(8421),H=k(515),se=k(3269),ce=k(8996);function me(...le){const he=(0,se.yG)(le),ye=(0,se._6)(le,1/0),W=le;return W.length?1===W.length?(0,U.Xf)(W[0]):(0,l.J)(ye)((0,ce.D)(W,he)):H.E}},5403:(pt,Ae,k)=>{k.d(Ae,{x:()=>U});var l=k(930);function U(se,ce,me,le,he){return new H(se,ce,me,le,he)}class H extends l.Lv{constructor(ce,me,le,he,ye,W){super(ce),this.onFinalize=ye,this.shouldUnsubscribe=W,this._next=me?function(j){try{me(j)}catch(J){ce.error(J)}}:super._next,this._error=he?function(j){try{he(j)}catch(J){ce.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){ce.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(pt,Ae,k)=>{k.d(Ae,{U:()=>H});var l=k(4482),U=k(5403);function H(se,ce){return(0,l.e)((me,le)=>{let he=0;me.subscribe((0,U.x)(le,ye=>{le.next(se.call(ce,ye,he++))}))})}},8189:(pt,Ae,k)=>{k.d(Ae,{J:()=>H});var l=k(5577),U=k(4671);function H(se=1/0){return(0,l.z)(U.y,se)}},5577:(pt,Ae,k)=>{k.d(Ae,{z:()=>he});var l=k(4004),U=k(8421),H=k(4482),se=k(9672),ce=k(5403),le=k(576);function he(ye,W,j=1/0){return(0,le.m)(W)?he((J,Ue)=>(0,l.U)((Le,xe)=>W(J,Le,Ue,xe))((0,U.Xf)(ye(J,Ue))),j):("number"==typeof W&&(j=W),(0,H.e)((J,Ue)=>function me(ye,W,j,J,Ue,Le,xe,at){const be=[];let ge=0,nt=0,et=!1;const ke=()=>{et&&!be.length&&!ge&&W.complete()},Ve=Ye=>ge<J?Me(Ye):be.push(Ye),Me=Ye=>{Le&&W.next(Ye),ge++;let ie=!1;(0,U.Xf)(j(Ye,nt++)).subscribe((0,ce.x)(W,de=>{Ue?.(de),Le?Ve(de):W.next(de)},()=>{ie=!0},void 0,()=>{if(ie)try{for(ge--;be.length&&ge<J;){const de=be.shift();xe?(0,se.f)(W,xe,()=>Me(de)):Me(de)}ke()}catch(de){W.error(de)}}))};return ye.subscribe((0,ce.x)(W,Ve,()=>{et=!0,ke()})),()=>{at?.()}}(J,Ue,ye,j)))}},5363:(pt,Ae,k)=>{k.d(Ae,{Q:()=>se});var l=k(9672),U=k(4482),H=k(5403);function se(ce,me=0){return(0,U.e)((le,he)=>{le.subscribe((0,H.x)(he,ye=>(0,l.f)(he,ce,()=>he.next(ye),me),()=>(0,l.f)(he,ce,()=>he.complete(),me),ye=>(0,l.f)(he,ce,()=>he.error(ye),me)))})}},3099:(pt,Ae,k)=>{k.d(Ae,{B:()=>ce});var l=k(8421),U=k(7579),H=k(930),se=k(4482);function ce(le={}){const{connector:he=(()=>new U.x),resetOnError:ye=!0,resetOnComplete:W=!0,resetOnRefCountZero:j=!0}=le;return J=>{let Ue,Le,xe,at=0,be=!1,ge=!1;const nt=()=>{Le?.unsubscribe(),Le=void 0},et=()=>{nt(),Ue=xe=void 0,be=ge=!1},ke=()=>{const Ve=Ue;et(),Ve?.unsubscribe()};return(0,se.e)((Ve,Me)=>{at++,!ge&&!be&&nt();const Ye=xe=xe??he();Me.add(()=>{at--,0===at&&!ge&&!be&&(Le=me(ke,j))}),Ye.subscribe(Me),!Ue&&at>0&&(Ue=new H.Hp({next:ie=>Ye.next(ie),error:ie=>{ge=!0,nt(),Le=me(et,ye,ie),Ye.error(ie)},complete:()=>{be=!0,nt(),Le=me(et,W),Ye.complete()}}),(0,l.Xf)(Ve).subscribe(Ue))})(J)}}function me(le,he,...ye){if(!0===he)return void le();if(!1===he)return;const W=new H.Hp({next:()=>{W.unsubscribe(),le()}});return he(...ye).subscribe(W)}},9468:(pt,Ae,k)=>{k.d(Ae,{R:()=>U});var l=k(4482);function U(H,se=0){return(0,l.e)((ce,me)=>{me.add(H.schedule(()=>ce.subscribe(me),se))})}},8505:(pt,Ae,k)=>{k.d(Ae,{b:()=>ce});var l=k(576),U=k(4482),H=k(5403),se=k(4671);function ce(me,le,he){const ye=(0,l.m)(me)||le||he?{next:me,error:le,complete:he}:me;return ye?(0,U.e)((W,j)=>{var J;null===(J=ye.subscribe)||void 0===J||J.call(ye);let Ue=!0;W.subscribe((0,H.x)(j,Le=>{var xe;null===(xe=ye.next)||void 0===xe||xe.call(ye,Le),j.next(Le)},()=>{var Le;Ue=!1,null===(Le=ye.complete)||void 0===Le||Le.call(ye),j.complete()},Le=>{var xe;Ue=!1,null===(xe=ye.error)||void 0===xe||xe.call(ye,Le),j.error(Le)},()=>{var Le,xe;Ue&&(null===(Le=ye.unsubscribe)||void 0===Le||Le.call(ye)),null===(xe=ye.finalize)||void 0===xe||xe.call(ye)}))}):se.y}},4408:(pt,Ae,k)=>{k.d(Ae,{o:()=>ce});var l=k(727);class U extends l.w0{constructor(le,he){super()}schedule(le,he=0){return this}}const H={setInterval(me,le,...he){const{delegate:ye}=H;return ye?.setInterval?ye.setInterval(me,le,...he):setInterval(me,le,...he)},clearInterval(me){const{delegate:le}=H;return(le?.clearInterval||clearInterval)(me)},delegate:void 0};var se=k(8737);class ce extends U{constructor(le,he){super(le,he),this.scheduler=le,this.work=he,this.pending=!1}schedule(le,he=0){var ye;if(this.closed)return this;this.state=le;const W=this.id,j=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(j,W,he)),this.pending=!0,this.delay=he,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(j,this.id,he),this}requestAsyncId(le,he,ye=0){return H.setInterval(le.flush.bind(le,this),ye)}recycleAsyncId(le,he,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return he;null!=he&&H.clearInterval(he)}execute(le,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(le,he);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,he){let W,ye=!1;try{this.work(le)}catch(j){ye=!0,W=j||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:le,scheduler:he}=this,{actions:ye}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ye,this),null!=le&&(this.id=this.recycleAsyncId(he,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Ae,k)=>{k.d(Ae,{v:()=>H});var l=k(6063);class U{constructor(ce,me=U.now){this.schedulerActionCtor=ce,this.now=me}schedule(ce,me=0,le){return new this.schedulerActionCtor(this,ce).schedule(le,me)}}U.now=l.l.now;class H extends U{constructor(ce,me=U.now){super(ce,me),this.actions=[],this._active=!1}flush(ce){const{actions:me}=this;if(this._active)return void me.push(ce);let le;this._active=!0;do{if(le=ce.execute(ce.state,ce.delay))break}while(ce=me.shift());if(this._active=!1,le){for(;ce=me.shift();)ce.unsubscribe();throw le}}}},4986:(pt,Ae,k)=>{k.d(Ae,{P:()=>se,z:()=>H});var l=k(4408);const H=new(k(7565).v)(l.o),se=H},6063:(pt,Ae,k)=>{k.d(Ae,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(pt,Ae,k)=>{k.d(Ae,{z:()=>l});const l={setTimeout(U,H,...se){const{delegate:ce}=l;return ce?.setTimeout?ce.setTimeout(U,H,...se):setTimeout(U,H,...se)},clearTimeout(U){const{delegate:H}=l;return(H?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(pt,Ae,k)=>{k.d(Ae,{h:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ae,k)=>{k.d(Ae,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Ae,k)=>{k.d(Ae,{_6:()=>me,jO:()=>se,yG:()=>ce});var l=k(576),U=k(3532);function H(le){return le[le.length-1]}function se(le){return(0,l.m)(H(le))?le.pop():void 0}function ce(le){return(0,U.K)(H(le))?le.pop():void 0}function me(le,he){return"number"==typeof H(le)?le.pop():he}},8737:(pt,Ae,k)=>{function l(U,H){if(U){const se=U.indexOf(H);0<=se&&U.splice(se,1)}}k.d(Ae,{P:()=>l})},3888:(pt,Ae,k)=>{function l(U){const se=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ae,{d:()=>l})},2806:(pt,Ae,k)=>{k.d(Ae,{O:()=>se,x:()=>H});var l=k(2416);let U=null;function H(ce){if(l.v.useDeprecatedSynchronousErrorHandling){const me=!U;if(me&&(U={errorThrown:!1,error:null}),ce(),me){const{errorThrown:le,error:he}=U;if(U=null,le)throw he}}else ce()}function se(ce){l.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},9672:(pt,Ae,k)=>{function l(U,H,se,ce=0,me=!1){const le=H.schedule(function(){se(),me?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(le),!me)return le}k.d(Ae,{f:()=>l})},4671:(pt,Ae,k)=>{function l(U){return U}k.d(Ae,{y:()=>l})},1144:(pt,Ae,k)=>{k.d(Ae,{z:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(pt,Ae,k)=>{k.d(Ae,{D:()=>U});var l=k(576);function U(H){return Symbol.asyncIterator&&(0,l.m)(H?.[Symbol.asyncIterator])}},576:(pt,Ae,k)=>{function l(U){return"function"==typeof U}k.d(Ae,{m:()=>l})},3670:(pt,Ae,k)=>{k.d(Ae,{c:()=>H});var l=k(8822),U=k(576);function H(se){return(0,U.m)(se[l.L])}},6495:(pt,Ae,k)=>{k.d(Ae,{T:()=>H});var l=k(2202),U=k(576);function H(se){return(0,U.m)(se?.[l.h])}},8239:(pt,Ae,k)=>{k.d(Ae,{t:()=>U});var l=k(576);function U(H){return(0,l.m)(H?.then)}},3260:(pt,Ae,k)=>{k.d(Ae,{L:()=>se,Q:()=>H});var l=k(655),U=k(576);function H(ce){return(0,l.FC)(this,arguments,function*(){const le=ce.getReader();try{for(;;){const{value:he,done:ye}=yield(0,l.qq)(le.read());if(ye)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(he)}}finally{le.releaseLock()}})}function se(ce){return(0,U.m)(ce?.getReader)}},3532:(pt,Ae,k)=>{k.d(Ae,{K:()=>U});var l=k(576);function U(H){return H&&(0,l.m)(H.schedule)}},4482:(pt,Ae,k)=>{k.d(Ae,{A:()=>U,e:()=>H});var l=k(576);function U(se){return(0,l.m)(se?.lift)}function H(se){return ce=>{if(U(ce))return ce.lift(function(me){try{return se(me,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Ae,k)=>{function l(){}k.d(Ae,{Z:()=>l})},9635:(pt,Ae,k)=>{k.d(Ae,{U:()=>H,z:()=>U});var l=k(4671);function U(...se){return H(se)}function H(se){return 0===se.length?l.y:1===se.length?se[0]:function(me){return se.reduce((le,he)=>he(le),me)}}},7849:(pt,Ae,k)=>{k.d(Ae,{h:()=>H});var l=k(2416),U=k(3410);function H(se){U.z.setTimeout(()=>{const{onUnhandledError:ce}=l.v;if(!ce)throw se;ce(se)})}},4532:(pt,Ae,k)=>{function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>l})},655:(pt,Ae,k)=>{function se(Q,X){var pe={};for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&X.indexOf(oe)<0&&(pe[oe]=Q[oe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(oe=Object.getOwnPropertySymbols(Q);Fe<oe.length;Fe++)X.indexOf(oe[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Q,oe[Fe])&&(pe[oe[Fe]]=Q[oe[Fe]])}return pe}function he(Q,X,pe,oe){return new(pe||(pe=Promise))(function(Be,Ct){function sn(dn){try{Ke(oe.next(dn))}catch(xn){Ct(xn)}}function Gt(dn){try{Ke(oe.throw(dn))}catch(xn){Ct(xn)}}function Ke(dn){dn.done?Be(dn.value):function Fe(Be){return Be instanceof pe?Be:new pe(function(Ct){Ct(Be)})}(dn.value).then(sn,Gt)}Ke((oe=oe.apply(Q,X||[])).next())})}function be(Q){return this instanceof be?(this.v=Q,this):new be(Q)}function ge(Q,X,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,oe=pe.apply(Q,X||[]),Be=[];return Fe={},Ct("next"),Ct("throw"),Ct("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ct(nn){oe[nn]&&(Fe[nn]=function(rn){return new Promise(function(qt,Ut){Be.push([nn,rn,qt,Ut])>1||sn(nn,rn)})})}function sn(nn,rn){try{!function Gt(nn){nn.value instanceof be?Promise.resolve(nn.value.v).then(Ke,dn):xn(Be[0][2],nn)}(oe[nn](rn))}catch(qt){xn(Be[0][3],qt)}}function Ke(nn){sn("next",nn)}function dn(nn){sn("throw",nn)}function xn(nn,rn){nn(rn),Be.shift(),Be.length&&sn(Be[0][0],Be[0][1])}}function et(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,X=Q[Symbol.asyncIterator];return X?X.call(Q):(Q=function J(Q){var X="function"==typeof Symbol&&Symbol.iterator,pe=X&&Q[X],oe=0;if(pe)return pe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),pe={},oe("next"),oe("throw"),oe("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function oe(Be){pe[Be]=Q[Be]&&function(Ct){return new Promise(function(sn,Gt){!function Fe(Be,Ct,sn,Gt){Promise.resolve(Gt).then(function(Ke){Be({value:Ke,done:sn})},Ct)}(sn,Gt,(Ct=Q[Be](Ct)).done,Ct.value)})}}}k.d(Ae,{FC:()=>ge,KL:()=>et,_T:()=>se,mG:()=>he,qq:()=>be})},4650:(pt,Ae,k)=>{k.d(Ae,{$8M:()=>Co,$Z:()=>Ch,AFp:()=>Gd,ALo:()=>ng,AaK:()=>he,CHM:()=>j3,CRH:()=>hg,CZH:()=>C0,CqO:()=>p9,D6c:()=>mm,EJc:()=>YM,EiD:()=>So,EpF:()=>f9,F$t:()=>_9,F4k:()=>h9,FYo:()=>i_,FiY:()=>Ce,G48:()=>lw,Gf:()=>fg,GfV:()=>I7,Gpc:()=>j,Hsn:()=>C9,Ikx:()=>e0,JOm:()=>as,JVY:()=>n6,KtG:()=>k1,L6k:()=>Au,LAX:()=>Nu,LFG:()=>Yt,LMc:()=>Nw,LSH:()=>s6,Lbi:()=>WM,Lck:()=>Kb,MAs:()=>l9,MGl:()=>Q6,MMx:()=>Ed,NdJ:()=>q8,OlP:()=>En,Oqu:()=>sd,PXZ:()=>Yg,Q6J:()=>G8,QGY:()=>W8,QP$:()=>ze,Qsj:()=>aN,QtT:()=>Lp,R0b:()=>j2,RDi:()=>e6,Rgc:()=>W4,SBq:()=>_a,SDv:()=>Hp,Sil:()=>QM,Suo:()=>kd,TTD:()=>D2,TgZ:()=>Z6,Tol:()=>td,Udp:()=>O4,VKq:()=>qp,W1O:()=>gg,WLB:()=>Zp,X6Q:()=>cw,XFs:()=>tt,Xpm:()=>Se,Xts:()=>Lu,Y36:()=>Uc,YKP:()=>Rp,YNc:()=>c9,Yjl:()=>B,Yz7:()=>rn,Z0I:()=>Oi,ZZ4:()=>lf,_Bn:()=>kp,_UZ:()=>j8,_Vd:()=>ya,_c5:()=>Aw,_uU:()=>id,aQg:()=>uf,c2e:()=>qM,cJS:()=>Ut,cg1:()=>ud,dDg:()=>rw,dqk:()=>Vt,eBb:()=>Eu,eFA:()=>Jg,ekj:()=>ed,eoX:()=>Wg,f3M:()=>wn,g9A:()=>$d,h0i:()=>o3,hGG:()=>Ew,hij:()=>X6,iGM:()=>dg,ifc:()=>vt,ip1:()=>kg,jDz:()=>Nd,kEZ:()=>Yp,kL8:()=>dd,lG2:()=>Z,lcZ:()=>rg,lqb:()=>os,lri:()=>jg,mCW:()=>v,n5z:()=>I2,oAB:()=>en,oJD:()=>i6,oxw:()=>v9,pB0:()=>Sc,pQV:()=>wd,q3G:()=>kn,q4F:()=>T7,qLn:()=>M4,qOj:()=>k8,qZA:()=>R4,qzn:()=>k2,rWj:()=>$g,s9C:()=>K6,sBO:()=>dw,sIi:()=>qc,s_b:()=>f0,soG:()=>b0,tb:()=>Wd,tp0:()=>yt,uIk:()=>P8,vHH:()=>xe,vpe:()=>ds,wAp:()=>Nt,xp6:()=>ah,z2F:()=>w0,z3N:()=>f2,zSh:()=>l6,zs3:()=>Eo});var l=k(7579),U=k(727),H=k(9751),se=k(6451),ce=k(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=me({__forward_ref__:me});function j(s){return s.__forward_ref__=j,s.toString=function(){return he(this())},s}function J(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===j}class xe extends Error{constructor(o,c){super(function at(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function be(s){return"string"==typeof s?s:null==s?"":String(s)}function Ve(s,o){throw new xe(-201,!1)}function Ke(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ut(s){return{providers:s.providers||[],imports:s.imports||[]}}function Lr(s){return jr(s,$r)||jr(s,Ai)}function Oi(s){return null!==Lr(s)}function jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qi(s){return s&&(s.hasOwnProperty(qn)||s.hasOwnProperty(Ji))?s[qn]:null}const $r=me({\u0275prov:me}),qn=me({\u0275inj:me}),Ai=me({ngInjectableDef:me}),Ji=me({ngInjectorDef:me});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let nr;function Cn(s){const o=nr;return nr=s,o}function br(s,o,c){const d=Lr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&tt.Optional?null:void 0!==o?o:void Ve(he(s))}function Dn(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),vt=(()=>{return(s=vt||(vt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",vt;var s})();const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zr={},Et=[],Wr=me({\u0275cmp:me}),Ft=me({\u0275dir:me}),ui=me({\u0275pipe:me}),Qt=me({\u0275mod:me}),hr=me({\u0275fac:me}),In=me({__NG_ELEMENT_ID__:me});let it=0;function Se(s){return Dn(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Et,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||vt.Emulated,id:"c"+it++,styles:s.styles||Et,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return h.inputs=G(s.inputs,d),h.outputs=G(s.outputs),y&&y.forEach(b=>b(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(xt).filter(St):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(ne).filter(St):null,h})}function xt(s){return T(s)||O(s)}function St(s){return null!==s}function en(s){return Dn(()=>({type:s.type,bootstrap:s.bootstrap||Et,declarations:s.declarations||Et,imports:s.imports||Et,exports:s.exports||Et,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,o){if(null==s)return zr;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,o&&(o[h]=p)}return c}const Z=Se;function B(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function T(s){return s[Wr]||null}function O(s){return s[Ft]||null}function ne(s){return s[ui]||null}function ze(s){const o=T(s)||O(s)||ne(s);return null!==o&&o.standalone}function lt(s,o){const c=s[Qt]||null;if(!c&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return c}function ir(s){return Array.isArray(s)&&"object"==typeof s[1]}function fi(s){return Array.isArray(s)&&!0===s[1]}function t1(s){return 0!=(8&s.flags)}function so(s){return 2==(2&s.flags)}function ys(s){return 1==(1&s.flags)}function ti(s){return null!==s.template}function qo(s){return 0!=(256&s[2])}function Dr(s,o){return s.hasOwnProperty(hr)?s[hr]:null}class s2{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function D2(){return Xa}function Xa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Zo),ao}function ao(){const s=H1(this),o=s?.current;if(o){const c=s.previous;if(c===zr)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Zo(s,o,c,d){const h=H1(s)||function pi(s,o){return s[ec]=o}(s,{previous:zr,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[c],w=y[b];p[b]=new s2(w&&w.currentValue,o,y===zr),s[d]=o}D2.ngInherit=!0;const ec="__ngSimpleChanges__";function H1(s){return s[ec]||null}function On(s){for(;Array.isArray(s);)s=s[0];return s}function Ei(s,o){return On(o[s])}function Sr(s,o){return On(o[s.index])}function L1(s,o){return s.data[o]}function Pi(s,o){return s[o]}function on(s,o){const c=o[s];return ir(c)?c:c[0]}function S2(s){return 64==(64&s[2])}function vi(s,o){return null==o?null:s[o]}function bs(s){s[18]=0}function Bn(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const zt={lFrame:Ts(null),bindingsEnabled:!0};function i1(){return zt.bindingsEnabled}function Te(){return zt.lFrame.lView}function Zt(){return zt.lFrame.tView}function j3(s){return zt.lFrame.contextLView=s,s[8]}function k1(s){return zt.lFrame.contextLView=null,s}function sr(){let s=R1();for(;null!==s&&64===s.type;)s=s.parent;return s}function R1(){return zt.lFrame.currentTNode}function lo(){const s=zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Zr(s,o){const c=zt.lFrame;c.currentTNode=s,c.isParent=o}function uo(){return zt.lFrame.isParent}function O1(){zt.lFrame.isParent=!1}function or(){const s=zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Es(){return zt.lFrame.bindingIndex++}function a2(s){const o=zt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Jo(s){zt.lFrame.inI18n=s}function ic(s,o){const c=zt.lFrame;c.bindingIndex=c.bindingRootIndex=s,P1(o)}function P1(s){zt.lFrame.currentDirectiveIndex=s}function Ns(){return zt.lFrame.currentQueryIndex}function ea(s){zt.lFrame.currentQueryIndex=s}function Is(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function sc(s,o,c){if(c&tt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||c&tt.Host||(h=Is(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=zt.lFrame=q3();return d.currentTNode=o,d.lView=s,!0}function F1(s){const o=q3(),c=s[1];zt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function q3(){const s=zt.lFrame,o=null===s?null:s.child;return null===o?Ts(s):o}function Ts(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Z3(){const s=zt.lFrame;return zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const oc=Z3;function A2(){const s=Z3();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Hn(){return zt.lFrame.selectedIndex}function c2(s){zt.lFrame.selectedIndex=s}function Ln(){const s=zt.lFrame;return L1(s.tView,s.selectedIndex)}function fo(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:V}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),b&&((s.contentHooks||(s.contentHooks=[])).push(c,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,b)),w&&(s.viewHooks||(s.viewHooks=[])).push(-c,w),E&&((s.viewHooks||(s.viewHooks=[])).push(c,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,E)),null!=V&&(s.destroyHooks||(s.destroyHooks=[])).push(c,V)}}function B1(s,o,c){G1(s,o,3,c)}function U1(s,o,c,d){(3&s[2])===c&&G1(s,o,c,d)}function lc(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function G1(s,o,c,d){const p=d??-1,y=o.length-1;let b=0;for(let w=void 0!==d?65535&s[18]:0;w<y;w++)if("number"==typeof o[w+1]){if(b=o[w],null!=d&&b>=d)break}else o[w]<0&&(s[18]+=65536),(b<p||-1==p)&&(uc(s,c,o,w),s[18]=(4294901760&s[18])+w+2),w++}function uc(s,o,c,d){const h=c[d]<0,p=c[d+1],b=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class yi{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function l2(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],y=c[d++],b=c[d++];s.setAttribute(o,y,b,p)}else{const p=h,y=c[++d];oa(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Vs(s){return 3===s||4===s||6===s}function oa(s){return 64===s.charCodeAt(0)}function Hs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||fc(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function fc(s,o,c,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Q3(s){return-1!==s}function ar(s){return 32767&s}function N2(s,o){let c=function J3(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let aa=!0;function Ls(s){const o=aa;return aa=s,o}let hc=0;const ri={};function u2(s,o){const c=vo(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ca(d.data,s),ca(o,null),ca(d.blueprint,null));const h=zs(s,o),p=s.injectorIndex;if(Q3(h)){const y=ar(h),b=N2(h,o),w=b[1].data;for(let E=0;E<8;E++)o[p+E]=b[y+E]|w[y+E]}return o[p+8]=h,p}function ca(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function zs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=Q1(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function o1(s,o,c){!function pc(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(In)&&(d=c[In]),null==d&&(d=c[In]=hc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function $1(s,o,c){if(c&tt.Optional||void 0!==s)return s;Ve()}function W1(s,o,c,d){if(c&tt.Optional&&void 0===d&&(d=null),0==(c&(tt.Self|tt.Host))){const h=s[9],p=Cn(void 0);try{return h?h.get(o,d,c&tt.Optional):br(o,d,c&tt.Optional)}finally{Cn(p)}}return $1(d,0,c)}function q1(s,o,c,d=tt.Default,h){if(null!==s){if(1024&o[2]){const y=function t4(s,o,c,d,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const b=gc(p,y,c,d|tt.Self,ri);if(b!==ri)return b;let w=p.parent;if(!w){const E=y[21];if(E){const V=E.get(c,ri,d);if(V!==ri)return V}w=Q1(y),y=y[15]}p=w}return h}(s,o,c,d,ri);if(y!==ri)return y}const p=gc(s,o,c,d,ri);if(p!==ri)return p}return W1(o,c,d,h)}function gc(s,o,c,d,h){const p=function e4(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(In)?s[In]:void 0;return"number"==typeof o?o>=0?255&o:la:o}(c);if("function"==typeof p){if(!sc(o,s,d))return d&tt.Host?$1(h,0,d):W1(o,c,d,h);try{const y=p(d);if(null!=y||d&tt.Optional)return y;Ve()}finally{oc()}}else if("number"==typeof p){let y=null,b=vo(s,o),w=-1,E=d&tt.Host?o[16][6]:null;for((-1===b||d&tt.SkipSelf)&&(w=-1===b?zs(s,o):o[b+8],-1!==w&&_o(d,!1)?(y=o[1],b=ar(w),o=N2(w,o)):b=-1);-1!==b;){const V=o[1];if(Z1(p,b,V.data)){const R=yo(b,o,c,y,d,E);if(R!==ri)return R}w=o[b+8],-1!==w&&_o(d,o[1].data[b+8]===E)&&Z1(p,b,o)?(y=V,b=ar(w),o=N2(w,o)):b=-1}}return h}function yo(s,o,c,d,h,p){const y=o[1],b=y.data[s+8],V=Rs(b,y,c,null==d?so(b)&&aa:d!=y&&0!=(3&b.type),h&tt.Host&&p===b);return null!==V?Bi(o,y,V,b):ri}function Rs(s,o,c,d,h){const p=s.providerIndexes,y=o.data,b=1048575&p,w=s.directiveStart,V=p>>20,q=h?b+V:s.directiveEnd;for(let te=d?b:b+V;te<q;te++){const we=y[te];if(te<w&&c===we||te>=w&&we.type===c)return te}if(h){const te=y[w];if(te&&ti(te)&&te.type===c)return w}return null}function Bi(s,o,c,d){let h=s[c];const p=o.data;if(function sa(s){return s instanceof yi}(h)){const y=h;y.resolving&&function nt(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():be(s)}(p[c]));const b=Ls(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?Cn(y.injectImpl):null;sc(s,d,tt.Default);try{h=s[c]=y.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function ia(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=Xa(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==w&&Cn(w),Ls(b),y.resolving=!1,oc()}}return h}function Z1(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function _o(s,o){return!(s&tt.Self||s&tt.Host&&o)}class Y1{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return q1(this._tNode,this._lView,o,d,c)}}function la(){return new Y1(sr(),Te())}function I2(s){return Dn(()=>{const o=s.prototype.constructor,c=o[hr]||K1(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[hr]||K1(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function K1(s){return Ue(s)?()=>{const o=K1(J(s));return o&&o()}:Dr(s)}function Q1(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Co(s){return function ks(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Vs(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===o)return c[h+1];h+=2}}}return null}(sr(),s)}const J1="__parameters__";function es(s,o,c){return Dn(()=>{const d=function ua(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(w,E,V){const R=w.hasOwnProperty(J1)?w[J1]:Object.defineProperty(w,J1,{value:[]})[J1];for(;R.length<=V;)R.push(null);return(R[V]=R[V]||[]).push(y),w}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class En{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tn(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),tn(d,o)):o!==s&&o.push(d)}return o}function d2(s,o){s.forEach(c=>Array.isArray(c)?d2(c,o):o(c))}function l1(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function zn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function u1(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ot(s,o,c){let d=Gi(s,o);return d>=0?s[1|d]=c:(d=~d,function i4(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function da(s,o){const c=Gi(s,o);if(c>=0)return s[1|c]}function Gi(s,o){return function Ps(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<c];if(o===y)return p<<c;y>o?h=p:d=p+1}return~(h<<c)}(s,o,1)}const Ti={},Mo="__NG_DI_FLAG__",Rr="ngTempTokenPath",wr=/\n/gm,Mn="__source";let f1;function h1(s){const o=f1;return f1=s,o}function jn(s,o=tt.Default){if(void 0===f1)throw new xe(-203,!1);return null===f1?br(s,void 0,o):f1.get(s,o&tt.Optional?null:void 0,o)}function Yt(s,o=tt.Default){return(function Zn(){return nr}()||jn)(J(s),o)}function wn(s,o=tt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Yt(s,o)}function D(s){const o=[];for(let c=0;c<s.length;c++){const d=J(s[c]);if(Array.isArray(d)){if(0===d.length)throw new xe(900,!1);let h,p=tt.Default;for(let y=0;y<d.length;y++){const b=d[y],w=I(b);"number"==typeof w?-1===w?h=b.token:p|=w:h=b}o.push(Yt(h,p))}else o.push(Yt(d))}return o}function S(s,o){return s[Mo]=o,s.prototype[Mo]=o,s}function I(s){return s[Mo]}const Ce=S(es("Optional"),8),yt=S(es("SkipSelf"),4);let l4,fa,xc;function e6(s){l4=s}function Mc(){return void 0!==l4?l4:typeof document<"u"?document:void 0}function v1(s){return function wc(){if(void 0===fa&&(fa=null,Vt.trustedTypes))try{fa=Vt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return fa}()?.createHTML(s)||s}function t6(s){return function y1(){if(void 0===xc&&(xc=null,Vt.trustedTypes))try{xc=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xc}()?.createHTML(s)||s}class Gs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Do extends Gs{getTypeName(){return"HTML"}}class pa extends Gs{getTypeName(){return"Style"}}class d4 extends Gs{getTypeName(){return"Script"}}class Dc extends Gs{getTypeName(){return"URL"}}class f4 extends Gs{getTypeName(){return"ResourceURL"}}function f2(s){return s instanceof Gs?s.changingThisBreaksApplicationSecurity:s}function k2(s,o){const c=function h4(s){return s instanceof Gs&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function n6(s){return new Do(s)}function Au(s){return new pa(s)}function Eu(s){return new d4(s)}function Nu(s){return new Dc(s)}function Sc(s){return new f4(s)}function p4(s){const o=new Tu(s);return function C(){try{return!!(new window.DOMParser).parseFromString(v1(""),"text/html")}catch{return!1}}()?new Iu(o):o}class Iu{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(v1(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class Tu{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=v1(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=v1(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function v(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function M(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function N(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const L=M("area,br,col,hr,img,wbr"),ee=M("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ne=M("rp,rt"),pn=N(L,N(ee,M("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),N(Ne,M("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N(Ne,ee)),Yr=M("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ec=N(Yr,M("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),M("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nc=M("script,style,template");class js{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!pn.hasOwnProperty(c))return this.sanitizedSomething=!0,!Nc.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,b=y.toLowerCase();if(!Ec.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=p.value;Yr[b]&&(w=v(w)),this.buf.push(" ",y,'="',Ic(w),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();pn.hasOwnProperty(c)&&!L.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Ic(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const r6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g4=/([^\#-~ |!])/g;function Ic(s){return s.replace(/&/g,"&amp;").replace(r6,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(g4,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ga;function So(s,o){let c=null;try{ga=ga||p4(s);let d=o?String(o):"";c=ga.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=ga.getInertBodyElement(d)}while(d!==p);return v1((new js).sanitizeChildren(rs(c)||c))}finally{if(c){const d=rs(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function rs(s){return"content"in s&&function Vu(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var kn=(()=>((kn=kn||{})[kn.NONE=0]="NONE",kn[kn.HTML=1]="HTML",kn[kn.STYLE=2]="STYLE",kn[kn.SCRIPT=3]="SCRIPT",kn[kn.URL=4]="URL",kn[kn.RESOURCE_URL=5]="RESOURCE_URL",kn))();function i6(s){const o=m4();return o?t6(o.sanitize(kn.HTML,s)||""):k2(s,"HTML")?t6(f2(s)):So(Mc(),be(s))}function s6(s){const o=m4();return o?o.sanitize(kn.URL,s)||"":k2(s,"URL")?f2(s):v(be(s))}function m4(){const s=Te();return s&&s[12]}const Lu=new En("ENVIRONMENT_INITIALIZER"),y7=new En("INJECTOR",-1),_7=new En("INJECTOR_DEF_TYPES");class C7{get(o,c=Ti){if(c===Ti){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return c}}function e_(...s){return{\u0275providers:b7(0,s)}}function b7(s,...o){const c=[],d=new Set;let h;return d2(o,p=>{const y=p;a6(y,c,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&M7(h,c),c}function M7(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];d2(h,p=>{o.push(p)})}}function a6(s,o,c,d){if(!(s=J(s)))return!1;let h=null,p=Qi(s);const y=!p&&T(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const w=s.ngModule;if(p=Qi(w),!p)return!1;h=w}const b=d.has(h);if(y){if(b)return!1;if(d.add(h),y.dependencies){const w="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const E of w)a6(E,o,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let E;d.add(h);try{d2(p.imports,V=>{a6(V,o,c,d)&&(E||(E=[]),E.push(V))})}finally{}void 0!==E&&M7(E,o)}if(!b){const E=Dr(h)||(()=>new h);o.push({provide:h,useFactory:E,deps:Et},{provide:_7,useValue:h,multi:!0},{provide:Lu,useValue:()=>Yt(h),multi:!0})}const w=p.providers;null==w||b||d2(w,V=>{o.push(V)})}}return h!==s&&void 0!==s.providers}const w7=me({provide:String,useValue:me});function v4(s){return null!==s&&"object"==typeof s&&w7 in s}function R2(s){return"function"==typeof s}const l6=new En("Set Injector scope."),u6={},va={};let d6;function f6(){return void 0===d6&&(d6=new C7),d6}class os{}class zu extends os{constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p6(o,y=>this.processProvider(y)),this.records.set(y7,Tc(void 0,this)),h.has("environment")&&this.records.set(os,Tc(void 0,this));const p=this.records.get(l6);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_7.multi,Et,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=h1(this),d=Cn(void 0);try{return o()}finally{h1(c),Cn(d)}}get(o,c=Ti,d=tt.Default){this.assertNotDestroyed();const h=h1(this),p=Cn(void 0);try{if(!(d&tt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const w=function n_(s){return"function"==typeof s||"object"==typeof s&&s instanceof En}(o)&&Lr(o);b=w&&this.injectableDefInScope(w)?Tc(y4(o),u6):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(d&tt.Self?f6():this.parent).get(o,c=d&tt.Optional&&c===Ti?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Rr]=y[Rr]||[]).unshift(he(o)),h)throw y;return function F(s,o,c,d){const h=s[Rr];throw o[Mn]&&h.unshift(o[Mn]),s.message=function K(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):he(b)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(wr,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Rr]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Cn(p),h1(h)}}resolveInjectorInitializers(){const o=h1(this),c=Cn(void 0);try{const d=this.get(Lu.multi,Et,tt.Self);for(const h of d)h()}finally{h1(o),Cn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(he(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(o){let c=R2(o=J(o))?o:J(o&&o.provide);const d=function ku(s){return v4(s)?Tc(void 0,s.useValue):Tc(h6(s),u6)}(o);if(R2(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Tc(void 0,u6,!0),h.factory=()=>D(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===u6&&(c.value=va,c.value=c.factory()),"object"==typeof c.value&&c.value&&function t_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=J(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function y4(s){const o=Lr(s),c=null!==o?o.factory:Dr(s);if(null!==c)return c;if(s instanceof En)throw new xe(204,!1);if(s instanceof Function)return function D7(s){const o=s.length;if(o>0)throw u1(o,"?"),new xe(204,!1);const c=function Rn(s){const o=s&&(s[$r]||s[Ai]);if(o){const c=function Ki(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new xe(204,!1)}function h6(s,o,c){let d;if(R2(s)){const h=J(s);return Dr(h)||y4(h)}if(v4(s))d=()=>J(s.useValue);else if(function ss(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...D(s.deps||[]));else if(function c6(s){return!(!s||!s.useExisting)}(s))d=()=>Yt(J(s.useExisting));else{const h=J(s&&(s.useClass||s.provide));if(!function _4(s){return!!s.deps}(s))return Dr(h)||y4(h);d=()=>new h(...D(s.deps))}return d}function Tc(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Ru(s){return!!s.\u0275providers}function p6(s,o){for(const c of s)Array.isArray(c)?p6(c,o):Ru(c)?p6(c.\u0275providers,o):o(c)}class Ou{}class m6{resolveComponentFactory(o){throw function A7(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ya=(()=>{class s{}return s.NULL=new m6,s})();function r_(){return Vc(sr(),Te())}function Vc(s,o){return new _a(Sr(s,o))}let _a=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=r_,s})();function N7(s){return s instanceof _a?s.nativeElement:s}class i_{}let aN=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function cN(){const s=Te(),c=on(sr().index,s);return(ir(c)?c:s)[11]}(),s})(),Pu=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class I7{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const T7=new I7("14.2.7"),Fu={};function Wu(s){return s.ngOriginalError}class M4{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Wu(o);for(;c&&Wu(c);)c=Wu(c);return c||null}}const a_=/^>|^->|<!--|-->|--!>|<!-$/g,fN=/(<|>)/;const qu=new Map;let d_=0;const M6="__ngContext__";function Kr(s,o){ir(o)?(s[M6]=o[20],function h_(s){qu.set(s[20],s)}(o)):s[M6]=o}function $s(s){return s instanceof Function?s():s}var as=(()=>((as=as||{})[as.Important=1]="Important",as[as.DashCase=2]="DashCase",as))();let Qu;function Ju(s,o){return Qu(s,o)}function Rc(s){const o=s[3];return fi(o)?o[3]:o}function D6(s){return G7(s[13])}function S6(s){return G7(s[4])}function G7(s){for(;null!==s&&!fi(s);)s=s[4];return s}function Oc(s,o,c,d,h){if(null!=d){let p,y=!1;fi(d)?p=d:ir(d)&&(y=!0,d=d[0]);const b=On(d);0===s&&null!==c?null==h?K7(o,c,b):cs(o,c,b,h||null,!0):1===s&&null!==c?cs(o,c,b,h||null,!0):2===s?A_(o,b,y):3===s&&o.destroyNode(b),null!=p&&function yN(s,o,c,d,h){const p=c[7];p!==On(c)&&Oc(o,s,d,p,h);for(let b=10;b<c.length;b++){const w=c[b];Ca(w[1],w,s,o,d,p)}}(o,s,p,c,h)}}function e8(s,o){return s.createText(o)}function j7(s,o,c){s.setValue(o,c)}function w_(s,o){return s.createComment(function _6(s){return s.replace(a_,o=>o.replace(fN,"\u200b$1\u200b"))}(o))}function A6(s,o,c){return s.createElement(o,c)}function q7(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Bn(h,-1)),c.splice(d,1)}function n8(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&q7(h,d),o>0&&(s[c-1][4]=d[4]);const p=zn(s,10+o);!function t8(s,o){Ca(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function D4(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&Ca(s,o,c,3,null,null),function mN(s){let o=s[13];if(!o)return E6(s[1],s);for(;o;){let c=null;if(ir(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)ir(o)&&E6(o[1],o),o=o[3];null===o&&(o=s),ir(o)&&E6(o[1],o),c=o&&o[4]}o=c}}(o)}}function E6(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function i8(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof yi)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],w=p[y+1];try{w.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function r8(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],b="function"==typeof y?y(o):On(o[y]),w=d[h=c[p+2]],E=c[p+3];"boolean"==typeof E?b.removeEventListener(c[p],w,E):E>=0?d[h=E]():d[h=-E].unsubscribe(),p+=2}else{const y=d[h=c[p+1]];c[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&fi(o[3])){c!==o[3]&&q7(c,o);const d=o[19];null!==d&&d.detachView(s)}!function p_(s){qu.delete(s[20])}(o)}}function Z7(s,o,c){return Y7(s,o.parent,c)}function Y7(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===vt.None||h===vt.Emulated)return null}return Sr(d,c)}function cs(s,o,c,d,h){s.insertBefore(o,c,d,h)}function K7(s,o,c){s.appendChild(o,c)}function Q7(s,o,c,d,h){null!==d?cs(s,o,c,d,h):K7(s,o,c)}function N6(s,o){return s.parentNode(o)}function Or(s,o,c){return s8(s,o,c)}function X7(s,o,c){return 40&s.type?Sr(s,c):null}let S4,s8=X7;function I6(s,o){s8=s,S4=o}function T6(s,o,c,d){const h=Z7(s,d,o),p=o[11],b=Or(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let w=0;w<c.length;w++)Q7(p,h,c[w],b,!1);else Q7(p,h,c,b,!1);void 0!==S4&&S4(p,d,o,c,h)}function V6(s,o){if(null!==o){const c=o.type;if(3&c)return Sr(o,s);if(4&c)return eh(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return V6(s,d);{const h=s[o.index];return fi(h)?eh(-1,h):On(h)}}if(32&c)return Ju(o,s)()||On(s[o.index]);{const d=o8(s,o);return null!==d?Array.isArray(d)?d[0]:V6(Rc(s[16]),d):V6(s,o.next)}}return null}function o8(s,o){return null!==o?s[16][6].projection[o.projection]:null}function eh(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return V6(d,h)}return o[7]}function A_(s,o,c){const d=N6(s,o);d&&function S_(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}function a8(s,o,c,d,h,p,y){for(;null!=c;){const b=d[c.index],w=c.type;if(y&&0===o&&(b&&Kr(On(b),d),c.flags|=4),64!=(64&c.flags))if(8&w)a8(s,o,c.child,d,h,p,!1),Oc(o,s,h,b,p);else if(32&w){const E=Ju(c,d);let V;for(;V=E();)Oc(o,s,h,V,p);Oc(o,s,h,b,p)}else 16&w?A4(s,o,d,c,h,p):Oc(o,s,h,b,p);c=y?c.projectionNext:c.next}}function Ca(s,o,c,d,h,p){a8(c,d,s.firstChild,o,h,p,!1)}function A4(s,o,c,d,h,p){const y=c[16],w=y[6].projection[d.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Oc(o,s,h,w[E],p);else a8(s,o,w,y[3],h,p,!0)}function ba(s,o,c){s.setAttribute(o,"style",c)}function E4(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function E_(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}const c8="ng-template";function l8(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==E_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function rh(s){return 4===s.type&&s.value!==c8}function I_(s,o,c){return o===(4!==s.type||c?s.value:c8)}function T_(s,o,c){let d=4;const h=s.attrs||[],p=function _N(s){for(let o=0;o<s.length;o++)if(Vs(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const w=o[b];if("number"!=typeof w){if(!y)if(4&d){if(d=2|1&d,""!==w&&!I_(s,w,c)||""===w&&1===o.length){if(P2(d))return!1;y=!0}}else{const E=8&d?w:o[++b];if(8&d&&null!==s.attrs){if(!l8(s.attrs,E,c)){if(P2(d))return!1;y=!0}continue}const R=V_(8&d?"class":w,h,rh(s),c);if(-1===R){if(P2(d))return!1;y=!0;continue}if(""!==E){let q;q=R>p?"":h[R+1].toLowerCase();const te=8&d?q:null;if(te&&-1!==E_(te,E,0)||2&d&&E!==q){if(P2(d))return!1;y=!0}}}}else{if(!y&&!P2(d)&&!P2(w))return!1;if(y&&P2(w))continue;y=!1,d=w|1&d}}return P2(d)||y}function P2(s){return 0==(1&s)}function V_(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function ih(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function H_(s,o,c=!1){for(let d=0;d<o.length;d++)if(T_(s,o[d],c))return!0;return!1}function L_(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function sh(s,o){return s?":not("+o.trim()+")":o}function oh(s){let o=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const b=s[++c];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!P2(y)&&(o+=sh(p,h),h=""),d=y,p=p||!P2(d);c++}return""!==h&&(o+=sh(p,h)),o}const jt={};function ah(s){ch(Zt(),Te(),Hn()+s,!1)}function ch(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&B1(o,p,c)}else{const p=s.preOrderHooks;null!==p&&U1(o,p,0,c)}c2(c)}function fh(s,o=null,c=null,d){const h=N4(s,o,c,d);return h.resolveInjectorInitializers(),h}function N4(s,o=null,c=null,d,h=new Set){const p=[c||Et,e_(s)];return d=d||("object"==typeof s?void 0:he(s)),new zu(p,o||f6(),d||null,h)}let Eo=(()=>{class s{static create(c,d){if(Array.isArray(c))return fh({name:""},d,c,"");{const h=c.name??"";return fh({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=Ti,s.NULL=new C7,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Yt(y7)}),s.__NG_ELEMENT_ID__=-1,s})();function Uc(s,o=tt.Default){const c=Te();return null===c?Yt(s,o):q1(sr(),c,J(s),o)}function Ch(){throw new Error("invalid")}function I4(s,o){return s<<17|o<<2}function F2(s){return s>>17&32767}function R6(s){return 2|s}function si(s){return(131068&s)>>2}function v8(s,o){return-131069&s|o<<2}function y8(s){return 1|s}function T4(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];ea(h),y.contentQueries(2,o[p],p)}}}function V4(s,o,c,d,h,p,y,b,w,E,V){const R=o.blueprint.slice();return R[0]=h,R[2]=76|d,(null!==V||s&&1024&s[2])&&(R[2]|=1024),bs(R),R[3]=R[15]=s,R[8]=c,R[10]=y||s&&s[10],R[11]=b||s&&s[11],R[12]=w||s&&s[12]||null,R[9]=E||s&&s[9]||null,R[6]=p,R[20]=function f_(){return d_++}(),R[21]=V,R[16]=2==o.type?s[16]:R,R}function jc(s,o,c,d,h){let p=s.data[o];if(null===p)p=D8(s,o,c,d,h),function rc(){return zt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=lo();p.injectorIndex=null===y?-1:y.injectorIndex}return Zr(p,!0),p}function D8(s,o,c,d,h){const p=R1(),y=uo(),w=s.data[o]=function rC(s,o,c,d,h,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=w),null!==p&&(y?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}function $c(s,o,c,d){if(0===c)return-1;const h=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Ih(s,o,c){F1(o);try{const d=s.viewQuery;null!==d&&H8(1,d,c);const h=s.template;null!==h&&Th(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&T4(s,o),s.staticViewQueries&&H8(2,s.viewQuery,c);const p=s.components;null!==p&&function eC(s,o){for(let c=0;c<o.length;c++)mC(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,A2()}}function F6(s,o,c,d){const h=o[2];if(128!=(128&h)){F1(o);try{bs(o),function As(s){return zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Th(s,o,c,2,d);const y=3==(3&h);if(y){const E=s.preOrderCheckHooks;null!==E&&B1(o,E,null)}else{const E=s.preOrderHooks;null!==E&&U1(o,E,0,null),lc(o,0)}if(function pC(s){for(let o=D6(s);null!==o;o=S6(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],p=h[3];0==(512&h[2])&&Bn(p,1),h[2]|=512}}}(o),function hC(s){for(let o=D6(s);null!==o;o=S6(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];S2(d)&&F6(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&T4(s,o),y){const E=s.contentCheckHooks;null!==E&&B1(o,E)}else{const E=s.contentHooks;null!==E&&U1(o,E,1),lc(o,1)}!function J_(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)c2(~h);else{const p=h,y=c[++d],b=c[++d];ic(y,p),b(2,o[p])}}}finally{c2(-1)}}(s,o);const b=s.components;null!==b&&function X_(s,o){for(let c=0;c<o.length;c++)gC(s,o[c])}(o,b);const w=s.viewQuery;if(null!==w&&H8(2,w,d),y){const E=s.viewCheckHooks;null!==E&&B1(o,E)}else{const E=s.viewHooks;null!==E&&U1(o,E,2),lc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Bn(o[3],-1))}finally{A2()}}}function Th(s,o,c,d,h){const p=Hn(),y=2&d;try{c2(-1),y&&o.length>22&&ch(s,o,22,!1),c(d,h)}finally{c2(p)}}function S8(s,o,c){!i1()||(function kN(s,o,c,d){const h=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||u2(c,o),Kr(d,o);const y=c.initialInputs;for(let b=h;b<p;b++){const w=s.data[b],E=ti(w);E&&dC(o,c,w);const V=Bi(o,s,b,c);Kr(V,o),null!==y&&Wc(0,b-h,V,w,0,y),E&&(on(c.index,o)[8]=V)}}(s,o,c,Sr(c,o)),128==(128&c.flags)&&function aC(s,o,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,y=function W3(){return zt.lFrame.currentDirectiveIndex}();try{c2(p);for(let b=d;b<h;b++){const w=s.data[b],E=o[b];P1(b),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Ph(w,E)}}finally{c2(-1),P1(y)}}(s,o,c))}function A8(s,o,c=Sr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],b=-1===y?c(o,s):s[y];s[h++]=b}}}function Hh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=E8(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function E8(s,o,c,d,h,p,y,b,w,E){const V=22+d,R=V+h,q=function tC(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:jt);return c}(V,R),te="function"==typeof E?E():E;return q[1]={type:s,blueprint:q,template:c,queries:null,viewQuery:b,declTNode:o,data:q.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:te,incompleteFirstPass:!1}}function Lh(s,o,c,d){const h=jh(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&$h(s).push(d,h.length-1))}function zh(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function kh(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,w=null;for(let E=o.directiveStart;E<d;E++){const V=h[E],R=V.inputs,q=null===p||rh(o)?null:fC(R,p);y.push(q),b=zh(R,E,b),w=zh(V.outputs,E,w)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=w}function h2(s,o,c,d,h,p,y,b){const w=Sr(o,c);let V,E=o.inputs;!b&&null!=E&&(V=E[d])?(L8(s,c,V,d,h),so(o)&&Rh(c,o.index)):3&o.type&&(d=function LN(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,p.setProperty(w,d,h))}function Rh(s,o){const c=on(o,s);16&c[2]||(c[2]|=32)}function N8(s,o,c,d){let h=!1;if(i1()){const p=function cC(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];H_(c,y.selectors,!1)&&(h||(h=[]),o1(u2(c,o),s,y.type),ti(y)?(Fh(s,c),h.unshift(y)):h.push(y))}return h}(s,o,c),y=null===d?null:{"":-1};if(null!==p){h=!0,Bh(c,s.data.length,p.length);for(let V=0;V<p.length;V++){const R=p[V];R.providersResolver&&R.providersResolver(R)}let b=!1,w=!1,E=$c(s,o,p.length,null);for(let V=0;V<p.length;V++){const R=p[V];c.mergedAttrs=Hs(c.mergedAttrs,R.hostAttrs),Uh(s,c,o,E,R),uC(E,R,y),null!==R.contentQueries&&(c.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=128);const q=R.type.prototype;!b&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),b=!0),!w&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),w=!0),E++}kh(s,c)}y&&function lC(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=c[o[h+1]];if(null==p)throw new xe(-301,!1);d.push(o[h],p)}}}(c,d,y)}return c.mergedAttrs=Hs(c.mergedAttrs,c.attrs),h}function Oh(s,o,c,d,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const w=~o.index;(function oC(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(b)!=w&&b.push(w),b.push(d,h,y)}}function Ph(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Fh(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function uC(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;ti(o)&&(c[""]=s)}}function Bh(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function Uh(s,o,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=Dr(h.type)),y=new yi(p,ti(h),Uc);s.blueprint[d]=y,c[d]=y,Oh(s,o,0,d,$c(s,c,h.hostVars,jt),h)}function dC(s,o,c){const d=Sr(o,s),h=Hh(c),p=s[10],y=H4(s,V4(s,h,null,c.onPush?32:16,d,o,p,p.createRenderer(d,c),null,null,null));s[o.index]=y}function I8(s,o,c,d,h,p,y){if(null==p)s.removeAttribute(o,h,c);else{const b=null==y?be(p):y(p,d||"",h);s.setAttribute(o,h,b,c)}}function Wc(s,o,c,d,h,p){const y=p[o];if(null!==y){const b=d.setInput;for(let w=0;w<y.length;){const E=y[w++],V=y[w++],R=y[w++];null!==b?d.setInput(c,R,E,V):c[V]=R}}}function fC(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function Gh(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function gC(s,o){const c=on(o,s);if(S2(c)){const d=c[1];48&c[2]?F6(d,c,d.template,c[8]):c[5]>0&&T8(c)}}function T8(s){for(let d=D6(s);null!==d;d=S6(d))for(let h=10;h<d.length;h++){const p=d[h];if(S2(p))if(512&p[2]){const y=p[1];F6(y,p,y.template,p[8])}else p[5]>0&&T8(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=on(c[d],s);S2(h)&&h[5]>0&&T8(h)}}function mC(s,o){const c=on(o,s),d=c[1];(function ON(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Ih(d,c,c[8])}function H4(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function B6(s){for(;s;){s[2]|=32;const o=Rc(s);if(qo(s)&&!o)return s;s=o}return null}function V8(s,o,c,d=!0){const h=o[10];h.begin&&h.begin();try{F6(s,o,s.template,c)}catch(y){throw d&&qh(o,y),y}finally{h.end&&h.end()}}function H8(s,o,c){ea(0),o(s,c)}function jh(s){return s[7]||(s[7]=[])}function $h(s){return s.cleanup||(s.cleanup=[])}function qh(s,o){const c=s[9],d=c?c.get(M4,null):null;d&&d.handleError(o)}function L8(s,o,c,d,h){for(let p=0;p<c.length;){const y=c[p++],b=c[p++],w=o[y],E=s.data[y];null!==E.setInput?E.setInput(w,h,d,b):w[b]=h}}function U6(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=ye(h,b):2==p&&(d=ye(d,b+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function G6(s,o,c,d,h=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(On(p)),fi(p))for(let b=10;b<p.length;b++){const w=p[b],E=w[1].firstChild;null!==E&&G6(w[1],w,E,d)}const y=c.type;if(8&y)G6(s,o,c.child,d);else if(32&y){const b=Ju(c,o);let w;for(;w=b();)d.push(w)}else if(16&y){const b=o8(o,c);if(Array.isArray(b))d.push(...b);else{const w=Rc(o[16]);G6(w[1],w,b,d,!0)}}c=h?c.projectionNext:c.next}return d}class L4{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return G6(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fi(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(n8(o,d),zn(c,d))}this._attachedToViewContainer=!1}D4(this._lView[1],this._lView)}onDestroy(o){Lh(this._lView[1],this._lView,null,o)}markForCheck(){B6(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){V8(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W7(s,o){Ca(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=o}}class Zh extends L4{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;V8(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class z8 extends ya{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=T(o);return new z4(c,this.ngModule)}}function Yh(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class vC{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const h=this.injector.get(o,Fu,d);return h!==Fu||c===Fu?h:this.parentInjector.get(o,c,d)}}class z4 extends Ou{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function z_(s){return s.map(oh).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Yh(this.componentDef.inputs)}get outputs(){return Yh(this.componentDef.outputs)}create(o,c,d,h){let p=(h=h||this.ngModule)instanceof os?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new vC(o,p):o,b=y.get(i_,null);if(null===b)throw new xe(407,!1);const w=y.get(Pu,null),E=b.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",R=d?function nC(s,o,c){return s.selectRootElement(o,c===vt.ShadowDom)}(E,d,this.componentDef.encapsulation):A6(b.createRenderer(null,this.componentDef),V,function Kh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(V)),q=this.componentDef.onPush?288:272,te=E8(0,null,null,1,0,null,null,null,null,null),we=V4(null,te,null,q,null,null,b,E,w,y,null);let $e,Qe;F1(we);try{const ft=function CC(s,o,c,d,h,p){const y=c[1];c[22]=s;const w=jc(y,22,2,"#host",null),E=w.mergedAttrs=o.hostAttrs;null!==E&&(U6(w,E,!0),null!==s&&(l2(h,s,E),null!==w.classes&&E4(h,s,w.classes),null!==w.styles&&ba(h,s,w.styles)));const V=d.createRenderer(s,o),R=V4(c,Hh(o),null,o.onPush?32:16,c[22],w,d,V,p||null,null,null);return y.firstCreatePass&&(o1(u2(w,c),y,o.type),Fh(y,w),Bh(w,c.length,1)),H4(c,R),c[22]=R}(R,this.componentDef,we,b,E);if(R)if(d)l2(E,R,["ng-version",T7.full]);else{const{attrs:At,classes:He}=function k_(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&c.push(p);else{if(!P2(h))break;h=p}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);At&&l2(E,R,At),He&&He.length>0&&E4(E,R,He.join(" "))}if(Qe=L1(te,22),void 0!==c){const At=Qe.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const Lt=c[He];At.push(null!=Lt?Array.from(Lt):null)}}$e=function bC(s,o,c,d){const h=c[1],p=function sC(s,o,c){const d=sr();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Uh(s,d,o,$c(s,o,1,null),c),kh(s,d));const h=Bi(o,s,d.directiveStart,d);Kr(h,o);const p=Sr(d,o);return p&&Kr(p,o),h}(h,c,o);if(s[8]=c[8]=p,null!==d)for(const b of d)b(p,o);if(o.contentQueries){const b=sr();o.contentQueries(1,p,b.directiveStart)}const y=sr();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(c2(y.index),Oh(c[1],y,0,y.directiveStart,y.directiveEnd,o),Ph(o,p)),p}(ft,this.componentDef,we,[Jh]),Ih(te,we,null)}finally{A2()}return new yC(this.componentType,$e,Vc(Qe,we),we,Qe)}}class yC extends class S7{}{constructor(o,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new Zh(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;L8(p[1],p,h,o,c),Rh(p,this._tNode.index)}}get injector(){return new Y1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Jh(){const s=sr();fo(Te()[1],s)}function k8(s){let o=function Xh(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(ti(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=O8(s.inputs),y.declaredInputs=O8(s.declaredInputs),y.outputs=O8(s.outputs);const b=h.hostBindings;b&&xC(s,b);const w=h.viewQuery,E=h.contentQueries;if(w&&MC(s,w),E&&wC(s,E),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),ti(h)&&h.data.animation){const V=s.data;V.animation=(V.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===k8&&(c=!1)}}o=Object.getPrototypeOf(o)}!function R8(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Hs(h.hostAttrs,c=Hs(c,h.hostAttrs))}}(d)}function O8(s){return s===zr?{}:s===Et?[]:s}function MC(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function wC(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{o(d,h,p),c(d,h,p)}:o}function xC(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let j6=null;function xa(){if(!j6){const s=Vt.Symbol;if(s&&s.iterator)j6=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(j6=d)}}}return j6}function qc(s){return!!$6(s)&&(Array.isArray(s)||!(s instanceof Map)&&xa()in s)}function $6(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function C1(s,o,c){return s[o]=c}function Ci(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Vo(s,o,c,d){const h=Ci(s,o,c);return Ci(s,o+1,d)||h}function P8(s,o,c,d){const h=Te();return Ci(h,Es(),o)&&(Zt(),function qs(s,o,c,d,h,p){const y=Sr(s,o);I8(o[11],y,p,s.value,c,d,h)}(Ln(),h,s,o,c,d)),P8}function Zc(s,o,c,d){return Ci(s,Es(),c)?o+be(c)+d:jt}function c9(s,o,c,d,h,p,y,b){const w=Te(),E=Zt(),V=s+22,R=E.firstCreatePass?function a9(s,o,c,d,h,p,y,b,w){const E=o.consts,V=jc(o,s,4,y||null,vi(E,b));N8(o,c,V,vi(E,w)),fo(o,V);const R=V.tViews=E8(2,V,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,E);return null!==o.queries&&(o.queries.template(o,V),R.queries=o.queries.embeddedTView(V)),V}(V,E,w,o,c,d,h,p,y):E.data[V];Zr(R,!1);const q=w[11].createComment("");T6(E,w,q,R),Kr(q,w),H4(w,w[V]=Gh(q,w,q,R)),ys(R)&&S8(E,w,R),null!=y&&A8(w,R,b)}function l9(s){return Pi(function Ss(){return zt.lFrame.contextLView}(),22+s)}function G8(s,o,c){const d=Te();return Ci(d,Es(),o)&&h2(Zt(),Ln(),d,s,o,d[11],c,!1),G8}function q6(s,o,c,d,h){const y=h?"class":"style";L8(s,c,o.inputs[y],y,d)}function Z6(s,o,c,d){const h=Te(),p=Zt(),y=22+s,b=h[11],w=h[y]=A6(b,o,function ra(){return zt.lFrame.currentNamespace}()),E=p.firstCreatePass?function VC(s,o,c,d,h,p,y){const b=o.consts,E=jc(o,s,2,h,vi(b,p));return N8(o,c,E,vi(b,y)),null!==E.attrs&&U6(E,E.attrs,!1),null!==E.mergedAttrs&&U6(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(y,p,h,0,o,c,d):p.data[y];Zr(E,!0);const V=E.mergedAttrs;null!==V&&l2(b,w,V);const R=E.classes;null!==R&&E4(b,w,R);const q=E.styles;return null!==q&&ba(b,w,q),64!=(64&E.flags)&&T6(p,h,w,E),0===function ws(){return zt.lFrame.elementDepthCount}()&&Kr(w,h),function nc(){zt.lFrame.elementDepthCount++}(),ys(E)&&(S8(p,h,E),function Vh(s,o,c){if(t1(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}(p,E,h)),null!==d&&A8(h,E),Z6}function R4(){let s=sr();uo()?O1():(s=s.parent,Zr(s,!1));const o=s;!function xs(){zt.lFrame.elementDepthCount--}();const c=Zt();return c.firstCreatePass&&(fo(c,s),t1(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function po(s){return 0!=(16&s.flags)}(o)&&q6(c,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function go(s){return 0!=(32&s.flags)}(o)&&q6(c,o,Te(),o.stylesWithoutHost,!1),R4}function j8(s,o,c,d){return Z6(s,o,c,d),R4(),j8}function f9(){return Te()}function W8(s){return!!s&&"function"==typeof s.then}function h9(s){return!!s&&"function"==typeof s.subscribe}const p9=h9;function q8(s,o,c,d){const h=Te(),p=Zt(),y=sr();return function g9(s,o,c,d,h,p,y,b){const w=ys(d),V=s.firstCreatePass&&$h(s),R=o[8],q=jh(o);let te=!0;if(3&d.type||b){const Qe=Sr(d,o),ft=b?b(Qe):Qe,At=q.length,He=b?gn=>b(On(gn[d.index])):d.index;let Lt=null;if(!b&&w&&(Lt=function HC(s,o,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const b=o[7],w=h[p+2];return b.length>w?b[w]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=p,Lt.__ngLastListenerFn__=p,te=!1;else{p=m9(d,o,R,p,!1);const gn=c.listen(ft,h,p);q.push(p,gn),V&&V.push(h,He,At,At+1)}}else p=m9(d,o,R,p,!1);const we=d.outputs;let $e;if(te&&null!==we&&($e=we[h])){const Qe=$e.length;if(Qe)for(let ft=0;ft<Qe;ft+=2){const er=o[$e[ft]][$e[ft+1]].subscribe(p),Ta=q.length;q.push(p,er),V&&V.push(h,d.index,Ta,-(Ta+1))}}}(p,h,h[11],y,s,o,0,d),q8}function Y8(s,o,c,d){try{return!1!==c(d)}catch(h){return qh(s,h),!1}}function m9(s,o,c,d,h){return function p(y){if(y===Function)return d;B6(2&s.flags?on(s.index,o):o);let w=Y8(o,0,d,y),E=p.__ngNextListenerFn__;for(;E;)w=Y8(o,0,E,y)&&w,E=E.__ngNextListenerFn__;return h&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function v9(s=1){return function E2(s){return(zt.lFrame.contextLView=function ac(s,o){for(;s>0;)o=o[15],s--;return o}(s,zt.lFrame.contextLView))[8]}(s)}function y9(s,o){let c=null;const d=function H6(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?H_(s,p,!0):L_(d,p))return h}else c=h}return c}function _9(s){const o=Te()[16][6];if(!o.projection){const d=o.projection=u1(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?y9(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function C9(s,o=0,c){const d=Te(),h=Zt(),p=jc(h,22+s,16,null,c||null);null===p.projection&&(p.projection=o),O1(),64!=(64&p.flags)&&function th(s,o,c){A4(o[11],0,o,c,Z7(s,c,o),Or(c.parent||o[6],c,o))}(h,d,p)}function K6(s,o,c){return Q6(s,"",o,"",c),K6}function Q6(s,o,c,d,h){const p=Te(),y=Zc(p,o,c,d);return y!==jt&&h2(Zt(),Ln(),p,s,y,p[11],h,!1),Q6}function E9(s,o,c,d,h){const p=s[c+1],y=null===o;let b=d?F2(p):si(p),w=!1;for(;0!==b&&(!1===w||y);){const V=s[b+1];zC(s[b],o)&&(w=!0,s[b+1]=d?y8(V):R6(V)),b=d?F2(V):si(V)}w&&(s[c+1]=d?R6(p):y8(p))}function zC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Gi(s,o)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function J8(s){return s.substring(Pr.key,Pr.keyEnd)}function N9(s,o){const c=Pr.textEnd;return c===o?-1:(o=Pr.keyEnd=function OC(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Pr.key=o,c),e3(s,o,c))}function e3(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function O4(s,o,c){return b1(s,o,c,!1),O4}function ed(s,o){return b1(s,o,null,!0),ed}function td(s){!function p2(s,o,c,d){const h=Zt(),p=a2(2);h.firstUpdatePass&&z9(h,null,p,d);const y=Te();if(c!==jt&&Ci(y,p,c)){const b=h.data[Hn()];if(P9(b,d)&&!L9(h,p)){let w=d?b.classesWithoutHost:b.stylesWithoutHost;null!==w&&(c=ye(w,c||"")),q6(h,b,y,c,d)}else!function WC(s,o,c,d,h,p,y,b){h===jt&&(h=Et);let w=0,E=0,V=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==V||null!==R;){const q=w<h.length?h[w+1]:void 0,te=E<p.length?p[E+1]:void 0;let $e,we=null;V===R?(w+=2,E+=2,q!==te&&(we=R,$e=te)):null===R||null!==V&&V<R?(w+=2,we=V):(E+=2,we=R,$e=te),null!==we&&rd(s,o,c,d,we,$e,y,b),V=w<h.length?h[w]:null,R=E<p.length?p[E]:null}}(h,b,y,y[11],y[p+1],y[p+1]=function $C(s,o,c){if(null==c||""===c)return Et;const d=[],h=f2(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,p)}}(ot,us,s,!0)}function us(s,o){for(let c=function RC(s){return function V9(s){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=s.length}(s),N9(s,e3(s,0,Pr.textEnd))}(o);c>=0;c=N9(o,c))ot(s,J8(o),!0)}function b1(s,o,c,d){const h=Te(),p=Zt(),y=a2(2);p.firstUpdatePass&&z9(p,s,y,d),o!==jt&&Ci(h,y,o)&&rd(p,p.data[Hn()],h,h[11],s,h[y+1]=function qC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(f2(s)))),s}(o,c),d,y)}function L9(s,o){return o>=s.expandoStartIndex}function z9(s,o,c,d){const h=s.data;if(null===h[c+1]){const p=h[Hn()],y=L9(s,c);P9(p,d)&&null===o&&!y&&(o=!1),o=function k9(s,o,c,d){const h=function Xo(s){const o=zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=t3(c=nd(null,s,o,c,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(c=nd(h,s,o,c,d),null===p){let w=function UC(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==si(d))return s[F2(d)]}(s,o,d);void 0!==w&&Array.isArray(w)&&(w=nd(null,s,o,w[1],d),w=t3(w,o.attrs,d),function GC(s,o,c,d){s[F2(c?o.classBindings:o.styleBindings)]=d}(s,o,d,w))}else p=function jC(s,o,c){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=t3(d,s[p].hostAttrs,c);return t3(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(h,p,o,d),function A9(s,o,c,d,h,p){let y=p?o.classBindings:o.styleBindings,b=F2(y),w=si(y);s[d]=c;let V,E=!1;if(Array.isArray(c)){const R=c;V=R[1],(null===V||Gi(R,V)>0)&&(E=!0)}else V=c;if(h)if(0!==w){const q=F2(s[b+1]);s[d+1]=I4(q,b),0!==q&&(s[q+1]=v8(s[q+1],d)),s[b+1]=function bh(s,o){return 131071&s|o<<17}(s[b+1],d)}else s[d+1]=I4(b,0),0!==b&&(s[b+1]=v8(s[b+1],d)),b=d;else s[d+1]=I4(w,0),0===b?b=d:s[w+1]=v8(s[w+1],d),w=d;E&&(s[d+1]=R6(s[d+1])),E9(s,V,d,!0),E9(s,V,d,!1),function LC(s,o,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Gi(p,o)>=0&&(c[d+1]=y8(c[d+1]))}(o,V,s,d,p),y=I4(b,w),p?o.classBindings=y:o.styleBindings=y}(h,p,o,c,y,d)}}function nd(s,o,c,d,h){let p=null;const y=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<y&&(p=o[b],d=t3(d,p.hostAttrs,h),p!==s);)b++;return null!==s&&(c.directiveStylingLast=b),d}function t3(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ot(s,y,!!c||o[++p]))}return void 0===s?null:s}function rd(s,o,c,d,h,p,y,b){if(!(3&o.type))return;const w=s.data,E=w[b+1];J6(function Mh(s){return 1==(1&s)}(E)?O9(w,o,c,h,si(E),y):void 0)||(J6(p)||function m8(s){return 2==(2&s)}(E)&&(p=O9(w,null,c,h,b,y)),function nh(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:as.DashCase;null==h?s.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=as.Important),s.setStyle(c,d,h,p))}}(d,y,Ei(Hn(),c),h,p))}function O9(s,o,c,d,h,p){const y=null===o;let b;for(;h>0;){const w=s[h],E=Array.isArray(w),V=E?w[1]:w,R=null===V;let q=c[h+1];q===jt&&(q=R?Et:void 0);let te=R?da(q,d):V===d?q:void 0;if(E&&!J6(te)&&(te=da(w,d)),J6(te)&&(b=te,y))return b;const we=s[h+1];h=y?F2(we):si(we)}if(null!==o){let w=p?o.residualClasses:o.residualStyles;null!=w&&(b=da(w,d))}return b}function J6(s){return void 0!==s}function P9(s,o){return 0!=(s.flags&(o?16:32))}function id(s,o=""){const c=Te(),d=Zt(),h=s+22,p=d.firstCreatePass?jc(d,h,1,o,null):d.data[h],y=c[h]=e8(c[11],o);T6(d,c,y,p),Zr(p,!1)}function sd(s){return X6("",s,""),sd}function X6(s,o,c){const d=Te(),h=Zc(d,s,o,c);return h!==jt&&function Zs(s,o,c){const d=Ei(o,s);j7(s[11],d,c)}(d,Hn(),h),X6}function e0(s,o,c){const d=Te();return Ci(d,Es(),o)&&h2(Zt(),Ln(),d,s,o,d[11],c,!0),e0}const Ea=void 0;var cb=["en",[["a","p"],["AM","PM"],Ea],[["AM","PM"],Ea,Ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ea,"{1} 'at' {0}",Ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let n3={};function ud(s){const o=function op(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=sp(o);if(c)return c;const d=o.split("-")[0];if(c=sp(d),c)return c;if("en"===d)return cb;throw new xe(701,!1)}function dd(s){return ud(s)[Nt.PluralCase]}function sp(s){return s in n3||(n3[s]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[s]),n3[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const db=["zero","one","two","few","many"],r3="en-US",t0={marker:"element"},n0={marker:"ICU"};var mr=(()=>((mr=mr||{})[mr.SHIFT=2]="SHIFT",mr[mr.APPEND_EAGERLY=1]="APPEND_EAGERLY",mr[mr.COMMENT=2]="COMMENT",mr))();let fd=r3;function cp(s){(function Gt(s,o){null==s&&Ke(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(fd=s.toLowerCase().replace(/_/g,"-"))}function hd(s,o,c){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?X7(s,0,c):On(c[h])}function lp(s,o,c,d,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,b=null;if(3&o.type||(b=y,y=h),null!==y&&0==(2&o.flags))for(let w=1;w<p.length;w++)cs(s,y,c[p[w]],b,!1)}}function pd(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];up(d)||dp(d,o)&&null===pb(d)&&gb(d,o.index)}}function up(s){return!(64&s.type)}function dp(s,o){return up(o)||s.index>o.index}function pb(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function gb(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(I6(hd,lp),s.insertBeforeIndex=o)}function s3(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function fp(s,o,c){const d=D8(s,c,64,null,null);return pd(o,d),d}function r0(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function hp(s){return s>>>17}function pp(s){return(131070&s)>>>1}let P4=0,F4=0;function vp(s,o,c,d){const h=c[11];let y,p=null;for(let b=0;b<o.length;b++){const w=o[b];if("string"==typeof w){const E=o[++b];null===c[E]&&(c[E]=e8(h,w))}else if("number"==typeof w)switch(1&w){case 0:const E=hp(w);let V,R;if(null===p&&(p=E,y=N6(h,d)),E===p?(V=d,R=y):(V=null,R=On(c[E])),null!==R){const $e=pp(w);cs(h,R,c[$e],V,!1);const ft=s3(s,$e);if(null!==ft&&"object"==typeof ft){const At=r0(ft,c);null!==At&&vp(s,ft.create[At],c,c[ft.anchorIdx])}}break;case 1:const te=o[++b],we=o[++b];I8(h,Ei(w>>>1,c),null,null,te,we,null)}else switch(w){case n0:const E=o[++b],V=o[++b];null===c[V]&&Kr(c[V]=w_(h,E),c);break;case t0:const R=o[++b],q=o[++b];null===c[q]&&Kr(c[q]=A6(h,R,null),c)}}}function yp(s,o,c,d,h){for(let p=0;p<c.length;p++){const y=c[p],b=c[++p];if(y&h){let w="";for(let E=p+1;E<=p+b;E++){const V=c[E];if("string"==typeof V)w+=V;else if("number"==typeof V)if(V<0)w+=be(o[d-V]);else{const R=V>>>2;switch(3&V){case 1:const q=c[++E],te=c[++E],we=s.data[R];"string"==typeof we?I8(o[11],o[R],null,we,q,w,te):h2(s,we,o,q,w,o[11],te,!1);break;case 0:const $e=o[R];null!==$e&&j7(o[11],$e,w);break;case 2:bb(s,s3(s,R),o,w);break;case 3:gd(s,s3(s,R),d,o)}}}}else{const w=c[p+1];if(w>0&&3==(3&w)){const V=s3(s,w>>>2);o[V.currentCaseLViewIndex]<0&&gd(s,V,d,o)}}p+=b}}function gd(s,o,c,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let p=P4;h<0&&(h=d[o.currentCaseLViewIndex]=~h,p=-1),yp(s,d,o.update[h],c,p)}}function bb(s,o,c,d){const h=function Mb(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const d=function ap(s,o){const c=dd(o)(parseInt(s,10)),d=db[c];return void 0!==d?d:"other"}(o,function hb(){return fd}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,d);if(r0(o,c)!==h&&(_p(s,o,c),c[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=c[o.anchorIdx];y&&vp(s,o.create[h],c,y)}}function _p(s,o,c){let d=r0(o,c);if(null!==d){const h=o.remove[d];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const b=Ei(y,c);null!==b&&A_(c[11],b)}else _p(s,s3(s,~y),c)}}}function wb(){const s=[];let c,d,o=-1;function p(b,w){o=0;const E=r0(b,w);d=null!==E?b.remove[E]:Et}function y(){if(o<d.length){const b=d[o++];return b>0?c[b]:(s.push(o,d),p(c[1].data[~b],c),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function h(b,w){for(c=w;s.length;)s.pop();return p(b.value,w),y}}const s0=/\ufffd(\d+):?\d*\ufffd/gi,Sb=/\ufffd(\d+)\ufffd/,md=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ab=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Eb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Mp=/\uE500/g;function xp(s,o,c,d,h,p,y){const b=$c(s,d,1,null);let w=b<<mr.SHIFT,E=lo();o===E&&(E=null),null===E&&(w|=mr.APPEND_EAGERLY),y&&(w|=mr.COMMENT,function b_(s){void 0===Qu&&(Qu=s())}(wb)),h.push(w,null===p?"":p);const V=D8(s,b,y?32:1,null===p?"":p,null);pd(c,V);const R=V.index;return Zr(V,!1),null!==E&&o!==E&&function vb(s,o){let c=s.insertBeforeIndex;null===c?(I6(hd,lp),c=s.insertBeforeIndex=[null,o]):(function _e(s,o,c){s!=o&&Ke(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(E,R),V}function Ib(s,o,c,d,h,p,y){const b=y.match(s0),w=xp(s,o,c,p,d,b?null:y,!1);b&&U4(h,y,w.index,null,0,null)}function U4(s,o,c,d,h,p){const y=s.length,b=y+1;s.push(null,null);const w=y+2,E=o.split(s0);let V=0;for(let R=0;R<E.length;R++){const q=E[R];if(1&R){const te=h+parseInt(q,10);s.push(-1-te),V|=o0(te)}else""!==q&&s.push(q)}return s.push(c<<2|(d?1:0)),d&&s.push(d,p),s[y]=V,s[b]=s.length-w,V}function o0(s){return 1<<Math.min(s,31)}function Dp(s){let o,p,c="",d=0,h=!1;for(;null!==(o=Ab.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,h=!1):(c+=s.substring(d,o.index+o[0].length),p=o[1],h=!0);return c+=s.slice(d),c}function Ap(s,o,c,d,h,p){let y=0;const b={type:h.type,currentCaseLViewIndex:$c(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function kb(s,o,c){s.push(o0(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,h,p),function mb(s,o,c){const d=s.data[o];null===d?s.data[o]=c:d.value=c}(s,p,b);const w=h.values;for(let E=0;E<w.length;E++){const V=w[E],R=[];for(let q=0;q<V.length;q++){const te=V[q];if("string"!=typeof te){const we=R.push(te)-1;V[q]=`\x3c!--\ufffd${we}\ufffd--\x3e`}}y=Ep(s,b,o,c,d,h.cases[E],V.join(""),R)|y}y&&function Rb(s,o,c){s.push(o,1,c<<2|3)}(c,y,p)}function Lb(s){const o=[],c=[];let d=1,h=0;const p=vd(s=s.replace(md,function(y,b,w){return d="select"===w?0:1,h=parseInt(b.slice(1),10),""}));for(let y=0;y<p.length;){let b=p[y++].trim();1===d&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const w=vd(p[y++]);o.length>c.length&&c.push(w)}return{type:d,mainBinding:h,cases:o,values:c}}function vd(s){if(!s)return[];let o=0;const c=[],d=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const b=p.index;if("}"==p[0]){if(c.pop(),0==c.length){const w=s.substring(o,b);md.test(w)?d.push(Lb(w)):d.push(w),o=b+1}}else{if(0==c.length){const w=s.substring(o,b);d.push(w),o=b+1}c.push("{")}}const y=s.substring(o);return d.push(y),d}function Ep(s,o,c,d,h,p,y,b){const w=[],E=[],V=[];o.cases.push(p),o.create.push(w),o.remove.push(E),o.update.push(V);const q=p4(Mc()).getInertBodyElement(y),te=rs(q)||q;return te?Np(s,o,c,d,w,E,V,te,h,b,0):0}function Np(s,o,c,d,h,p,y,b,w,E,V){let R=0,q=b.firstChild;for(;q;){const te=$c(s,c,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const we=q,$e=we.tagName.toLowerCase();if(pn.hasOwnProperty($e)){_d(h,t0,$e,w,te),s.data[te]=$e;const He=we.attributes;for(let Lt=0;Lt<He.length;Lt++){const gn=He.item(Lt),er=gn.name.toLowerCase();gn.value.match(s0)?Ec.hasOwnProperty(er)&&U4(y,gn.value,te,gn.name,0,Yr[er]?v:null):Ob(h,te,gn)}R=Np(s,o,c,d,h,p,y,q,te,E,V+1)|R,yd(p,te,V)}break;case Node.TEXT_NODE:const Qe=q.textContent||"",ft=Qe.match(s0);_d(h,null,ft?"":Qe,w,te),yd(p,te,V),ft&&(R=U4(y,Qe,te,null,0,null)|R);break;case Node.COMMENT_NODE:const At=Sb.exec(q.textContent||"");if(At){const Lt=E[parseInt(At[1],10)];_d(h,n0,"",w,te),Ap(s,c,d,w,Lt,te),zb(p,te,V)}}q=q.nextSibling}return R}function yd(s,o,c){0===c&&s.push(o)}function zb(s,o,c){0===c&&(s.push(~o),s.push(o))}function _d(s,o,c,d,h){null!==o&&s.push(o),s.push(c,h,function yb(s,o,c){return s|o<<17|c<<1}(0,d,h))}function Ob(s,o,c){s.push(o<<1|1,c.name,c.value)}function Vp(s,o,c=-1){const d=Zt(),h=Te(),p=22+s,y=vi(d.consts,o),b=lo();d.firstCreatePass&&function wp(s,o,c,d,h,p){const y=lo(),b=[],w=[],E=[[]];h=function Sp(s,o){if(function Hb(s){return-1===s}(o))return Dp(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Dp(s.substring(c,d))}}(h,p);const V=function Nb(s){return s.replace(Mp," ")}(h).split(Eb);for(let R=0;R<V.length;R++){let q=V[R];if(0==(1&R)){const te=vd(q);for(let we=0;we<te.length;we++){let $e=te[we];if(0==(1&we)){const Qe=$e;""!==Qe&&Ib(s,y,E[0],b,w,c,Qe)}else{const Qe=$e;if("object"!=typeof Qe)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Ap(s,c,w,o,Qe,xp(s,y,E[0],c,b,"",!0).index)}}}else{const te=47===q.charCodeAt(0),$e=(q.charCodeAt(te?1:0),22+Number.parseInt(q.substring(te?2:1)));if(te)E.shift(),Zr(lo(),!1);else{const Qe=fp(s,E[0],$e);E.unshift([]),Zr(Qe,!0)}}}s.data[d]={create:b,update:w}}(d,null===b?0:b.index,h,p,y,c);const w=d.data[p],V=Y7(d,b===h[6]?null:b,h);(function Cb(s,o,c,d){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],b=o[p],w=(y&mr.COMMENT)===mr.COMMENT,E=(y&mr.APPEND_EAGERLY)===mr.APPEND_EAGERLY,V=y>>>mr.SHIFT;let R=s[V];null===R&&(R=s[V]=w?h.createComment(b):e8(h,b)),E&&null!==c&&cs(h,c,R,d,!1)}})(h,w.create,V,b&&8&b.type?h[b.index]:null),Jo(!0)}function Hp(s,o,c){Vp(s,o,c),function bd(){Jo(!1)}()}function wd(s){return function mp(s){s&&(P4|=1<<Math.min(F4,31)),F4++}(Ci(Te(),Es(),s)),wd}function Lp(s){!function _b(s,o,c){if(F4>0){const d=s.data[c];yp(s,o,Array.isArray(d)?d:d.update,function Fi(){return zt.lFrame.bindingIndex}()-F4-1,P4)}P4=0,F4=0}(Zt(),Te(),s+22)}function xd(s,o,c,d,h){if(s=J(s),Array.isArray(s))for(let p=0;p<s.length;p++)xd(s[p],o,c,d,h);else{const p=Zt(),y=Te();let b=R2(s)?s:J(s.provide),w=h6(s);const E=sr(),V=1048575&E.providerIndexes,R=E.directiveStart,q=E.providerIndexes>>20;if(R2(s)||!s.multi){const te=new yi(w,h,Uc),we=a0(b,o,h?V:V+q,R);-1===we?(o1(u2(E,y),p,b),Dd(p,s,o.length),o.push(b),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(te),y.push(te)):(c[we]=te,y[we]=te)}else{const te=a0(b,o,V+q,R),we=a0(b,o,V,V+q),$e=te>=0&&c[te],Qe=we>=0&&c[we];if(h&&!Qe||!h&&!$e){o1(u2(E,y),p,b);const ft=function Yb(s,o,c,d,h){const p=new yi(s,c,Uc);return p.multi=[],p.index=o,p.componentProviders=0,zp(p,h,d&&!c),p}(h?Zb:qb,c.length,h,d,w);!h&&Qe&&(c[we].providerFactory=ft),Dd(p,s,o.length,0),o.push(b),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),c.push(ft),y.push(ft)}else Dd(p,s,te>-1?te:we,zp(c[h?we:te],w,!h&&d));!h&&d&&Qe&&c[we].componentProviders++}}}function Dd(s,o,c,d){const h=R2(o),p=function x7(s){return!!s.useClass}(o);if(h||p){const w=(p?J(o.useClass):o).prototype.ngOnDestroy;if(w){const E=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const V=E.indexOf(c);-1===V?E.push(c,[d,w]):E[V+1].push(d,w)}else E.push(c,w)}}}function zp(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function a0(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function qb(s,o,c,d){return Sd(this.multi,[])}function Zb(s,o,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Bi(c,c[1],this.providerFactory.index,d);p=b.slice(0,y),Sd(h,p);for(let w=y;w<b.length;w++)p.push(b[w])}else p=[],Sd(h,p);return p}function Sd(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function kp(s,o=[]){return c=>{c.providersResolver=(d,h)=>function Wb(s,o,c){const d=Zt();if(d.firstCreatePass){const h=ti(s);xd(c,d.data,d.blueprint,h,!0),xd(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class o3{}class Rp{}function Kb(s,o){return new Op(s,o??null)}class Op extends o3{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new z8(this);const d=lt(o);this._bootstrapComponents=$s(d.bootstrap),this._r3Injector=N4(o,c,[{provide:o3,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ad extends Rp{constructor(o){super(),this.moduleType=o}create(o){return new Op(this.moduleType,o)}}class Pp extends o3{constructor(o,c,d){super(),this.componentFactoryResolver=new z8(this),this.instance=null;const h=new zu([...o,{provide:o3,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],c||f6(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ed(s,o,c=null){return new Pp(s,o,c).injector}let Jb=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=b7(0,c.type),h=d.length>0?Ed([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rn({token:s,providedIn:"environment",factory:()=>new s(Yt(os))}),s})();function Nd(s){s.getStandaloneInjector=o=>o.get(Jb).getOrCreateStandaloneInjector(s)}function qp(s,o,c,d){return Qp(Te(),or(),s,o,c,d)}function Zp(s,o,c,d,h){return function Jp(s,o,c,d,h,p,y){const b=o+c;return Vo(s,b,h,p)?C1(s,b+2,y?d.call(y,h,p):d(h,p)):j4(s,b+2)}(Te(),or(),s,o,c,d,h)}function Yp(s,o,c,d,h,p){return function Xp(s,o,c,d,h,p,y,b){const w=o+c;return function W6(s,o,c,d,h){const p=Vo(s,o,c,d);return Ci(s,o+2,h)||p}(s,w,h,p,y)?C1(s,w+3,b?d.call(b,h,p,y):d(h,p,y)):j4(s,w+3)}(Te(),or(),s,o,c,d,h,p)}function j4(s,o){const c=s[o];return c===jt?void 0:c}function Qp(s,o,c,d,h,p){const y=o+c;return Ci(s,y,h)?C1(s,y+1,p?d.call(p,h):d(h)):j4(s,y+1)}function ng(s,o){const c=Zt();let d;const h=s+22;c.firstCreatePass?(d=function dM(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=Dr(d.type)),y=Cn(Uc);try{const b=Ls(!1),w=p();return Ls(b),function TC(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Te(),h,w),w}finally{Cn(y)}}function rg(s,o,c){const d=s+22,h=Te(),p=Pi(h,d);return function $4(s,o){return s[1].data[o].pure}(h,d)?Qp(h,or(),o,p.transform,c,p):p.transform(c)}function Td(s){return o=>{setTimeout(s,void 0,o)}}const ds=class gM extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,p=c||(()=>null),y=d;if(o&&"object"==typeof o){const w=o;h=w.next?.bind(w),p=w.error?.bind(w),y=w.complete?.bind(w)}this.__isAsync&&(p=Td(p),h&&(h=Td(h)),y&&(y=Td(y)));const b=super.subscribe({next:h,error:p,complete:y});return o instanceof U.w0&&o.add(b),b}};function mM(){return this._results[xa()]()}class u0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=xa(),d=u0.prototype;d[c]||(d[c]=mM)}get changes(){return this._changes||(this._changes=new ds)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=tn(o);(this._changesDetected=!function bn(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let W4=(()=>{class s{}return s.__NG_ELEMENT_ID__=yM,s})();const ig=W4,vM=class extends ig{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=V4(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(d)),Ih(d,h,o),new L4(h)}};function yM(){return d0(sr(),Te())}function d0(s,o){return 4&s.type?new vM(o,s,Vc(s,o)):null}let f0=(()=>{class s{}return s.__NG_ELEMENT_ID__=_M,s})();function _M(){return ag(sr(),Te())}const CM=f0,sg=class extends CM{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new Y1(this._hostTNode,this._hostLView)}get parentInjector(){const o=zs(this._hostTNode,this._hostLView);if(Q3(o)){const c=N2(o,this._hostLView),d=ar(o);return new Y1(c[1].data[d+8],c)}return new Y1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=og(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=o.createEmbeddedView(c||{},p);return this.insert(y,h),y}createComponent(o,c,d,h,p){const y=o&&!function Ii(s){return"function"==typeof s}(o);let b;if(y)b=c;else{const R=c||{};b=R.index,d=R.injector,h=R.projectableNodes,p=R.environmentInjector||R.ngModuleRef}const w=y?o:new z4(T(o)),E=d||this.parentInjector;if(!p&&null==w.ngModule){const q=(y?E:this.parentInjector).get(os,null);q&&(p=q)}const V=w.create(E,h,void 0,p);return this.insert(V.hostView,b),V}insert(o,c){const d=o._lView,h=d[1];if(function Qo(s){return fi(s[3])}(d)){const V=this.indexOf(o);if(-1!==V)this.detach(V);else{const R=d[3],q=new sg(R,R[6],R[3]);q.detach(q.indexOf(o))}}const p=this._adjustIndex(c),y=this._lContainer;!function x_(s,o,c,d){const h=10+d,p=c.length;d>0&&(c[h-1][4]=o),d<p-10?(o[4]=c[h],l1(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function D_(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,d,y,p);const b=eh(p,y),w=d[11],E=N6(w,y[7]);return null!==E&&function $7(s,o,c,d,h,p){d[0]=h,d[6]=o,Ca(s,d,c,1,h,p)}(h,y[6],w,d,E,b),o.attachToViewContainerRef(),l1(Vd(y),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=og(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=n8(this._lContainer,c);d&&(zn(Vd(this._lContainer),c),D4(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=n8(this._lContainer,c);return d&&null!=zn(Vd(this._lContainer),c)?new L4(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function og(s){return s[8]}function Vd(s){return s[8]||(s[8]=[])}function ag(s,o){let c;const d=o[s.index];if(fi(d))c=d;else{let h;if(8&s.type)h=On(d);else{const p=o[11];h=p.createComment("");const y=Sr(s,o);cs(p,N6(p,y),h,function J7(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=c=Gh(d,o,h,s),H4(o,c)}return new sg(c,s,o)}class h0{constructor(o){this.queryList=o,this.matches=null}clone(){return new h0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hd{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Hd(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Od(o,c).matches&&this.queries[c].setDirty()}}class lg{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class Ld{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Ld(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zd{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new zd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,c,MM(c,p)),this.matchTNodeWithReadOption(o,c,Rs(c,o,p,!1,!1))}else d===W4?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Rs(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===_a||h===f0||h===W4&&4&c.type)this.addMatch(c.index,-2);else{const p=Rs(c,o,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function MM(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function wM(s,o,c,d){return-1===c?function p0(s,o){return 11&s.type?Vc(s,o):4&s.type?d0(s,o):null}(o,s):-2===c?function xM(s,o,c){return c===_a?Vc(o,s):c===W4?d0(o,s):c===f0?ag(o,s):void 0}(s,o,d):Bi(s,s[1],c,o)}function ug(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=c.matches,b=[];for(let w=0;w<y.length;w+=2){const E=y[w];b.push(E<0?null:wM(o,p[E],y[w+1],c.metadata.read))}h.matches=b}return h.matches}function g0(s,o,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const y=ug(s,o,h,c);for(let b=0;b<p.length;b+=2){const w=p[b];if(w>0)d.push(y[b/2]);else{const E=p[b+1],V=o[-w];for(let R=10;R<V.length;R++){const q=V[R];q[17]===q[3]&&g0(q[1],q,E,d)}if(null!==V[9]){const R=V[9];for(let q=0;q<R.length;q++){const te=R[q];g0(te[1],te,E,d)}}}}}return d}function dg(s){const o=Te(),c=Zt(),d=Ns();ea(d+1);const h=Od(c,d);if(s.dirty&&function Ko(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?g0(c,o,d,[]):ug(c,o,h,d);s.reset(p,N7),s.notifyOnChanges()}return!0}return!1}function fg(s,o,c){const d=Zt();d.firstCreatePass&&(pg(d,new lg(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),Rd(d,Te(),o)}function kd(s,o,c,d){const h=Zt();if(h.firstCreatePass){const p=sr();pg(h,new lg(o,c,d),p.index),function SM(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Rd(h,Te(),c)}function hg(){return function DM(s,o){return s[19].queries[o].queryList}(Te(),Ns())}function Rd(s,o,c){const d=new u0(4==(4&c));Lh(s,o,d,d.destroy),null===o[19]&&(o[19]=new Hd),o[19].queries.push(new h0(d))}function pg(s,o,c){null===s.queries&&(s.queries=new Ld),s.queries.track(new zd(o,c))}function Od(s,o){return s.queries.getByIndex(o)}function gg(s,o){return d0(s,o)}function _0(...s){}const kg=new En("Application Initializer");let C0=(()=>{class s{constructor(c){this.appInits=c,this.resolve=_0,this.reject=_0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(W8(p))c.push(p);else if(p9(p)){const y=new Promise((b,w)=>{p.subscribe({complete:b,error:w})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Yt(kg,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Gd=new En("AppId",{providedIn:"root",factory:function Rg(){return`${jd()}${jd()}${jd()}`}});function jd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $d=new En("Platform Initializer"),WM=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wd=new En("appBootstrapListener");let qM=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const b0=new En("LocaleId",{providedIn:"root",factory:()=>wn(b0,tt.Optional|tt.SkipSelf)||function ZM(){return typeof $localize<"u"&&$localize.locale||r3}()}),YM=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Og{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let QM=(()=>{class s{compileModuleSync(c){return new Ad(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=$s(lt(c).declarations).reduce((y,b)=>{const w=T(b);return w&&y.push(new z4(w)),y},[]);return new Og(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const XM=(()=>Promise.resolve(0))();function Zd(s){typeof Zone>"u"?XM.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class j2{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ds(!1),this.onMicrotaskEmpty=new ds(!1),this.onStable=new ds(!1),this.onError=new ds(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Bg(){let s=Vt.requestAnimationFrame,o=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function tw(s){const o=()=>{!function Ug(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Vt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,M0(s),s.isCheckStableRunning=!0,Yd(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),M0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,b)=>{try{return Gg(s),c.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Kd(s)}},onInvoke:(c,d,h,p,y,b,w)=>{try{return Gg(s),c.invoke(h,p,y,b,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),Kd(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,M0(s),Yd(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!j2.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(j2.isInAngularZone())throw new xe(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,ew,_0,_0);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const ew={};function Yd(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function M0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Gg(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Kd(s){s._nesting--,Yd(s)}class nw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ds,this.onMicrotaskEmpty=new ds,this.onStable=new ds,this.onError=new ds}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const jg=new En(""),$g=new En("");let Qd,rw=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qd||(function qg(s){Qd=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{j2.assertNotInAngularZone(),Zd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zd(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Yt(j2),Yt(Wg),Yt($g))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),Wg=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Qd?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ho=null;const Zg=new En("AllowMultipleToken"),Jd=new En("PlatformDestroyListeners");class Yg{constructor(o,c){this.name=o,this.token=c}}function Jg(s,o,c=[]){const d=`Platform: ${o}`,h=new En(d);return(p=[])=>{let y=Xd();if(!y||y.injector.get(Zg,!1)){const b=[...c,...p,{provide:h,useValue:!0}];s?s(b):function ow(s){if(Ho&&!Ho.get(Zg,!1))throw new xe(400,!1);Ho=s;const o=s.get(nm);(function Qg(s){const o=s.get($d,null);o&&o.forEach(c=>c())})(s)}(function em(s=[],o){return Eo.create({name:o,providers:[{provide:l6,useValue:"platform"},{provide:Jd,useValue:new Set([()=>Ho=null])},...s]})}(b,d))}return function Xg(s){const o=Xd();if(!o)throw new xe(401,!1);return o}()}}function Xd(){return Ho?.get(nm)??null}let nm=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function rm(s,o){let c;return c="noop"===s?new nw:("zone.js"===s?void 0:s)||new j2(o),c}(d?.ngZone,function ef(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:j2,useValue:h}];return h.run(()=>{const y=Eo.create({providers:p,parent:this.injector,name:c.moduleType.name}),b=c.create(y),w=b.injector.get(M4,null);if(!w)throw new xe(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:V=>{w.handleError(V)}});b.onDestroy(()=>{x0(this._modules,b),E.unsubscribe()})}),function im(s,o,c){try{const d=c();return W8(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(w,h,()=>{const E=b.injector.get(C0);return E.runInitializers(),E.donePromise.then(()=>(cp(b.injector.get(b0,r3)||r3),this._moduleDoBootstrap(b),b))})})}bootstrapModule(c,d=[]){const h=tf({},d);return function iw(s,o,c){const d=new Ad(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(w0);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new xe(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Jd,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Yt(Eo))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function tf(s,o){return Array.isArray(o)?o.reduce(tf,s):{...s,...o}}let w0=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new H.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new H.y(b=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{j2.assertNotInAngularZone(),Zd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{j2.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{w.unsubscribe(),E.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Ou;if(!this._injector.get(C0).done)throw!h&&ze(c),new xe(405,false);let y;y=h?c:this._injector.get(ya).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const b=function sw(s){return s.isBoundToModule}(y)?void 0:this._injector.get(o3),E=y.create(Eo.NULL,[],d||y.selector,b),V=E.location.nativeElement,R=E.injector.get(jg,null);return R?.registerApplication(V),E.onDestroy(()=>{this.detachView(E.hostView),x0(this.components,E),R?.unregisterApplication(V)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;x0(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Wd,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>x0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new xe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Yt(j2),Yt(os),Yt(M4))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function x0(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let om=!0,am=!1;function cw(){return am=!0,om}function lw(){if(am)throw new Error("Cannot enable prod mode after platform setup.");om=!1}let dw=(()=>{class s{}return s.__NG_ELEMENT_ID__=fw,s})();function fw(s){return function cm(s,o,c){if(so(s)&&!c){const d=on(s.index,o);return new L4(d,d)}return 47&s.type?new L4(o[16],o):null}(sr(),Te(),16==(16&s))}class um{constructor(){}supports(o){return qc(o)}create(o){return new dm(o)}}const Cw=(s,o)=>o;class dm{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Cw}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<hm(d,h,p)?c:d,b=hm(y,h,p),w=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const E=b-h,V=w-h;if(E!=V){for(let q=0;q<E;q++){const te=q<p.length?p[q]:p[q]=0,we=te+q;V<=we&&we<E&&(p[q]=te+1)}p[y.previousIndex]=V-E}}b!==w&&o(y,b,w)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!qc(o))throw new xe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,b)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,b),d=!0),c=c._next}else h=0,function EC(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[xa()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,b=>{y=this._trackByFn(h,b),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,b,y,h)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,h)):o=this._addAfter(new bw(c,d),p,h),o}_verifyReinsertion(o,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new fm),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bw{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class fm{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new Mw,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hm(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class cf{constructor(){}supports(o){return o instanceof Map||$6(o)}create(){return new ww}}class ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||$6(o)))throw new xe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new xw(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class xw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pm(){return new lf([new um])}let lf=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||pm()),deps:[[s,new yt,new Ce]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new xe(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:pm}),s})();function gm(){return new uf([new cf])}let uf=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||gm()),deps:[[s,new yt,new Ce]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new xe(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:gm}),s})();const Aw=Jg(null,"core",[]);let Ew=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Yt(w0))},s.\u0275mod=en({type:s}),s.\u0275inj=Ut({}),s})();function mm(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Nw(s,o){const c=T(s),d=o.elementInjector||f6();return new z4(c).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(pt,Ae,k)=>{k.d(Ae,{Z:()=>xe});var l=k(2090),U=k(4859),H=k(9681),se=k(1877);class ce{constructor(be,ge){this._delegate=be,this.firebase=ge,(0,H._addComponent)(be,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(be,ge=H._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(be);return!et.isInitialized()&&"EXPLICIT"===(null===(nt=et.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&et.initialize(),et.getImmediate({identifier:ge})}_removeServiceInstance(be,ge=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ge)}_addComponent(be){(0,H._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,H._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ye(){const at=function he(at){const be={},ge={__esModule:!0,initializeApp:function ke(ie,de={}){const _e=H.initializeApp(ie,de);if((0,l.r3)(be,_e.name))return be[_e.name];const Q=new at(_e,ge);return be[_e.name]=Q,Q},app:et,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Me(ie){const de=ie.name,_e=de.replace("-compat","");if(H._registerComponent(ie)&&"PUBLIC"===ie.type){const Q=(X=et())=>{if("function"!=typeof X[_e])throw le.create("invalid-app-argument",{appName:de});return X[_e]()};void 0!==ie.serviceProps&&(0,l.ZB)(Q,ie.serviceProps),ge[_e]=Q,at.prototype[_e]=function(...X){return this._getService.bind(this,de).apply(this,ie.multipleInstances?X:[])}}return"PUBLIC"===ie.type?ge[_e]:null},removeApp:function nt(ie){delete be[ie]},useAsService:function Ye(ie,de){return"serverAuth"===de?null:de},modularAPIs:H}};function et(ie){if(!(0,l.r3)(be,ie=ie||H._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:ie});return be[ie]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Ve(){return Object.keys(be).map(ie=>be[ie])}}),et.App=at,ge}(ce);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function be(ge){(0,l.ZB)(at,ge)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),at}(),j=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=W;!function Le(at){(0,H.registerVersion)("@firebase/app-compat","0.1.37",at)}()},9681:(pt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>dn,_clearComponents:()=>Oi,_components:()=>xn,_getProvider:()=>Ut,_registerComponent:()=>qt,_removeServiceInstance:()=>Lr,deleteApp:()=>Ji,getApp:()=>qn,getApps:()=>Ai,initializeApp:()=>$r,onLog:()=>Zn,registerVersion:()=>nr,setLogLevel:()=>Cn});var l=k(5861),U=k(4859),H=k(1877),se=k(2090),ce=k(8766);class me{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function le(it){return"VERSION"===it.getComponent()?.type}(st)){const xt=st.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(st=>st).join(" ")}}const he="@firebase/app",W=new H.Yd("@firebase/app"),Gt="[DEFAULT]",Ke={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,xn=new Map;function nn(it,Se){try{it.container.addComponent(Se)}catch(st){W.debug(`Component ${Se.name} failed to register with FirebaseApp ${it.name}`,st)}}function rn(it,Se){it.container.addOrOverwriteComponent(Se)}function qt(it){const Se=it.name;if(xn.has(Se))return W.debug(`There were multiple attempts to register component ${Se}.`),!1;xn.set(Se,it);for(const st of dn.values())nn(st,it);return!0}function Ut(it,Se){const st=it.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),it.container.getProvider(Se)}function Lr(it,Se,st=Gt){Ut(it,Se).clearInstance(st)}function Oi(){xn.clear()}const Rn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ki{constructor(Se,st,xt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Qi="9.12.1";function $r(it,Se={}){let st=it;"object"!=typeof Se&&(Se={name:Se});const xt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},Se),St=xt.name;if("string"!=typeof St||!St)throw Rn.create("bad-app-name",{appName:String(St)});if(st||(st=(0,se.aH)()),!st)throw Rn.create("no-options");const en=dn.get(St);if(en){if((0,se.vZ)(st,en.options)&&(0,se.vZ)(xt,en.config))return en;throw Rn.create("duplicate-app",{appName:St})}const $=new U.H0(St);for(const Z of xn.values())$.addComponent(Z);const G=new Ki(st,xt,$);return dn.set(St,G),G}function qn(it=Gt){const Se=dn.get(it);if(!Se&&it===Gt)return $r();if(!Se)throw Rn.create("no-app",{appName:it});return Se}function Ai(){return Array.from(dn.values())}function Ji(it){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(it){const Se=it.name;dn.has(Se)&&(dn.delete(Se),yield Promise.all(it.container.getProviders().map(st=>st.delete())),it.isDeleted=!0)})).apply(this,arguments)}function nr(it,Se,st){var xt;let St=null!==(xt=Ke[it])&&void 0!==xt?xt:it;st&&(St+=`-${st}`);const en=St.match(/\s|\//),$=Se.match(/\s|\//);if(en||$){const G=[`Unable to register library "${St}" with version "${Se}":`];return en&&G.push(`library name "${St}" contains illegal characters (whitespace or "/")`),en&&$&&G.push("and"),$&&G.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void W.warn(G.join(" "))}qt(new U.wA(`${St}-version`,()=>({library:St,version:Se}),"VERSION"))}function Zn(it,Se){if(null!==it&&"function"!=typeof it)throw Rn.create("invalid-log-argument");(0,H.Am)(it,Se)}function Cn(it){(0,H.Ub)(it)}const Dn="firebase-heartbeat-store";let Sn=null;function yn(){return Sn||(Sn=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(it,Se)=>{0===Se&&it.createObjectStore(Dn)}}).catch(it=>{throw Rn.create("idb-open",{originalErrorMessage:it.message})})),Sn}function vt(){return(vt=(0,l.Z)(function*(it){var Se;try{return(yield yn()).transaction(Dn).objectStore(Dn).get(rr(it))}catch(st){if(st instanceof se.ZR)W.warn(st.message);else{const xt=Rn.create("idb-get",{originalErrorMessage:null===(Se=st)||void 0===Se?void 0:Se.message});W.warn(xt.message)}}})).apply(this,arguments)}function Vt(it,Se){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(it,Se){var st;try{const St=(yield yn()).transaction(Dn,"readwrite");return yield St.objectStore(Dn).put(Se,rr(it)),St.done}catch(xt){if(xt instanceof se.ZR)W.warn(xt.message);else{const St=Rn.create("idb-set",{originalErrorMessage:null===(st=xt)||void 0===st?void 0:st.message});W.warn(St.message)}}})).apply(this,arguments)}function rr(it){return`${it.name}!${it.options.appId}`}class Wr{constructor(Se){this.container=Se,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Qt(st),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Se=this;return(0,l.Z)(function*(){const xt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Ft();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==St&&!Se._heartbeatsCache.heartbeats.some(en=>en.date===St))return Se._heartbeatsCache.heartbeats.push({date:St,agent:xt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(en=>{const $=new Date(en.date).valueOf();return Date.now()-$<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,l.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const st=Ft(),{heartbeatsToSend:xt,unsentEntries:St}=function ui(it,Se=1024){const st=[];let xt=it.slice();for(const St of it){const en=st.find($=>$.agent===St.agent);if(en){if(en.dates.push(St.date),hr(st)>Se){en.dates.pop();break}}else if(st.push({agent:St.agent,dates:[St.date]}),hr(st)>Se){st.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:st,unsentEntries:xt}}(Se._heartbeatsCache.heartbeats),en=(0,se.L)(JSON.stringify({version:2,heartbeats:xt}));return Se._heartbeatsCache.lastSentHeartbeatDate=st,St.length>0?(Se._heartbeatsCache.heartbeats=St,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),en})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,l.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function mt(it){return vt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var st=this;return(0,l.Z)(function*(){var xt;if(yield st._canUseIndexedDBPromise){const en=yield st.read();return Vt(st.app,{lastSentHeartbeatDate:null!==(xt=Se.lastSentHeartbeatDate)&&void 0!==xt?xt:en.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var st=this;return(0,l.Z)(function*(){var xt;if(yield st._canUseIndexedDBPromise){const en=yield st.read();return Vt(st.app,{lastSentHeartbeatDate:null!==(xt=Se.lastSentHeartbeatDate)&&void 0!==xt?xt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...Se.heartbeats]})}})()}}function hr(it){return(0,se.L)(JSON.stringify({version:2,heartbeats:it})).length}!function In(it){qt(new U.wA("platform-logger",Se=>new me(Se),"PRIVATE")),qt(new U.wA("heartbeat",Se=>new Wr(Se),"PRIVATE")),nr(he,"0.8.2",it),nr(he,"0.8.2","esm2017"),nr("fire-js","")}("")},4859:(pt,Ae,k)=>{k.d(Ae,{H0:()=>he,wA:()=>H});var l=k(5861),U=k(2090);class H{constructor(W,j,J){this.name=W,this.instanceFactory=j,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ce{constructor(W,j){this.name=W,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const j=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(j)){const J=new U.BH;if(this.instancesDeferred.set(j,J),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:j});Ue&&J.resolve(Ue)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(W){var j;const J=this.normalizeInstanceIdentifier(W?.identifier),Ue=null!==(j=W?.optional)&&void 0!==j&&j;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Le){if(Ue)return null;throw Le}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function le(ye){return"EAGER"===ye.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,J]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(j);try{const Le=this.getOrInitializeService({instanceIdentifier:Ue});J.resolve(Le)}catch{}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const j=Array.from(W.instances.values());yield Promise.all([...j.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...j.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:j={}}=W,J=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:J,options:j});for(const[Le,xe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Le)&&xe.resolve(Ue);return Ue}onInit(W,j){var J;const Ue=this.normalizeInstanceIdentifier(j),Le=null!==(J=this.onInitCallbacks.get(Ue))&&void 0!==J?J:new Set;Le.add(W),this.onInitCallbacks.set(Ue,Le);const xe=this.instances.get(Ue);return xe&&W(xe,Ue),()=>{Le.delete(W)}}invokeOnInitCallbacks(W,j){const J=this.onInitCallbacks.get(j);if(J)for(const Ue of J)try{Ue(W,j)}catch{}}getOrInitializeService({instanceIdentifier:W,options:j={}}){let J=this.instances.get(W);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=W,ye===se?void 0:ye),options:j}),this.instances.set(W,J),this.instancesOptions.set(W,j),this.invokeOnInitCallbacks(J,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,J)}catch{}var ye;return J||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const j=this.getProvider(W.name);if(j.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);j.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const j=new ce(W,this);return this.providers.set(W,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ae,k)=>{k.d(Ae,{Am:()=>ye,Ub:()=>he,Yd:()=>le,in:()=>U});const l=[];var U=(()=>{return(W=U||(U={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",U;var W})();const H={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},se=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},me=(W,j,...J)=>{if(j<W.logLevel)return;const Ue=(new Date).toISOString(),Le=ce[j];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Le](`[${Ue}]  ${W.name}:`,...J)};class le{constructor(j){this.name=j,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in U))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?H[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...j),this._logHandler(this,U.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...j),this._logHandler(this,U.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,U.INFO,...j),this._logHandler(this,U.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,U.WARN,...j),this._logHandler(this,U.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...j),this._logHandler(this,U.ERROR,...j)}}function he(W){l.forEach(j=>{j.setLogLevel(W)})}function ye(W,j){for(const J of l){let Ue=null;j&&j.level&&(Ue=H[j.level]),J.userLogHandler=null===W?null:(Le,xe,...at)=>{const be=at.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");xe>=(Ue??Le.logLevel)&&W({level:U[xe].toLowerCase(),message:be,args:at,type:Le.name})}}}},8766:(pt,Ae,k)=>{k.d(Ae,{Lj:()=>ke,X3:()=>et});var l=k(5861);let H,se;const le=new WeakMap,he=new WeakMap,ye=new WeakMap,W=new WeakMap,j=new WeakMap;let Le={get(de,_e,Q){if(de instanceof IDBTransaction){if("done"===_e)return he.get(de);if("objectStoreNames"===_e)return de.objectStoreNames||ye.get(de);if("store"===_e)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ge(de[_e])},set:(de,_e,Q)=>(de[_e]=Q,!0),has:(de,_e)=>de instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in de};function be(de){return"function"==typeof de?function at(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(..._e){return de.apply(nt(this),_e),ge(le.get(this))}:function(..._e){return ge(de.apply(nt(this),_e))}:function(_e,...Q){const X=de.call(nt(this),_e,...Q);return ye.set(X,_e.sort?_e.sort():[_e]),ge(X)}}(de):(de instanceof IDBTransaction&&function Ue(de){if(he.has(de))return;const _e=new Promise((Q,X)=>{const pe=()=>{de.removeEventListener("complete",oe),de.removeEventListener("error",Fe),de.removeEventListener("abort",Fe)},oe=()=>{Q(),pe()},Fe=()=>{X(de.error||new DOMException("AbortError","AbortError")),pe()};de.addEventListener("complete",oe),de.addEventListener("error",Fe),de.addEventListener("abort",Fe)});he.set(de,_e)}(de),((de,_e)=>_e.some(Q=>de instanceof Q))(de,function ce(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Le):de)}function ge(de){if(de instanceof IDBRequest)return function J(de){const _e=new Promise((Q,X)=>{const pe=()=>{de.removeEventListener("success",oe),de.removeEventListener("error",Fe)},oe=()=>{Q(ge(de.result)),pe()},Fe=()=>{X(de.error),pe()};de.addEventListener("success",oe),de.addEventListener("error",Fe)});return _e.then(Q=>{Q instanceof IDBCursor&&le.set(Q,de)}).catch(()=>{}),j.set(_e,de),_e}(de);if(W.has(de))return W.get(de);const _e=be(de);return _e!==de&&(W.set(de,_e),j.set(_e,de)),_e}const nt=de=>j.get(de);function et(de,_e,{blocked:Q,upgrade:X,blocking:pe,terminated:oe}={}){const Fe=indexedDB.open(de,_e),Be=ge(Fe);return X&&Fe.addEventListener("upgradeneeded",Ct=>{X(ge(Fe.result),Ct.oldVersion,Ct.newVersion,ge(Fe.transaction))}),Q&&Fe.addEventListener("blocked",()=>Q()),Be.then(Ct=>{oe&&Ct.addEventListener("close",()=>oe()),pe&&Ct.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Be}function ke(de,{blocked:_e}={}){const Q=indexedDB.deleteDatabase(de);return _e&&Q.addEventListener("blocked",()=>_e()),ge(Q).then(()=>{})}const Ve=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Ye=new Map;function ie(de,_e){if(!(de instanceof IDBDatabase)||_e in de||"string"!=typeof _e)return;if(Ye.get(_e))return Ye.get(_e);const Q=_e.replace(/FromIndex$/,""),X=_e!==Q,pe=Me.includes(Q);if(!(Q in(X?IDBIndex:IDBObjectStore).prototype)||!pe&&!Ve.includes(Q))return;const oe=function(){var Fe=(0,l.Z)(function*(Be,...Ct){const sn=this.transaction(Be,pe?"readwrite":"readonly");let Gt=sn.store;return X&&(Gt=Gt.index(Ct.shift())),(yield Promise.all([Gt[Q](...Ct),pe&&sn.done]))[0]});return function(Ct){return Fe.apply(this,arguments)}}();return Ye.set(_e,oe),oe}!function xe(de){Le=de(Le)}(de=>({...de,get:(_e,Q,X)=>ie(_e,Q)||de.get(_e,Q,X),has:(_e,Q)=>!!ie(_e,Q)||de.has(_e,Q)}))},5861:(pt,Ae,k)=>{function l(H,se,ce,me,le,he,ye){try{var W=H[he](ye),j=W.value}catch(J){return void ce(J)}W.done?se(j):Promise.resolve(j).then(me,le)}function U(H){return function(){var se=this,ce=arguments;return new Promise(function(me,le){var he=H.apply(se,ce);function ye(j){l(he,me,le,ye,W,"next",j)}function W(j){l(he,me,le,ye,W,"throw",j)}ye(void 0)})}}k.d(Ae,{Z:()=>U})}},pt=>{pt(pt.s=6533)}]);